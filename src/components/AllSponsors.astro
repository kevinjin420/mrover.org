---
import sponsors from '../data/sponsors.json';

// Separate sponsors by level
const platinumSponsors = sponsors.filter(sponsor => sponsor.level >= 4);
const goldSponsors = sponsors.filter(sponsor => sponsor.level === 3);
const silverSponsors = sponsors.filter(sponsor => sponsor.level === 2);
const bronzeSponsors = sponsors.filter(sponsor => sponsor.level === 1);

const sponsorTiers = [
  { name: 'Platinum Sponsors', sponsors: platinumSponsors },
  { name: 'Gold Sponsors', sponsors: goldSponsors },
  { name: 'Silver Sponsors', sponsors: silverSponsors },
  { name: 'Bronze Sponsors', sponsors: bronzeSponsors }
];
---

{sponsorTiers.map(tier => (
  tier.sponsors.length > 0 && (
    <div class="mb-8">
      <div class="w-full bg-text py-4 mb-8">
        <h3 class="text-3xl md:text-4xl text-center uppercase text-white font-bold">{tier.name}</h3>
      </div>
      <div class="flex flex-wrap justify-center items-center gap-8 mx-auto max-w-6xl px-6">
        {tier.sponsors.map(sponsor => (
          <div class="w-32 md:w-40 flex-shrink-0">
            <a href={sponsor.rurl} target="_blank" rel="noopener noreferrer" class="block hover:opacity-75 transition-opacity">
              <img src={`/${sponsor.image_path}`} alt={`${sponsor.name} logo`} class="w-full h-auto" />
            </a>
          </div>
        ))}
      </div>
    </div>
  )
))}

<!-- Donors -->
<div class="w-full bg-text py-4">
  <h3 class="text-3xl md:text-4xl text-center uppercase text-white font-bold">Donors</h3>
</div>
