import{j as Z,W as lm,R as rm,O as ns,P as as,S as Mo,b as kr,V as om,c as um,B as cm,d as fm,e as jo,f as Kt,N as Ad,g as vd,h as Mf,C as Nt,i as dm,k as Ws,l as Ne,m as Me,n as hm,T as pm,o as Zi,p as Io,q as mm,r as bo,s as Bd,t as Ro,Q as sl,M as Za,u as qa,v as Am,w as vm,x as Ed,y as Vs,F as il,z as wt,E as Bm,H as Em,D as Cm,I as ll,J as gm,K as ym,X as Cd,Y as Sm,Z as Tm,_ as ma,$ as Mm,a0 as gd,a1 as bm,a2 as Rm,a3 as Dm,a4 as ls,a5 as ks,a6 as Do,a7 as Gm,a8 as Hm,a9 as Om,aa as Zs,ab as _m,ac as hl,ad as Ys,ae as Ps,af as Nm,ag as Ko,ah as xm,ai as pl,aj as Um,ak as Fm,al as Lm,am as zm,a as $r,an as Jm,ao as jm,ap as Im,aq as Km,ar as Qm,as as yd,at as Xm,au as rl,av as bf,aw as Rf,ax as Df,ay as Sd,az as Ym,aA as Pm,aB as Vm,aC as Zm,aD as ni,aE as qm,aF as wm,aG as Wm,aH as km,aI as os,aJ as $m,aK as eA,aL as us,aM as Qo,aN as Td,aO as qi,aP as Xo,aQ as Ze,aR as tA,aS as nA,G as aA,aT as sA,U as iA}from"./lil-gui.esm.CyoEmL5V.js";import{u as $s}from"./store.BY4-JZ-6.js";import{a as Yo,g as Md,e as $a,r as U}from"./index.BDe0eYEM.js";import{L as lA}from"./lenis.Dhw3rTjO.js";import{g as wi}from"./index.DKtf60Sy.js";import{S as eo}from"./ScrollTrigger.BWsqEc1I.js";var to={exports:{}},pn={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function rA(){return Gf||(Gf=1,pn.ConcurrentRoot=1,pn.ContinuousEventPriority=8,pn.DefaultEventPriority=32,pn.DiscreteEventPriority=2,pn.IdleEventPriority=268435456,pn.LegacyRoot=0,pn.NoEventPriority=0),pn}var Hf;function oA(){return Hf||(Hf=1,to.exports=rA()),to.exports}var nl=oA(),no={exports:{}},ao={},so={exports:{}},io={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of;function uA(){if(Of)return io;Of=1;var s=Yo();function a(v,E){return v===E&&(v!==0||1/v===1/E)||v!==v&&E!==E}var l=typeof Object.is=="function"?Object.is:a,r=s.useState,u=s.useEffect,f=s.useLayoutEffect,d=s.useDebugValue;function p(v,E){var C=E(),R=r({inst:{value:C,getSnapshot:E}}),G=R[0].inst,O=R[1];return f(function(){G.value=C,G.getSnapshot=E,h(G)&&O({inst:G})},[v,C,E]),u(function(){return h(G)&&O({inst:G}),v(function(){h(G)&&O({inst:G})})},[v]),d(C),C}function h(v){var E=v.getSnapshot;v=v.value;try{var C=E();return!l(v,C)}catch{return!0}}function m(v,E){return E()}var B=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:p;return io.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:B,io}var _f;function cA(){return _f||(_f=1,so.exports=uA()),so.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf;function fA(){if(Nf)return ao;Nf=1;var s=Yo(),a=cA();function l(m,B){return m===B&&(m!==0||1/m===1/B)||m!==m&&B!==B}var r=typeof Object.is=="function"?Object.is:l,u=a.useSyncExternalStore,f=s.useRef,d=s.useEffect,p=s.useMemo,h=s.useDebugValue;return ao.useSyncExternalStoreWithSelector=function(m,B,v,E,C){var R=f(null);if(R.current===null){var G={hasValue:!1,value:null};R.current=G}else G=R.current;R=p(function(){function S(F){if(!y){if(y=!0,_=F,F=E(F),C!==void 0&&G.hasValue){var W=G.value;if(C(W,F))return x=W}return x=F}if(W=x,r(_,F))return W;var P=E(F);return C!==void 0&&C(W,P)?(_=F,W):(_=F,x=P)}var y=!1,_,x,L=v===void 0?null:v;return[function(){return S(B())},L===null?void 0:function(){return S(L())}]},[B,v,E,C]);var O=u(m,R[0],R[1]);return d(function(){G.hasValue=!0,G.value=O},[O]),h(O),O},ao}var xf;function dA(){return xf||(xf=1,no.exports=fA()),no.exports}var hA=dA();const pA=Md(hA),Uf=s=>{let a;const l=new Set,r=(m,B)=>{const v=typeof m=="function"?m(a):m;if(!Object.is(v,a)){const E=a;a=B??(typeof v!="object"||v===null)?v:Object.assign({},a,v),l.forEach(C=>C(a,E))}},u=()=>a,p={setState:r,getState:u,getInitialState:()=>h,subscribe:m=>(l.add(m),()=>l.delete(m))},h=a=s(r,u,p);return p},mA=(s=>s?Uf(s):Uf),{useSyncExternalStoreWithSelector:AA}=pA,vA=s=>s;function BA(s,a=vA,l){const r=AA(s.subscribe,s.getState,s.getInitialState,a,l);return $a.useDebugValue(r),r}const Ff=(s,a)=>{const l=mA(s),r=(u,f=a)=>BA(l,u,f);return Object.assign(r,l),r},EA=((s,a)=>s?Ff(s,a):Ff),CA=s=>typeof s=="object"&&typeof s.then=="function",ha=[];function bd(s,a,l=(r,u)=>r===u){if(s===a)return!0;if(!s||!a)return!1;const r=s.length;if(a.length!==r)return!1;for(let u=0;u<r;u++)if(!l(s[u],a[u]))return!1;return!0}function Rd(s,a=null,l=!1,r={}){a===null&&(a=[s]);for(const f of ha)if(bd(a,f.keys,f.equal)){if(l)return;if(Object.prototype.hasOwnProperty.call(f,"error"))throw f.error;if(Object.prototype.hasOwnProperty.call(f,"response"))return r.lifespan&&r.lifespan>0&&(f.timeout&&clearTimeout(f.timeout),f.timeout=setTimeout(f.remove,r.lifespan)),f.response;if(!l)throw f.promise}const u={keys:a,equal:r.equal,remove:()=>{const f=ha.indexOf(u);f!==-1&&ha.splice(f,1)},promise:(CA(s)?s:s(...a)).then(f=>{u.response=f,r.lifespan&&r.lifespan>0&&(u.timeout=setTimeout(u.remove,r.lifespan))}).catch(f=>u.error=f)};if(ha.push(u),!l)throw u.promise}const gA=(s,a,l)=>Rd(s,a,!1,l),yA=(s,a,l)=>void Rd(s,a,!0,l),SA=s=>{if(s===void 0||s.length===0)ha.splice(0,ha.length);else{const a=ha.find(l=>bd(s,l.keys,l.equal));a&&a.remove()}};var lo={exports:{}},ro={exports:{}},oo={exports:{}},uo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function TA(){return Lf||(Lf=1,(function(s){function a(K,V){var q=K.length;K.push(V);e:for(;0<q;){var ne=q-1>>>1,fe=K[ne];if(0<u(fe,V))K[ne]=V,K[q]=fe,q=ne;else break e}}function l(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var V=K[0],q=K.pop();if(q!==V){K[0]=q;e:for(var ne=0,fe=K.length,le=fe>>>1;ne<le;){var Ae=2*(ne+1)-1,Oe=K[Ae],ve=Ae+1,qe=K[ve];if(0>u(Oe,q))ve<fe&&0>u(qe,Oe)?(K[ne]=qe,K[ve]=q,ne=ve):(K[ne]=Oe,K[Ae]=q,ne=Ae);else if(ve<fe&&0>u(qe,q))K[ne]=qe,K[ve]=q,ne=ve;else break e}}return V}function u(K,V){var q=K.sortIndex-V.sortIndex;return q!==0?q:K.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var h=[],m=[],B=1,v=null,E=3,C=!1,R=!1,G=!1,O=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function _(K){for(var V=l(m);V!==null;){if(V.callback===null)r(m);else if(V.startTime<=K)r(m),V.sortIndex=V.expirationTime,a(h,V);else break;V=l(m)}}function x(K){if(G=!1,_(K),!R)if(l(h)!==null)R=!0,me();else{var V=l(m);V!==null&&De(x,V.startTime-K)}}var L=!1,F=-1,W=5,P=-1;function Y(){return!(s.unstable_now()-P<W)}function j(){if(L){var K=s.unstable_now();P=K;var V=!0;try{e:{R=!1,G&&(G=!1,S(F),F=-1),C=!0;var q=E;try{t:{for(_(K),v=l(h);v!==null&&!(v.expirationTime>K&&Y());){var ne=v.callback;if(typeof ne=="function"){v.callback=null,E=v.priorityLevel;var fe=ne(v.expirationTime<=K);if(K=s.unstable_now(),typeof fe=="function"){v.callback=fe,_(K),V=!0;break t}v===l(h)&&r(h),_(K)}else r(h);v=l(h)}if(v!==null)V=!0;else{var le=l(m);le!==null&&De(x,le.startTime-K),V=!1}}break e}finally{v=null,E=q,C=!1}V=void 0}}finally{V?te():L=!1}}}var te;if(typeof y=="function")te=function(){y(j)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,ee=je.port2;je.port1.onmessage=j,te=function(){ee.postMessage(null)}}else te=function(){O(j,0)};function me(){L||(L=!0,te())}function De(K,V){F=O(function(){K(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_continueExecution=function(){R||C||(R=!0,me())},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_getFirstCallbackNode=function(){return l(h)},s.unstable_next=function(K){switch(E){case 1:case 2:case 3:var V=3;break;default:V=E}var q=E;E=V;try{return K()}finally{E=q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(K,V){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var q=E;E=K;try{return V()}finally{E=q}},s.unstable_scheduleCallback=function(K,V,q){var ne=s.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ne+q:ne):q=ne,K){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=q+fe,K={id:B++,callback:V,priorityLevel:K,startTime:q,expirationTime:fe,sortIndex:-1},q>ne?(K.sortIndex=q,a(m,K),l(h)===null&&K===l(m)&&(G?(S(F),F=-1):G=!0,De(x,q-ne))):(K.sortIndex=fe,a(h,K),R||C||(R=!0,me())),K},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(K){var V=E;return function(){var q=E;E=V;try{return K.apply(this,arguments)}finally{E=q}}}})(uo)),uo}var zf;function Dd(){return zf||(zf=1,oo.exports=TA()),oo.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf;function MA(){return Jf||(Jf=1,(function(s){s.exports=function(a){function l(e,t,n,i){return new Sh(e,t,n,i)}function r(){}function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return e===null||typeof e!="object"?null:(e=Xc&&e[Xc]||e["@@iterator"],typeof e=="function"?e:null)}function d(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Gh?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ga:return"Fragment";case Da:return"Portal";case Er:return"Profiler";case Ic:return"StrictMode";case gr:return"Suspense";case yr:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gn:return(e.displayName||"Context")+".Provider";case Kc:return(e._context.displayName||"Context")+".Consumer";case Cr:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sr:return t=e.displayName||null,t!==null?t:d(e.type)||"Memo";case Hn:t=e._payload,e=e._init;try{return d(e(t))}catch{}}return null}function p(e){if(Tr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tr=t&&t[1]||"",Yc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tr+e+Yc}function h(e,t){if(!e||Mr)return"";Mr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(ie){var X=ie}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(ie){X=ie}e.call(Q.prototype)}}else{try{throw Error()}catch(ie){X=ie}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(ie){if(ie&&X&&typeof ie.stack=="string")return[ie.stack,X.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=i.DetermineComponentFrameRoot(),A=c[0],g=c[1];if(A&&g){var b=A.split(`
`),N=g.split(`
`);for(o=i=0;i<b.length&&!b[i].includes("DetermineComponentFrameRoot");)i++;for(;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;if(i===b.length||o===N.length)for(i=b.length-1,o=N.length-1;1<=i&&0<=o&&b[i]!==N[o];)o--;for(;1<=i&&0<=o;i--,o--)if(b[i]!==N[o]){if(i!==1||o!==1)do if(i--,o--,0>o||b[i]!==N[o]){var J=`
`+b[i].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=i&&0<=o);break}}}finally{Mr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?p(n):""}function m(e){switch(e.tag){case 26:case 27:case 5:return p(e.type);case 16:return p("Lazy");case 13:return p("Suspense");case 19:return p("SuspenseList");case 0:case 15:return e=h(e.type,!1),e;case 11:return e=h(e.type.render,!1),e;case 1:return e=h(e.type,!0),e;default:return""}}function B(e){try{var t="";do t+=m(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function v(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function E(e){if(v(e)!==e)throw Error(u(188))}function C(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var c=o.alternate;if(c===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===n)return E(o),e;if(c===i)return E(o),t;c=c.sibling}throw Error(u(188))}if(n.return!==i.return)n=o,i=c;else{for(var A=!1,g=o.child;g;){if(g===n){A=!0,n=o,i=c;break}if(g===i){A=!0,i=o,n=c;break}g=g.sibling}if(!A){for(g=c.child;g;){if(g===n){A=!0,n=c,i=o;break}if(g===i){A=!0,i=c,n=o;break}g=g.sibling}if(!A)throw Error(u(189))}}if(n.alternate!==i)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function R(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R(e),t!==null)return t;e=e.sibling}return null}function G(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(e.tag!==4&&(t=G(e),t!==null))return t;e=e.sibling}return null}function O(e){return{current:e}}function S(e){0>Oa||(e.current=Or[Oa],Or[Oa]=null,Oa--)}function y(e,t){Oa++,Or[Oa]=e.current,e.current=t}function _(e){return e>>>=0,e===0?32:31-(Xp(e)/Yp|0)|0}function x(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function L(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,c=e.pingedLanes,A=e.warmLanes;e=e.finishedLanes!==0;var g=n&134217727;return g!==0?(n=g&~o,n!==0?i=x(n):(c&=g,c!==0?i=x(c):e||(A=g&~A,A!==0&&(i=x(A))))):(g=n&~o,g!==0?i=x(g):c!==0?i=x(c):e||(A=n&~A,A!==0&&(i=x(A)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,A=t&-t,o>=A||o===32&&(A&4194176)!==0)?t:i}function F(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function W(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var e=Di;return Di<<=1,(Di&4194176)===0&&(Di=128),e}function Y(){var e=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),e}function j(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function te(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,t,n,i,o,c){var A=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,b=e.expirationTimes,N=e.hiddenUpdates;for(n=A&~n;0<n;){var J=31-mt(n),Q=1<<J;g[J]=0,b[J]=-1;var X=N[J];if(X!==null)for(N[J]=null,J=0;J<X.length;J++){var ie=X[J];ie!==null&&(ie.lane&=-536870913)}n&=~Q}i!==0&&ee(e,i,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(A&~t))}function ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-mt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194218}function me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-mt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function De(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function K(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Hs,e,void 0,(e.current.flags&128)===128)}catch{}}function V(e){if(typeof wp=="function"&&Wp(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Hs,e)}catch{}}function q(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}function ne(e,t){if(typeof e=="object"&&e!==null){var n=Bf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:B(t)},Bf.set(e,t),t)}return{value:e,source:t,stack:B(t)}}function fe(e,t){Na[xa++]=_i,Na[xa++]=Oi,Oi=e,_i=t}function le(e,t,n){Tt[Mt++]=on,Tt[Mt++]=un,Tt[Mt++]=na,na=e;var i=on;e=un;var o=32-mt(i)-1;i&=~(1<<o),n+=1;var c=32-mt(t)+o;if(30<c){var A=o-o%5;c=(i&(1<<A)-1).toString(32),i>>=A,o-=A,on=1<<32-mt(t)+o|n<<o|i,un=c+e}else on=1<<c|n<<o|i,un=e}function Ae(e){e.return!==null&&(fe(e,1),le(e,1,0))}function Oe(e){for(;e===Oi;)Oi=Na[--xa],Na[xa]=null,_i=Na[--xa],Na[xa]=null;for(;e===na;)na=Tt[--Mt],Tt[Mt]=null,un=Tt[--Mt],Tt[Mt]=null,on=Tt[--Mt],Tt[Mt]=null}function ve(e,t){y(_n,t),y(Os,e),y(We,null),e=_h(t),S(We),y(We,e)}function qe(){S(We),S(Os),S(_n)}function Wt(e){e.memoizedState!==null&&y(Ni,e);var t=We.current,n=Nh(t,e.type);t!==n&&(y(Os,e),y(We,n))}function Ba(e){Os.current===e&&(S(We),S(Os)),Ni.current===e&&(S(Ni),rn?ta._currentValue=Ha:ta._currentValue2=Ha)}function kt(e){var t=Error(u(418,""));throw Bn(ne(t,e)),xr}function ii(e,t){if(!yt)throw Error(u(175));bp(e.stateNode,e.type,e.memoizedProps,t,e)||kt(e)}function li(e){for(at=e.return;at;)switch(at.tag){case 3:case 27:Pt=!0;return;case 5:case 13:Pt=!1;return;default:at=at.return}}function Xn(e){if(!yt||e!==at)return!1;if(!Be)return li(e),Be=!0,!1;var t=!1;if(et?e.tag!==3&&e.tag!==27&&(e.tag!==5||rf(e.type)&&!Ri(e.type,e.memoizedProps))&&(t=!0):e.tag!==3&&(e.tag!==5||rf(e.type)&&!Ri(e.type,e.memoizedProps))&&(t=!0),t&&tt&&kt(e),li(e),e.tag===13){if(!yt)throw Error(u(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));tt=Gp(e)}else tt=at?sf(e.stateNode):null;return!0}function vn(){yt&&(tt=at=null,Be=!1)}function Bn(e){jt===null?jt=[e]:jt.push(e)}function Yn(){for(var e=Ua,t=Ur=Ua=0;t<e;){var n=bt[t];bt[t++]=null;var i=bt[t];bt[t++]=null;var o=bt[t];bt[t++]=null;var c=bt[t];if(bt[t++]=null,i!==null&&o!==null){var A=i.pending;A===null?o.next=o:(o.next=A.next,A.next=o),i.pending=o}c!==0&&hs(n,o,c)}}function Ea(e,t,n,i){bt[Ua++]=e,bt[Ua++]=t,bt[Ua++]=n,bt[Ua++]=i,Ur|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function ds(e,t,n,i){return Ea(e,t,n,i),Pn(e)}function xt(e,t){return Ea(e,null,null,t),Pn(e)}function hs(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,c=e.return;c!==null;)c.childLanes|=n,i=c.alternate,i!==null&&(i.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;o&&t!==null&&e.tag===3&&(c=e.stateNode,o=31-mt(n),c=c.hiddenUpdates,e=c[o],e===null?c[o]=[t]:e.push(t),t.lane=n|536870912)}function Pn(e){if(50<js)throw js=0,Wr=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}function Ct(e){e!==Fa&&e.next===null&&(Fa===null?xi=Fa=e:Fa=Fa.next=e),Ui=!0,Fr||(Fr=!0,vl(ri))}function En(e,t){if(!Lr&&Ui){Lr=!0;do for(var n=!1,i=xi;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var c=0;else{var A=i.suspendedLanes,g=i.pingedLanes;c=(1<<31-mt(42|e)+1)-1,c&=o&~(A&~g),c=c&201326677?c&201326677|1:c?c|2:0}c!==0&&(n=!0,oi(i,c))}else c=pe,c=L(i,i===be?c:0),(c&3)===0||F(i,c)||(n=!0,oi(i,c));i=i.next}while(n);Lr=!1}}function ri(){Ui=Fr=!1;var e=0;La!==0&&(Ih()&&(e=La),La=0);for(var t=Jt(),n=null,i=xi;i!==null;){var o=i.next,c=Ca(i,t);c===0?(i.next=null,n===null?xi=o:n.next=o,o===null&&(Fa=n)):(n=i,(e!==0||(c&3)!==0)&&(Ui=!0)),i=o}En(e)}function Ca(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var A=31-mt(c),g=1<<A,b=o[A];b===-1?((g&n)===0||(g&i)!==0)&&(o[A]=W(g,t)):b<=t&&(e.expiredLanes|=g),c&=~g}if(t=be,n=pe,n=L(e,e===t?n:0),i=e.callbackNode,n===0||e===t&&Re===2||e.cancelPendingCommit!==null)return i!==null&&i!==null&&_r(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||F(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&_r(i),De(n)){case 2:case 8:n=Zp;break;case 32:n=Nr;break;case 268435456:n=qp;break;default:n=Nr}return i=Cn.bind(null,e),n=Hi(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&_r(i),e.callbackPriority=2,e.callbackNode=null,2}function Cn(e,t){var n=e.callbackNode;if(kn()&&e.callbackNode!==n)return null;var i=pe;return i=L(e,e===be?i:0),i===0?null:(Cc(e,i,t),Ca(e,Jt()),e.callbackNode!=null&&e.callbackNode===n?Cn.bind(null,e):null)}function oi(e,t){if(kn())return null;Cc(e,t,!0)}function vl(e){Vh?Zh(function(){(Te&6)!==0?Hi(vf,e):e()}):Hi(vf,e)}function ga(){return La===0&&(La=P()),La}function ps(e,t){if(_s===null){var n=_s=[];zr=0,za=ga(),Ja={status:"pending",value:void 0,then:function(i){n.push(i)}}}return zr++,t.then(ui,ui),t}function ui(){if(--zr===0&&_s!==null){Ja!==null&&(Ja.status="fulfilled");var e=_s;_s=null,za=0,Ja=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bl(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xt(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ut(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Te&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Pn(e),hs(e,null,n),t}return Ea(e,i,t,n),Pn(e)}function $t(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194176)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,me(e,n)}}function M(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var A={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?o=c=A:c=c.next=A,n=n.next}while(n!==null);c===null?o=c=t:c=c.next=t}else o=c=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function I(){if(Jr){var e=Ja;if(e!==null)throw e}}function k(e,t,n,i){Jr=!1;var o=e.updateQueue;Nn=!1;var c=o.firstBaseUpdate,A=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var b=g,N=b.next;b.next=null,A===null?c=N:A.next=N,A=b;var J=e.alternate;J!==null&&(J=J.updateQueue,g=J.lastBaseUpdate,g!==A&&(g===null?J.firstBaseUpdate=N:g.next=N,J.lastBaseUpdate=b))}if(c!==null){var Q=o.baseState;A=0,J=N=b=null,g=c;do{var X=g.lane&-536870913,ie=X!==g.lane;if(ie?(pe&X)===X:(i&X)===X){X!==0&&X===za&&(Jr=!0),J!==null&&(J=J.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Gt=e,Is=g;X=t;var fa=n;switch(Is.tag){case 1:if(Gt=Is.payload,typeof Gt=="function"){Q=Gt.call(fa,Q,X);break e}Q=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Is.payload,X=typeof Gt=="function"?Gt.call(fa,Q,X):Gt,X==null)break e;Q=Br({},Q,X);break e;case 2:Nn=!0}}X=g.callback,X!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=o.callbacks,ie===null?o.callbacks=[X]:ie.push(X))}else ie={lane:X,tag:g.tag,payload:g.payload,callback:g.callback,next:null},J===null?(N=J=ie,b=Q):J=J.next=ie,A|=X;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;ie=g,g=ie.next,ie.next=null,o.lastBaseUpdate=ie,o.shared.pending=null}}while(!0);J===null&&(b=Q),o.baseState=b,o.firstBaseUpdate=N,o.lastBaseUpdate=J,c===null&&(o.shared.lanes=0),Fn|=A,e.lanes=A,e.memoizedState=Q}}function he(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Le(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)he(n[e],t)}function it(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!kp.call(t,o)||!vt(e[o],t[o]))return!1}return!0}function Ft(e){return e=e.status,e==="fulfilled"||e==="rejected"}function As(){}function vs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(As,As),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ns?Error(u(483)):e;default:if(typeof t.status=="string")t.then(As,As);else{if(e=be,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ns?Error(u(483)):e}throw ja=t,Ns}}function gt(){if(ja===null)throw Error(u(459));var e=ja;return ja=null,e}function lt(e){var t=xs;return xs+=1,Ia===null&&(Ia=[]),vs(Ia,e,t)}function Lt(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yt(e,t){throw t.$$typeof===bh?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gn(e){var t=e._init;return t(e._payload)}function Vn(e){function t(D,T){if(e){var H=D.deletions;H===null?(D.deletions=[T],D.flags|=16):H.push(T)}}function n(D,T){if(!e)return null;for(;T!==null;)t(D,T),T=T.sibling;return null}function i(D){for(var T=new Map;D!==null;)D.key!==null?T.set(D.key,D):T.set(D.index,D),D=D.sibling;return T}function o(D,T){return D=Dn(D,T),D.index=0,D.sibling=null,D}function c(D,T,H){return D.index=H,e?(H=D.alternate,H!==null?(H=H.index,H<T?(D.flags|=33554434,T):H):(D.flags|=33554434,T)):(D.flags|=1048576,T)}function A(D){return e&&D.alternate===null&&(D.flags|=33554434),D}function g(D,T,H,z){return T===null||T.tag!==6?(T=mr(H,D.mode,z),T.return=D,T):(T=o(T,H),T.return=D,T)}function b(D,T,H,z){var w=H.type;return w===Ga?J(D,T,H.props.children,z,H.key):T!==null&&(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Hn&&gn(w)===T.type)?(T=o(T,H.props),Lt(T,H),T.return=D,T):(T=Ti(H.type,H.key,H.props,null,D.mode,z),Lt(T,H),T.return=D,T)}function N(D,T,H,z){return T===null||T.tag!==4||T.stateNode.containerInfo!==H.containerInfo||T.stateNode.implementation!==H.implementation?(T=Ar(H,D.mode,z),T.return=D,T):(T=o(T,H.children||[]),T.return=D,T)}function J(D,T,H,z,w){return T===null||T.tag!==7?(T=$n(H,D.mode,z,w),T.return=D,T):(T=o(T,H),T.return=D,T)}function Q(D,T,H){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=mr(""+T,D.mode,H),T.return=D,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Mi:return H=Ti(T.type,T.key,T.props,null,D.mode,H),Lt(H,T),H.return=D,H;case Da:return T=Ar(T,D.mode,H),T.return=D,T;case Hn:var z=T._init;return T=z(T._payload),Q(D,T,H)}if(bi(T)||f(T))return T=$n(T,D.mode,H,null),T.return=D,T;if(typeof T.then=="function")return Q(D,lt(T),H);if(T.$$typeof===Gn)return Q(D,Bi(D,T),H);Yt(D,T)}return null}function X(D,T,H,z){var w=T!==null?T.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return w!==null?null:g(D,T,""+H,z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Mi:return H.key===w?b(D,T,H,z):null;case Da:return H.key===w?N(D,T,H,z):null;case Hn:return w=H._init,H=w(H._payload),X(D,T,H,z)}if(bi(H)||f(H))return w!==null?null:J(D,T,H,z,null);if(typeof H.then=="function")return X(D,T,lt(H),z);if(H.$$typeof===Gn)return X(D,T,Bi(D,H),z);Yt(D,H)}return null}function ie(D,T,H,z,w){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return D=D.get(H)||null,g(T,D,""+z,w);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Mi:return D=D.get(z.key===null?H:z.key)||null,b(T,D,z,w);case Da:return D=D.get(z.key===null?H:z.key)||null,N(T,D,z,w);case Hn:var Ge=z._init;return z=Ge(z._payload),ie(D,T,H,z,w)}if(bi(z)||f(z))return D=D.get(H)||null,J(T,D,z,w,null);if(typeof z.then=="function")return ie(D,T,H,lt(z),w);if(z.$$typeof===Gn)return ie(D,T,H,Bi(T,z),w);Yt(T,z)}return null}function Gt(D,T,H,z){for(var w=null,Ge=null,ae=T,Ee=T=0,Ve=null;ae!==null&&Ee<H.length;Ee++){ae.index>Ee?(Ve=ae,ae=null):Ve=ae.sibling;var Ce=X(D,ae,H[Ee],z);if(Ce===null){ae===null&&(ae=Ve);break}e&&ae&&Ce.alternate===null&&t(D,ae),T=c(Ce,T,Ee),Ge===null?w=Ce:Ge.sibling=Ce,Ge=Ce,ae=Ve}if(Ee===H.length)return n(D,ae),Be&&fe(D,Ee),w;if(ae===null){for(;Ee<H.length;Ee++)ae=Q(D,H[Ee],z),ae!==null&&(T=c(ae,T,Ee),Ge===null?w=ae:Ge.sibling=ae,Ge=ae);return Be&&fe(D,Ee),w}for(ae=i(ae);Ee<H.length;Ee++)Ve=ie(ae,D,Ee,H[Ee],z),Ve!==null&&(e&&Ve.alternate!==null&&ae.delete(Ve.key===null?Ee:Ve.key),T=c(Ve,T,Ee),Ge===null?w=Ve:Ge.sibling=Ve,Ge=Ve);return e&&ae.forEach(function(zn){return t(D,zn)}),Be&&fe(D,Ee),w}function Is(D,T,H,z){if(H==null)throw Error(u(151));for(var w=null,Ge=null,ae=T,Ee=T=0,Ve=null,Ce=H.next();ae!==null&&!Ce.done;Ee++,Ce=H.next()){ae.index>Ee?(Ve=ae,ae=null):Ve=ae.sibling;var zn=X(D,ae,Ce.value,z);if(zn===null){ae===null&&(ae=Ve);break}e&&ae&&zn.alternate===null&&t(D,ae),T=c(zn,T,Ee),Ge===null?w=zn:Ge.sibling=zn,Ge=zn,ae=Ve}if(Ce.done)return n(D,ae),Be&&fe(D,Ee),w;if(ae===null){for(;!Ce.done;Ee++,Ce=H.next())Ce=Q(D,Ce.value,z),Ce!==null&&(T=c(Ce,T,Ee),Ge===null?w=Ce:Ge.sibling=Ce,Ge=Ce);return Be&&fe(D,Ee),w}for(ae=i(ae);!Ce.done;Ee++,Ce=H.next())Ce=ie(ae,D,Ee,Ce.value,z),Ce!==null&&(e&&Ce.alternate!==null&&ae.delete(Ce.key===null?Ee:Ce.key),T=c(Ce,T,Ee),Ge===null?w=Ce:Ge.sibling=Ce,Ge=Ce);return e&&ae.forEach(function(im){return t(D,im)}),Be&&fe(D,Ee),w}function fa(D,T,H,z){if(typeof H=="object"&&H!==null&&H.type===Ga&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Mi:e:{for(var w=H.key;T!==null;){if(T.key===w){if(w=H.type,w===Ga){if(T.tag===7){n(D,T.sibling),z=o(T,H.props.children),z.return=D,D=z;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Hn&&gn(w)===T.type){n(D,T.sibling),z=o(T,H.props),Lt(z,H),z.return=D,D=z;break e}n(D,T);break}else t(D,T);T=T.sibling}H.type===Ga?(z=$n(H.props.children,D.mode,z,H.key),z.return=D,D=z):(z=Ti(H.type,H.key,H.props,null,D.mode,z),Lt(z,H),z.return=D,D=z)}return A(D);case Da:e:{for(w=H.key;T!==null;){if(T.key===w)if(T.tag===4&&T.stateNode.containerInfo===H.containerInfo&&T.stateNode.implementation===H.implementation){n(D,T.sibling),z=o(T,H.children||[]),z.return=D,D=z;break e}else{n(D,T);break}else t(D,T);T=T.sibling}z=Ar(H,D.mode,z),z.return=D,D=z}return A(D);case Hn:return w=H._init,H=w(H._payload),fa(D,T,H,z)}if(bi(H))return Gt(D,T,H,z);if(f(H)){if(w=f(H),typeof w!="function")throw Error(u(150));return H=w.call(H),Is(D,T,H,z)}if(typeof H.then=="function")return fa(D,T,lt(H),z);if(H.$$typeof===Gn)return fa(D,T,Bi(D,H),z);Yt(D,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,T!==null&&T.tag===6?(n(D,T.sibling),z=o(T,H),z.return=D,D=z):(n(D,T),z=mr(H,D.mode,z),z.return=D,D=z),A(D)):n(D,T)}return function(D,T,H,z){try{xs=0;var w=fa(D,T,H,z);return Ia=null,w}catch(ae){if(ae===Ns)throw ae;var Ge=l(29,ae,null,D.mode);return Ge.lanes=z,Ge.return=D,Ge}finally{}}}function wo(e,t){e=hn,y(Li,e),y(Ka,t),hn=e|t.baseLanes}function El(){y(Li,hn),y(Ka,Ka.current)}function Cl(){hn=Li.current,S(Ka),S(Li)}function yn(e){var t=e.alternate;y(Xe,Xe.current&1),y(Rt,e),Vt===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(Vt=e)}function Wo(e){if(e.tag===22){if(y(Xe,Xe.current),y(Rt,e),Vt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Vt=e)}}else Sn()}function Sn(){y(Xe,Xe.current),y(Rt,Rt.current)}function en(e){S(Rt),Vt===e&&(Vt=null),S(Xe)}function ci(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Dr(n)||Gr(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ze(){throw Error(u(321))}function gl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function yl(e,t,n,i,o,c){return xn=c,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,se.H=e===null||e.memoizedState===null?ia:Un,sa=!1,c=n(i,o),sa=!1,Qa&&(c=$o(t,n,i,o)),ko(e),c}function ko(e){se.H=Zt;var t=Se!==null&&Se.next!==null;if(xn=0,Ke=Se=re=null,zi=!1,Us=0,Xa=null,t)throw Error(u(300));e===null||Ye||(e=e.dependencies,e!==null&&vi(e)&&(Ye=!0))}function $o(e,t,n,i){re=e;var o=0;do{if(Qa&&(Xa=null),Us=0,Qa=!1,25<=o)throw Error(u(301));if(o+=1,Ke=Se=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}se.H=la,c=t(n,i)}while(Qa);return c}function ah(){var e=se.H,t=e.useState()[0];return t=typeof t.then=="function"?Bs(t):t,e=e.useState()[0],(Se!==null?Se.memoizedState:null)!==e&&(re.flags|=1024),t}function Sl(){var e=Ji!==0;return Ji=0,e}function Tl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ml(e){if(zi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}zi=!1}xn=0,Ke=Se=re=null,Qa=!1,Us=Ji=0,Xa=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?re.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ie(){if(Se===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ke===null?re.memoizedState:Ke.next;if(t!==null)Ke=t,Se=e;else{if(e===null)throw re.alternate===null?Error(u(467)):Error(u(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ke===null?re.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Bs(e){var t=Us;return Us+=1,Xa===null&&(Xa=[]),e=vs(Xa,e,t),t=re,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,se.H=t===null||t.memoizedState===null?ia:Un),e}function fi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bs(e);if(e.$$typeof===Gn)return ke(e)}throw Error(u(438,String(e)))}function bl(e){var t=null,n=re.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=re.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ir(),re.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Dh;return t.index++,n}function tn(e,t){return typeof t=="function"?t(e):t}function di(e){var t=Ie();return Rl(t,Se,e)}function Rl(e,t,n){var i=e.queue;if(i===null)throw Error(u(311));i.lastRenderedReducer=n;var o=e.baseQueue,c=i.pending;if(c!==null){if(o!==null){var A=o.next;o.next=c.next,c.next=A}t.baseQueue=o=c,i.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var g=A=null,b=null,N=t,J=!1;do{var Q=N.lane&-536870913;if(Q!==N.lane?(pe&Q)===Q:(xn&Q)===Q){var X=N.revertLane;if(X===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Q===za&&(J=!0);else if((xn&X)===X){N=N.next,X===za&&(J=!0);continue}else Q={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(g=b=Q,A=c):b=b.next=Q,re.lanes|=X,Fn|=X;Q=N.action,sa&&n(c,Q),c=N.hasEagerState?N.eagerState:n(c,Q)}else X={lane:Q,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(g=b=X,A=c):b=b.next=X,re.lanes|=Q,Fn|=Q;N=N.next}while(N!==null&&N!==t);if(b===null?A=c:b.next=g,!vt(c,e.memoizedState)&&(Ye=!0,J&&(n=Ja,n!==null)))throw n;e.memoizedState=c,e.baseState=A,e.baseQueue=b,i.lastRenderedState=c}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Dl(e){var t=Ie(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,c=t.memoizedState;if(o!==null){n.pending=null;var A=o=o.next;do c=e(c,A.action),A=A.next;while(A!==o);vt(c,t.memoizedState)||(Ye=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,i]}function eu(e,t,n){var i=re,o=Ie(),c=Be;if(c){if(n===void 0)throw Error(u(407));n=n()}else n=t();var A=!vt((Se||o).memoizedState,n);if(A&&(o.memoizedState=n,Ye=!0),o=o.queue,Ol(au.bind(null,i,o,e),[e]),o.getSnapshot!==t||A||Ke!==null&&Ke.memoizedState.tag&1){if(i.flags|=2048,Sa(9,nu.bind(null,i,o,n,t),{destroy:void 0},null),be===null)throw Error(u(349));c||(xn&60)!==0||tu(i,t,n)}return n}function tu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t=Ir(),re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nu(e,t,n,i){t.value=n,t.getSnapshot=i,su(t)&&iu(e)}function au(e,t,n){return n(function(){su(t)&&iu(e)})}function su(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function iu(e){var t=xt(e,2);t!==null&&nt(t,e,2)}function Gl(e){var t=rt();if(typeof e=="function"){var n=e;if(e=n(),sa){V(!0);try{n()}finally{V(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:e},t}function lu(e,t,n,i){return e.baseState=n,Rl(e,Se,typeof i=="function"?i:tn)}function sh(e,t,n,i,o){if(mi(e))throw Error(u(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){c.listeners.push(A)}};se.T!==null?n(!0):c.isTransition=!1,i(c),n=t.pending,n===null?(c.next=t.pending=c,ru(t,c)):(c.next=n.next,t.pending=n.next=c)}}function ru(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var c=se.T,A={};se.T=A;try{var g=n(o,i),b=se.S;b!==null&&b(A,g),ou(e,t,g)}catch(N){Hl(e,t,N)}finally{se.T=c}}else try{c=n(o,i),ou(e,t,c)}catch(N){Hl(e,t,N)}}function ou(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){uu(e,t,i)},function(i){return Hl(e,t,i)}):uu(e,t,n)}function uu(e,t,n){t.status="fulfilled",t.value=n,cu(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ru(e,n)))}function Hl(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,cu(t),t=t.next;while(t!==i)}e.action=null}function cu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fu(e,t){return t}function du(e,t){if(Be){var n=be.formState;if(n!==null){e:{var i=re;if(Be){if(tt){var o=Ep(tt,Pt);if(o){tt=sf(o),i=Cp(o);break e}}kt(i)}i=!1}i&&(t=n[0])}}n=rt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fu,lastRenderedState:t},n.queue=i,n=Gu.bind(null,re,i),i.dispatch=n,i=Gl(!1);var c=Ul.bind(null,re,!1,i.queue);return i=rt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=sh.bind(null,re,o,c,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function hu(e){var t=Ie();return pu(t,Se,e)}function pu(e,t,n){t=Rl(e,t,fu)[0],e=di(tn)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Bs(t):t;var i=Ie(),o=i.queue,c=o.dispatch;return n!==i.memoizedState&&(re.flags|=2048,Sa(9,ih.bind(null,o,n),{destroy:void 0},null)),[t,c,e]}function ih(e,t){e.action=t}function mu(e){var t=Ie(),n=Se;if(n!==null)return pu(t,n,e);Ie(),t=t.memoizedState,n=Ie();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Sa(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},t=re.updateQueue,t===null&&(t=Ir(),re.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Au(){return Ie().memoizedState}function hi(e,t,n,i){var o=rt();re.flags|=e,o.memoizedState=Sa(1|t,n,{destroy:void 0},i===void 0?null:i)}function pi(e,t,n,i){var o=Ie();i=i===void 0?null:i;var c=o.memoizedState.inst;Se!==null&&i!==null&&gl(i,Se.memoizedState.deps)?o.memoizedState=Sa(t,n,c,i):(re.flags|=e,o.memoizedState=Sa(1|t,n,c,i))}function vu(e,t){hi(8390656,8,e,t)}function Ol(e,t){pi(2048,8,e,t)}function Bu(e,t){return pi(4,2,e,t)}function Eu(e,t){return pi(4,4,e,t)}function Cu(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gu(e,t,n){n=n!=null?n.concat([e]):null,pi(4,4,Cu.bind(null,t,e),n)}function _l(){}function yu(e,t){var n=Ie();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&gl(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Su(e,t){var n=Ie();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&gl(t,i[1]))return i[0];if(i=e(),sa){V(!0);try{e()}finally{V(!1)}}return n.memoizedState=[i,t],i}function Nl(e,t,n){return n===void 0||(xn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Ec(),re.lanes|=e,Fn|=e,n)}function Tu(e,t,n,i){return vt(n,t)?n:Ka.current!==null?(e=Nl(e,n,i),vt(e,t)||(Ye=!0),e):(xn&42)===0?(Ye=!0,e.memoizedState=n):(e=Ec(),re.lanes|=e,Fn|=e,t)}function Mu(e,t,n,i,o){var c=ea();ut(c!==0&&8>c?c:8);var A=se.T,g={};se.T=g,Ul(e,!1,t,n);try{var b=o(),N=se.S;if(N!==null&&N(g,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var J=Bl(b,i);Es(e,t,J,ht(e))}else Es(e,t,i,ht(e))}catch(Q){Es(e,t,{then:function(){},status:"rejected",reason:Q},ht())}finally{ut(c),se.T=A}}function bu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ha,baseState:Ha,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:Ha},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xl(){return ke(ta)}function Ru(){return Ie().memoizedState}function Du(){return Ie().memoizedState}function lh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ht();e=Xt(n);var i=Ut(t,e,n);i!==null&&(nt(i,t,n),$t(i,t,n)),t={cache:Zl()},e.payload=t;return}t=t.return}}function rh(e,t,n){var i=ht();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},mi(e)?Hu(t,n):(n=ds(e,t,n,i),n!==null&&(nt(n,e,i),Ou(n,t,i)))}function Gu(e,t,n){var i=ht();Es(e,t,n,i)}function Es(e,t,n,i){var o={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(mi(e))Hu(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var A=t.lastRenderedState,g=c(A,n);if(o.hasEagerState=!0,o.eagerState=g,vt(g,A))return Ea(e,t,o,0),be===null&&Yn(),!1}catch{}finally{}if(n=ds(e,t,o,i),n!==null)return nt(n,e,i),Ou(n,t,i),!0}return!1}function Ul(e,t,n,i){if(i={lane:2,revertLane:ga(),action:i,hasEagerState:!1,eagerState:null,next:null},mi(e)){if(t)throw Error(u(479))}else t=ds(e,n,i,2),t!==null&&nt(t,e,2)}function mi(e){var t=e.alternate;return e===re||t!==null&&t===re}function Hu(e,t){Qa=zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ou(e,t,n){if((n&4194176)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,me(e,n)}}function Fl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Br({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}function _u(e,t,n,i,o,c,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,A):t.prototype&&t.prototype.isPureReactComponent?!it(n,i)||!it(o,c):!0}function Nu(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Kr.enqueueReplaceState(t,t.state,null)}function Zn(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Br({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Ai(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function xu(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ll(e,t,n){return n=Xt(n),n.tag=3,n.payload={element:null},n.callback=function(){Ai(e,t)},n}function Uu(e){return e=Xt(e),e.tag=3,e}function Fu(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var c=i.value;e.payload=function(){return o(c)},e.callback=function(){xu(t,n,i)}}var A=n.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(e.callback=function(){xu(t,n,i),typeof o!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})})}function oh(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&gs(t,n,o,!0),n=Rt.current,n!==null){switch(n.tag){case 13:return Vt===null?fr():n.alternate===null&&Fe===0&&(Fe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Fi?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),hr(e,i,o)),!1;case 22:return n.flags|=65536,i===Fi?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),hr(e,i,o)),!1}throw Error(u(435,n.tag))}return hr(e,i,o),fr(),!1}if(Be)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==xr&&(e=Error(u(422),{cause:i}),Bn(ne(e,n)))):(i!==xr&&(t=Error(u(423),{cause:i}),Bn(ne(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=ne(i,n),o=Ll(e.stateNode,i,o),M(e,o),Fe!==4&&(Fe=2)),!1;var c=Error(u(520),{cause:i});if(c=ne(c,n),Ls===null?Ls=[c]:Ls.push(c),Fe!==4&&(Fe=2),t===null)return!0;i=ne(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Ll(n.stateNode,i,e),M(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ln===null||!Ln.has(c))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Uu(o),Fu(o,e,n,i),M(n,o),!1}n=n.return}while(n!==null);return!1}function we(e,t,n,i){t.child=e===null?Ef(t,null,n,i):aa(t,e.child,n,i)}function Lu(e,t,n,i,o){n=n.render;var c=t.ref;if("ref"in i){var A={};for(var g in i)g!=="ref"&&(A[g]=i[g])}else A=i;return qn(t),i=yl(e,t,n,A,c,o),g=Sl(),e!==null&&!Ye?(Tl(e,t,o),nn(e,t,o)):(Be&&g&&Ae(t),t.flags|=1,we(e,t,i,o),t.child)}function zu(e,t,n,i,o){if(e===null){var c=n.type;return typeof c=="function"&&!pr(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,Ju(e,t,c,i,o)):(e=Ti(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Yl(e,o)){var A=c.memoizedProps;if(n=n.compare,n=n!==null?n:it,n(A,i)&&e.ref===t.ref)return nn(e,t,o)}return t.flags|=1,e=Dn(c,i),e.ref=t.ref,e.return=t,t.child=e}function Ju(e,t,n,i,o){if(e!==null){var c=e.memoizedProps;if(it(c,i)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=i=c,Yl(e,o))(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,nn(e,t,o)}return zl(e,t,n,i,o)}function ju(e,t,n){var i=t.pendingProps,o=i.children,c=(t.stateNode._pendingVisibility&2)!==0,A=e!==null?e.memoizedState:null;if(Cs(e,t),i.mode==="hidden"||c){if((t.flags&128)!==0){if(i=A!==null?A.baseLanes|n:n,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;t.childLanes=c&~i}else t.childLanes=0,t.child=null;return Iu(e,t,i,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ei(t,A!==null?A.cachePool:null),A!==null?wo(t,A):El(),Wo(t);else return t.lanes=t.childLanes=536870912,Iu(e,t,A!==null?A.baseLanes|n:n,n)}else A!==null?(Ei(t,A.cachePool),wo(t,A),Sn(),t.memoizedState=null):(e!==null&&Ei(t,null),El(),Sn());return we(e,t,o,n),t.child}function Iu(e,t,n,i){var o=ql();return o=o===null?null:{parent:rn?xe._currentValue:xe._currentValue2,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Ei(t,null),El(),Wo(t),e!==null&&gs(e,t,i,!0),null}function Cs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(u(284));(e===null||e.ref!==n)&&(t.flags|=2097664)}}function zl(e,t,n,i,o){return qn(t),n=yl(e,t,n,i,void 0,o),i=Sl(),e!==null&&!Ye?(Tl(e,t,o),nn(e,t,o)):(Be&&i&&Ae(t),t.flags|=1,we(e,t,n,o),t.child)}function Ku(e,t,n,i,o,c){return qn(t),t.updateQueue=null,n=$o(t,i,n,o),ko(e),i=Sl(),e!==null&&!Ye?(Tl(e,t,c),nn(e,t,c)):(Be&&i&&Ae(t),t.flags|=1,we(e,t,n,c),t.child)}function Qu(e,t,n,i,o){if(qn(t),t.stateNode===null){var c=_a,A=n.contextType;typeof A=="object"&&A!==null&&(c=ke(A)),c=new n(i,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Kr,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=i,c.state=t.memoizedState,c.refs={},ya(t),A=n.contextType,c.context=typeof A=="object"&&A!==null?ke(A):_a,c.state=t.memoizedState,A=n.getDerivedStateFromProps,typeof A=="function"&&(Fl(t,n,A,i),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(A=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),A!==c.state&&Kr.enqueueReplaceState(c,c.state,null),k(t,i,c,o),I(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,b=Zn(n,g);c.props=b;var N=c.context,J=n.contextType;A=_a,typeof J=="object"&&J!==null&&(A=ke(J));var Q=n.getDerivedStateFromProps;J=typeof Q=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,J||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||N!==A)&&Nu(t,c,i,A),Nn=!1;var X=t.memoizedState;c.state=X,k(t,i,c,o),I(),N=t.memoizedState,g||X!==N||Nn?(typeof Q=="function"&&(Fl(t,n,Q,i),N=t.memoizedState),(b=Nn||_u(t,n,b,i,X,N,A))?(J||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=N),c.props=i,c.state=N,c.context=A,i=b):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{c=t.stateNode,ms(e,t),A=t.memoizedProps,J=Zn(n,A),c.props=J,Q=t.pendingProps,X=c.context,N=n.contextType,b=_a,typeof N=="object"&&N!==null&&(b=ke(N)),g=n.getDerivedStateFromProps,(N=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(A!==Q||X!==b)&&Nu(t,c,i,b),Nn=!1,X=t.memoizedState,c.state=X,k(t,i,c,o),I();var ie=t.memoizedState;A!==Q||X!==ie||Nn||e!==null&&e.dependencies!==null&&vi(e.dependencies)?(typeof g=="function"&&(Fl(t,n,g,i),ie=t.memoizedState),(J=Nn||_u(t,n,J,i,X,ie,b)||e!==null&&e.dependencies!==null&&vi(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,ie,b),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,ie,b)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||A===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ie),c.props=i,c.state=ie,c.context=b,i=J):(typeof c.componentDidUpdate!="function"||A===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),i=!1)}return c=i,Cs(e,t),i=(t.flags&128)!==0,c||i?(c=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&i?(t.child=aa(t,e.child,null,o),t.child=aa(t,null,n,o)):we(e,t,n,o),t.memoizedState=c.state,e=t.child):e=nn(e,t,o),e}function Xu(e,t,n,i){return vn(),t.flags|=256,we(e,t,n,i),t.child}function Jl(e){return{baseLanes:e,cachePool:wu()}}function jl(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Dt),e}function Yu(e,t,n){var i=t.pendingProps,o=!1,c=(t.flags&128)!==0,A;if((A=c)||(A=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),A&&(o=!0,t.flags&=-129),A=(t.flags&32)!==0,t.flags&=-33,e===null){if(Be){if(o?yn(t):Sn(),Be){var g=tt,b;(b=g)&&(g=Mp(g,Pt),g!==null?(t.memoizedState={dehydrated:g,treeContext:na!==null?{id:on,overflow:un}:null,retryLane:536870912},b=l(18,null,null,0),b.stateNode=g,b.return=t,t.child=b,at=t,tt=null,b=!0):b=!1),b||kt(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return Gr(g)?t.lanes=16:t.lanes=536870912,null;en(t)}return g=i.children,i=i.fallback,o?(Sn(),o=t.mode,g=Kl({mode:"hidden",children:g},o),i=$n(i,o,n,null),g.return=t,i.return=t,g.sibling=i,t.child=g,o=t.child,o.memoizedState=Jl(n),o.childLanes=jl(e,A,n),t.memoizedState=Qr,i):(yn(t),Il(t,g))}if(b=e.memoizedState,b!==null&&(g=b.dehydrated,g!==null)){if(c)t.flags&256?(yn(t),t.flags&=-257,t=Ql(e,t,n)):t.memoizedState!==null?(Sn(),t.child=e.child,t.flags|=128,t=null):(Sn(),o=i.fallback,g=t.mode,i=Kl({mode:"visible",children:i.children},g),o=$n(o,g,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,aa(t,e.child,null,n),i=t.child,i.memoizedState=Jl(n),i.childLanes=jl(e,A,n),t.memoizedState=Qr,t=o);else if(yn(t),Gr(g))A=vp(g).digest,i=Error(u(419)),i.stack="",i.digest=A,Bn({value:i,source:null,stack:null}),t=Ql(e,t,n);else if(Ye||gs(e,t,n,!1),A=(n&e.childLanes)!==0,Ye||A){if(A=be,A!==null){if(i=n&-n,(i&42)!==0)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=(i&(A.suspendedLanes|n))!==0?0:i,i!==0&&i!==b.retryLane)throw b.retryLane=i,xt(e,i),nt(A,e,i),gf}Dr(g)||fr(),t=Ql(e,t,n)}else Dr(g)?(t.flags|=128,t.child=e.child,t=Ch.bind(null,e),Bp(g,t),t=null):(e=b.treeContext,yt&&(tt=yp(g),at=t,Be=!0,jt=null,Pt=!1,e!==null&&(Tt[Mt++]=on,Tt[Mt++]=un,Tt[Mt++]=na,on=e.id,un=e.overflow,na=t)),t=Il(t,i.children),t.flags|=4096);return t}return o?(Sn(),o=i.fallback,g=t.mode,b=e.child,c=b.sibling,i=Dn(b,{mode:"hidden",children:i.children}),i.subtreeFlags=b.subtreeFlags&31457280,c!==null?o=Dn(c,o):(o=$n(o,g,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,g=e.child.memoizedState,g===null?g=Jl(n):(b=g.cachePool,b!==null?(c=rn?xe._currentValue:xe._currentValue2,b=b.parent!==c?{parent:c,pool:c}:b):b=wu(),g={baseLanes:g.baseLanes|n,cachePool:b}),o.memoizedState=g,o.childLanes=jl(e,A,n),t.memoizedState=Qr,i):(yn(t),n=e.child,e=n.sibling,n=Dn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(A=t.deletions,A===null?(t.deletions=[e],t.flags|=16):A.push(e)),t.child=n,t.memoizedState=null,n)}function Il(e,t){return t=Kl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Kl(e,t){return Uc(e,t,0,null)}function Ql(e,t,n){return aa(t,e.child,null,n),e=Il(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pu(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Pl(e.return,t,n)}function Xl(e,t,n,i,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=i,c.tail=n,c.tailMode=o)}function Vu(e,t,n){var i=t.pendingProps,o=i.revealOrder,c=i.tail;if(we(e,t,i.children,n),i=Xe.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pu(e,n,t);else if(e.tag===19)Pu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(y(Xe,i),o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ci(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Xl(t,!1,o,n,c);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ci(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Xl(t,!0,n,null,c);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(gs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yl(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vi(e)))}function uh(e,t,n){switch(t.tag){case 3:ve(t,t.stateNode.containerInfo),Tn(t,xe,e.memoizedState.cache),vn();break;case 27:case 5:Wt(t);break;case 4:ve(t,t.stateNode.containerInfo);break;case 10:Tn(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(yn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Yu(e,t,n):(yn(t),e=nn(e,t,n),e!==null?e.sibling:null);yn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(gs(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return Vu(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),y(Xe,Xe.current),i)break;return null;case 22:case 23:return t.lanes=0,ju(e,t,n);case 24:Tn(t,xe,e.memoizedState.cache)}return nn(e,t,n)}function Zu(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!Yl(e,n)&&(t.flags&128)===0)return Ye=!1,uh(e,t,n);Ye=(e.flags&131072)!==0}else Ye=!1,Be&&(t.flags&1048576)!==0&&le(t,_i,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,o=i._init;if(i=o(i._payload),t.type=i,typeof i=="function")pr(i)?(e=Zn(i,e),t.tag=1,t=Qu(null,t,i,e,n)):(t.tag=0,t=zl(null,t,i,e,n));else{if(i!=null){if(o=i.$$typeof,o===Cr){t.tag=11,t=Lu(null,t,i,e,n);break e}else if(o===Sr){t.tag=14,t=zu(null,t,i,e,n);break e}}throw t=d(i)||i,Error(u(306,t,""))}}return t;case 0:return zl(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=Zn(i,t.pendingProps),Qu(e,t,i,o,n);case 3:e:{if(ve(t,t.stateNode.containerInfo),e===null)throw Error(u(387));var c=t.pendingProps;o=t.memoizedState,i=o.element,ms(e,t),k(t,c,null,n);var A=t.memoizedState;if(c=A.cache,Tn(t,xe,c),c!==o.cache&&Vl(t,[xe],n,!0),I(),c=A.element,yt&&o.isDehydrated)if(o={element:c,isDehydrated:!1,cache:A.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Xu(e,t,c,n);break e}else if(c!==i){i=ne(Error(u(424)),t),Bn(i),t=Xu(e,t,c,n);break e}else for(yt&&(tt=gp(t.stateNode.containerInfo),at=t,Be=!0,jt=null,Pt=!0),n=Ef(t,null,c,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vn(),c===i){t=nn(e,t,n);break e}we(e,t,c,n)}t=t.child}return t;case 26:if(St)return Cs(e,t),e===null?(n=uf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Be||(t.stateNode=Lp(t.type,t.pendingProps,_n.current,t)):t.memoizedState=uf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(et)return Wt(t),e===null&&et&&Be&&(i=t.stateNode=mf(t.type,t.pendingProps,_n.current,We.current,!1),at=t,Pt=!0,tt=lf(i)),i=t.pendingProps.children,e!==null||Be?we(e,t,i,n):t.child=aa(t,null,i,n),Cs(e,t),t.child;case 5:return e===null&&Be&&(xp(t.type,t.pendingProps,We.current),(o=i=tt)&&(i=Sp(i,t.type,t.pendingProps,Pt),i!==null?(t.stateNode=i,at=t,tt=lf(i),Pt=!1,o=!0):o=!1),o||kt(t)),Wt(t),o=t.type,c=t.pendingProps,A=e!==null?e.memoizedProps:null,i=c.children,Ri(o,c)?i=null:A!==null&&Ri(o,A)&&(t.flags|=32),t.memoizedState!==null&&(o=yl(e,t,ah,null,null,n),rn?ta._currentValue=o:ta._currentValue2=o),Cs(e,t),we(e,t,i,n),t.child;case 6:return e===null&&Be&&(Up(t.pendingProps,We.current),(e=n=tt)&&(n=Tp(n,t.pendingProps,Pt),n!==null?(t.stateNode=n,at=t,tt=null,e=!0):e=!1),e||kt(t)),null;case 13:return Yu(e,t,n);case 4:return ve(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=aa(t,null,i,n):we(e,t,i,n),t.child;case 11:return Lu(e,t,t.type,t.pendingProps,n);case 7:return we(e,t,t.pendingProps,n),t.child;case 8:return we(e,t,t.pendingProps.children,n),t.child;case 12:return we(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Tn(t,t.type,i.value),we(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,qn(t),o=ke(o),i=i(o),t.flags|=1,we(e,t,i,n),t.child;case 14:return zu(e,t,t.type,t.pendingProps,n);case 15:return Ju(e,t,t.type,t.pendingProps,n);case 19:return Vu(e,t,n);case 22:return ju(e,t,n);case 24:return qn(t),i=ke(xe),e===null?(o=ql(),o===null&&(o=be,c=Zl(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=n),o=c),t.memoizedState={parent:i,cache:o},ya(t),Tn(t,xe,o)):((e.lanes&n)!==0&&(ms(e,t),k(t,null,null,n),I()),o=e.memoizedState,c=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Tn(t,xe,i)):(i=c.cache,Tn(t,xe,i),i!==o.cache&&Vl(t,[xe],n,!0))),we(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Tn(e,t,n){rn?(y(ji,t._currentValue),t._currentValue=n):(y(ji,t._currentValue2),t._currentValue2=n)}function an(e){var t=ji.current;rn?e._currentValue=t:e._currentValue2=t,S(ji)}function Pl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Vl(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var A=o.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=o;for(var b=0;b<t.length;b++)if(g.context===t[b]){c.lanes|=n,g=c.alternate,g!==null&&(g.lanes|=n),Pl(c.return,n,e),i||(A=null);break e}c=g.next}}else if(o.tag===18){if(A=o.return,A===null)throw Error(u(341));A.lanes|=n,c=A.alternate,c!==null&&(c.lanes|=n),Pl(A,n,e),A=null}else A=o.child;if(A!==null)A.return=o;else for(A=o;A!==null;){if(A===e){A=null;break}if(o=A.sibling,o!==null){o.return=A.return,A=o;break}A=A.return}o=A}}function gs(e,t,n,i){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var A=o.alternate;if(A===null)throw Error(u(387));if(A=A.memoizedProps,A!==null){var g=o.type;vt(o.pendingProps.value,A.value)||(e!==null?e.push(g):e=[g])}}else if(o===Ni.current){if(A=o.alternate,A===null)throw Error(u(387));A.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ta):e=[ta])}o=o.return}e!==null&&Vl(t,e,n,i),t.flags|=262144}function vi(e){for(e=e.firstContext;e!==null;){var t=e.context;if(!vt(rn?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function qn(e){ra=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ke(e){return qu(ra,e)}function Bi(e,t){return ra===null&&qn(e),qu(e,t)}function qu(e,t){var n=rn?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:n,next:null},cn===null){if(e===null)throw Error(u(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return n}function Zl(){return{controller:new em,data:new Map,refCount:0}}function ys(e){e.refCount--,e.refCount===0&&tm(nm,function(){e.controller.abort()})}function ql(){var e=oa.current;return e!==null?e:be.pooledCache}function Ei(e,t){t===null?y(oa,oa.current):y(oa,t.pool)}function wu(){var e=ql();return e===null?null:{parent:rn?xe._currentValue:xe._currentValue2,pool:e}}function ct(e){e.flags|=4}function Wu(e,t){if(e!==null&&e.child===t.child)return!1;if((t.flags&16)!==0)return!0;for(e=t.child;e!==null;){if((e.flags&13878)!==0||(e.subtreeFlags&13878)!==0)return!0;e=e.sibling}return!1}function wl(e,t,n,i){if($e)for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)br(e,n.stateNode);else if(!(n.tag===4||et&&n.tag===27)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(On)for(var o=t.child;o!==null;){if(o.tag===5){var c=o.stateNode;n&&i&&(c=nf(c,o.type,o.memoizedProps)),br(e,c)}else if(o.tag===6)c=o.stateNode,n&&i&&(c=af(c,o.memoizedProps)),br(e,c);else if(o.tag!==4){if(o.tag===22&&o.memoizedState!==null)c=o.child,c!==null&&(c.return=o),wl(e,o,!0,!0);else if(o.child!==null){o.child.return=o,o=o.child;continue}}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function ku(e,t,n,i){if(On)for(var o=t.child;o!==null;){if(o.tag===5){var c=o.stateNode;n&&i&&(c=nf(c,o.type,o.memoizedProps)),ef(e,c)}else if(o.tag===6)c=o.stateNode,n&&i&&(c=af(c,o.memoizedProps)),ef(e,c);else if(o.tag!==4){if(o.tag===22&&o.memoizedState!==null)c=o.child,c!==null&&(c.return=o),ku(e,o,!(o.memoizedProps!==null&&o.memoizedProps.mode==="manual"),!0);else if(o.child!==null){o.child.return=o,o=o.child;continue}}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function $u(e,t){if(On&&Wu(e,t)){e=t.stateNode;var n=e.containerInfo,i=$c();ku(i,t,!1,!1),e.pendingChildren=i,ct(t),Ap(n,i)}}function Wl(e,t,n,i){if($e)e.memoizedProps!==i&&ct(t);else if(On){var o=e.stateNode,c=e.memoizedProps;if((e=Wu(e,t))||c!==i){var A=We.current;c=mp(o,n,c,i,!e,null),c===o?t.stateNode=o:(Vc(c,n,i,A)&&ct(t),t.stateNode=c,e?wl(c,t,!1,!1):ct(t))}else t.stateNode=o}}function kl(e,t,n){if(Qh(t,n)){if(e.flags|=16777216,!wc(t,n))if(Tc())e.flags|=8192;else throw ja=Fi,jr}else e.flags&=-16777217}function ec(e,t){if(Jp(t)){if(e.flags|=16777216,!pf(t))if(Tc())e.flags|=8192;else throw ja=Fi,jr}else e.flags&=-16777217}function Ci(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Y():536870912,e.lanes|=t,Va|=t)}function Ss(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&31457280,i|=o.flags&31457280,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ch(e,t,n){var i=t.pendingProps;switch(Oe(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return _e(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),an(xe),qe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xn(t)?ct(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jt!==null&&(ur(jt),jt=null))),$u(e,t),_e(t),null;case 26:if(St){n=t.type;var o=t.memoizedState;return e===null?(ct(t),o!==null?(_e(t),ec(t,o)):(_e(t),kl(t,n,i))):o?o!==e.memoizedState?(ct(t),_e(t),ec(t,o)):(_e(t),t.flags&=-16777217):($e?e.memoizedProps!==i&&ct(t):Wl(e,t,n,i),_e(t),kl(t,n,i)),null}case 27:if(et){if(Ba(t),n=_n.current,o=t.type,e!==null&&t.stateNode!=null)$e?e.memoizedProps!==i&&ct(t):Wl(e,t,o,i);else{if(!i){if(t.stateNode===null)throw Error(u(166));return _e(t),null}e=We.current,Xn(t)?ii(t,e):(e=mf(o,i,n,e,!0),t.stateNode=e,ct(t))}return _e(t),null}case 5:if(Ba(t),n=t.type,e!==null&&t.stateNode!=null)Wl(e,t,n,i);else{if(!i){if(t.stateNode===null)throw Error(u(166));return _e(t),null}e=We.current,Xn(t)?ii(t,e):(o=Fh(n,i,_n.current,e,t),wl(o,t,!1,!1),t.stateNode=o,Vc(o,n,i,e)&&ct(t))}return _e(t),kl(t,t.type,t.pendingProps),null;case 6:if(e&&t.stateNode!=null)n=e.memoizedProps,$e?n!==i&&ct(t):On&&(n!==i?(t.stateNode=Zc(i,_n.current,We.current,t),ct(t)):t.stateNode=e.stateNode);else{if(typeof i!="string"&&t.stateNode===null)throw Error(u(166));if(e=_n.current,n=We.current,Xn(t)){if(!yt)throw Error(u(176));if(e=t.stateNode,n=t.memoizedProps,i=null,o=at,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}Rp(e,n,t,i)||kt(t)}else t.stateNode=Zc(i,e,n,t)}return _e(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Xn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(u(318));if(!yt)throw Error(u(344));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(u(317));Dp(o,t)}else vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;_e(t),o=!1}else jt!==null&&(ur(jt),jt=null),o=!0;if(!o)return t.flags&256?(en(t),t):(en(t),null)}if(en(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool);var c=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ci(t,t.updateQueue),_e(t),null;case 4:return qe(),$u(e,t),e===null&&Jh(t.stateNode.containerInfo),_e(t),null;case 10:return an(t.type),_e(t),null;case 19:if(S(Xe),o=t.memoizedState,o===null)return _e(t),null;if(i=(t.flags&128)!==0,c=o.rendering,c===null)if(i)Ss(o,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ci(e),c!==null){for(t.flags|=128,Ss(o,!1),e=c.updateQueue,t.updateQueue=e,Ci(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)xc(n,e),n=n.sibling;return y(Xe,Xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Jt()>zs&&(t.flags|=128,i=!0,Ss(o,!1),t.lanes=4194304)}else{if(!i)if(e=ci(c),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ci(t,e),Ss(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!Be)return _e(t),null}else 2*Jt()-o.renderingStartTime>zs&&n!==536870912&&(t.flags|=128,i=!0,Ss(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Jt(),t.sibling=null,e=Xe.current,y(Xe,i?e&1|2:e&1),t):(_e(t),null);case 22:case 23:return en(t),Cl(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),n=t.updateQueue,n!==null&&Ci(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&S(oa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),an(xe),_e(t),null;case 25:return null}throw Error(u(156,t.tag))}function fh(e,t){switch(Oe(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(xe),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ba(t),null;case 13:if(en(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return S(Xe),null;case 4:return qe(),null;case 10:return an(t.type),null;case 22:case 23:return en(t),Cl(),e!==null&&S(oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return an(xe),null;case 25:return null;default:return null}}function tc(e,t){switch(Oe(t),t.tag){case 3:an(xe),qe();break;case 26:case 27:case 5:Ba(t);break;case 4:qe();break;case 13:en(t);break;case 19:S(Xe);break;case 10:an(t.type);break;case 22:case 23:en(t),Cl(),e!==null&&S(oa);break;case 24:an(xe)}}function Ts(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var c=n.create,A=n.inst;i=c(),A.destroy=i}n=n.next}while(n!==o)}}catch(g){ye(t,t.return,g)}}function Mn(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){var A=i.inst,g=A.destroy;if(g!==void 0){A.destroy=void 0,o=t;var b=n;try{g()}catch(N){ye(o,b,N)}}}i=i.next}while(i!==c)}}catch(N){ye(t,t.return,N)}}function nc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Le(t,n)}catch(i){ye(e,e.return,i)}}}function ac(e,t,n){n.props=Zn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ye(e,t,i)}}function wn(e,t){try{var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=Rs(i);break;default:o=i}typeof n=="function"?e.refCleanup=n(o):n.current=o}}catch(c){ye(e,t,c)}}function ft(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){ye(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ye(e,t,o)}else n.current=null}function sc(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{sp(i,t,n,e)}catch(o){ye(e,e.return,o)}}function ic(e,t,n){try{ip(e.stateNode,e.type,n,t,e)}catch(i){ye(e,e.return,i)}}function lc(e){return e.tag===5||e.tag===3||(St?e.tag===26:!1)||(et?e.tag===27:!1)||e.tag===4}function $l(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&(!et||e.tag!==27)&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function er(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?rp(n,e,t):np(n,e);else if(!(i===4||et&&i===27)&&(e=e.child,e!==null))for(er(e,t,n),e=e.sibling;e!==null;)er(e,t,n),e=e.sibling}function gi(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?lp(n,e,t):tp(n,e);else if(!(i===4||et&&i===27)&&(e=e.child,e!==null))for(gi(e,t,n),e=e.sibling;e!==null;)gi(e,t,n),e=e.sibling}function rc(e,t,n){e=e.containerInfo;try{tf(e,n)}catch(i){ye(t,t.return,i)}}function dh(e,t){for(xh(e.containerInfo),Pe=t;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;var n=e.alternate;switch(t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&n!==null){t=void 0;var i=e,o=n.memoizedProps;n=n.memoizedState;var c=i.stateNode;try{var A=Zn(i.type,o,i.elementType===i.type);t=c.getSnapshotBeforeUpdate(A,n),c.__reactInternalSnapshotBeforeUpdate=t}catch(g){ye(i,i.return,g)}}break;case 3:(t&1024)!==0&&$e&&pp(e.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return A=Tf,Tf=!1,A}function oc(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:sn(e,n),i&4&&Ts(5,n);break;case 1:if(sn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){ye(n,n.return,g)}else{var o=Zn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ye(n,n.return,g)}}i&64&&nc(n),i&512&&wn(n,n.return);break;case 3:if(sn(e,n),i&64&&(i=n.updateQueue,i!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=Rs(n.child.stateNode);break;case 1:e=n.child.stateNode}try{Le(i,e)}catch(g){ye(n,n.return,g)}}break;case 26:if(St){sn(e,n),i&512&&wn(n,n.return);break}case 27:case 5:sn(e,n),t===null&&i&4&&sc(n),i&512&&wn(n,n.return);break;case 12:sn(e,n);break;case 13:sn(e,n),i&4&&cc(e,n);break;case 22:if(o=n.memoizedState!==null||fn,!o){t=t!==null&&t.memoizedState!==null||Ue;var c=fn,A=Ue;fn=o,(Ue=t)&&!A?bn(e,n,(n.subtreeFlags&8772)!==0):sn(e,n),fn=c,Ue=A}i&512&&(n.memoizedProps.mode==="manual"?wn(n,n.return):ft(n,n.return));break;default:sn(e,n)}}function uc(e){var t=e.alternate;t!==null&&(e.alternate=null,uc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Kh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zt(e,t,n){for(n=n.child;n!==null;)tr(e,t,n),n=n.sibling}function tr(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Hs,n)}catch{}switch(n.tag){case 26:if(St){Ue||ft(n,t),zt(e,t,n),n.memoizedState?ff(n.memoizedState):n.stateNode&&hf(n.stateNode);break}case 27:if(et){Ue||ft(n,t);var i=Qe,o=Bt;Qe=n.stateNode,zt(e,t,n),Qp(n.stateNode),Qe=i,Bt=o;break}case 5:Ue||ft(n,t);case 6:if($e){if(i=Qe,o=Bt,Qe=null,zt(e,t,n),Qe=i,Bt=o,Qe!==null)if(Bt)try{up(Qe,n.stateNode)}catch(c){ye(n,t,c)}else try{op(Qe,n.stateNode)}catch(c){ye(n,t,c)}}else zt(e,t,n);break;case 18:$e&&Qe!==null&&(Bt?Np(Qe,n.stateNode):_p(Qe,n.stateNode));break;case 4:$e?(i=Qe,o=Bt,Qe=n.stateNode.containerInfo,Bt=!0,zt(e,t,n),Qe=i,Bt=o):(On&&rc(n.stateNode,n,$c()),zt(e,t,n));break;case 0:case 11:case 14:case 15:Ue||Mn(2,n,t),Ue||Mn(4,n,t),zt(e,t,n);break;case 1:Ue||(ft(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&ac(n,t,i)),zt(e,t,n);break;case 21:zt(e,t,n);break;case 22:Ue||ft(n,t),Ue=(i=Ue)||n.memoizedState!==null,zt(e,t,n),Ue=i;break;default:zt(e,t,n)}}function cc(e,t){if(yt&&t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Op(e)}catch(n){ye(t,t.return,n)}}function hh(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sf),t;default:throw Error(u(435,e.tag))}}function nr(e,t){var n=hh(e);t.forEach(function(i){var o=gh.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}function ot(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],c=e,A=t;if($e){var g=A;e:for(;g!==null;){switch(g.tag){case 27:case 5:Qe=g.stateNode,Bt=!1;break e;case 3:Qe=g.stateNode.containerInfo,Bt=!0;break e;case 4:Qe=g.stateNode.containerInfo,Bt=!0;break e}g=g.return}if(Qe===null)throw Error(u(160));tr(c,A,o),Qe=null,Bt=!1}else tr(c,A,o);c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)fc(t,e),t=t.sibling}function fc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ot(t,e),dt(e),i&4&&(Mn(3,e,e.return),Ts(3,e),Mn(5,e,e.return));break;case 1:ot(t,e),dt(e),i&512&&(Ue||n===null||ft(n,n.return)),i&64&&fn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:if(St){var o=It;ot(t,e),dt(e),i&512&&(Ue||n===null||ft(n,n.return)),i&4&&(i=n!==null?n.memoizedState:null,t=e.memoizedState,n===null?t===null?e.stateNode===null?e.stateNode=Fp(o,e.type,e.memoizedProps,e):df(o,e.type,e.stateNode):e.stateNode=cf(o,t,e.memoizedProps):i!==t?(i===null?n.stateNode!==null&&hf(n.stateNode):ff(i),t===null?df(o,e.type,e.stateNode):cf(o,t,e.memoizedProps)):t===null&&e.stateNode!==null&&ic(e,e.memoizedProps,n.memoizedProps));break}case 27:if(et&&i&4&&e.alternate===null){o=e.stateNode;var c=e.memoizedProps;try{Ip(o),Kp(e.type,c,o,e)}catch(J){ye(e,e.return,J)}}case 5:if(ot(t,e),dt(e),i&512&&(Ue||n===null||ft(n,n.return)),$e){if(e.flags&32){t=e.stateNode;try{kc(t)}catch(J){ye(e,e.return,J)}}i&4&&e.stateNode!=null&&(t=e.memoizedProps,ic(e,t,n!==null?n.memoizedProps:t)),i&1024&&(Xr=!0)}break;case 6:if(ot(t,e),dt(e),i&4&&$e){if(e.stateNode===null)throw Error(u(162));i=e.memoizedProps,n=n!==null?n.memoizedProps:i,t=e.stateNode;try{ap(t,n,i)}catch(J){ye(e,e.return,J)}}break;case 3:if(St?(zp(),o=It,It=Hr(t.containerInfo),ot(t,e),It=o):ot(t,e),dt(e),i&4){if($e&&yt&&n!==null&&n.memoizedState.isDehydrated)try{Hp(t.containerInfo)}catch(J){ye(e,e.return,J)}if(On){i=t.containerInfo,n=t.pendingChildren;try{tf(i,n)}catch(J){ye(e,e.return,J)}}}Xr&&(Xr=!1,dc(e));break;case 4:St?(n=It,It=Hr(e.stateNode.containerInfo),ot(t,e),dt(e),It=n):(ot(t,e),dt(e)),i&4&&On&&rc(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:ot(t,e),dt(e);break;case 13:ot(t,e),dt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zr=Jt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,nr(e,i)));break;case 22:i&512&&(Ue||n===null||ft(n,n.return)),o=e.memoizedState!==null;var A=n!==null&&n.memoizedState!==null,g=fn,b=Ue;if(fn=g||o,Ue=b||A,ot(t,e),Ue=b,fn=g,dt(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,i&8192&&(t._visibility=o?t._visibility&-2:t._visibility|1,o&&(t=fn||Ue,n===null||A||t||Ta(e)),$e&&(e.memoizedProps===null||e.memoizedProps.mode!=="manual"))){e:if(n=null,$e)for(t=e;;){if(t.tag===5||St&&t.tag===26||et&&t.tag===27){if(n===null){A=n=t;try{c=A.stateNode,o?cp(c):dp(A.stateNode,A.memoizedProps)}catch(J){ye(A,A.return,J)}}}else if(t.tag===6){if(n===null){A=t;try{var N=A.stateNode;o?fp(N):hp(N,A.memoizedProps)}catch(J){ye(A,A.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,nr(e,n))));break;case 19:ot(t,e),dt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,nr(e,i)));break;case 21:break;default:ot(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{if($e&&(!et||e.tag!==27)){e:{for(var n=e.return;n!==null;){if(lc(n)){var i=n;break e}n=n.return}throw Error(u(160))}switch(i.tag){case 27:if(et){var o=i.stateNode,c=$l(e);gi(e,c,o);break}case 5:var A=i.stateNode;i.flags&32&&(kc(A),i.flags&=-33);var g=$l(e);gi(e,g,A);break;case 3:case 4:var b=i.stateNode.containerInfo,N=$l(e);er(e,N,b);break;default:throw Error(u(161))}}}catch(J){ye(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dc(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dc(t),t.tag===5&&t.flags&1024&&Ph(t.stateNode),e=e.sibling}}function sn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)oc(e,t.alternate,t),t=t.sibling}function Ta(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Mn(4,t,t.return),Ta(t);break;case 1:ft(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ac(t,t.return,n),Ta(t);break;case 26:case 27:case 5:ft(t,t.return),Ta(t);break;case 22:ft(t,t.return),t.memoizedState===null&&Ta(t);break;default:Ta(t)}e=e.sibling}}function bn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,c=t,A=c.flags;switch(c.tag){case 0:case 11:case 15:bn(o,c,n),Ts(4,c);break;case 1:if(bn(o,c,n),i=c,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(N){ye(i,i.return,N)}if(i=c,o=i.updateQueue,o!==null){var g=i.stateNode;try{var b=o.shared.hiddenCallbacks;if(b!==null)for(o.shared.hiddenCallbacks=null,o=0;o<b.length;o++)he(b[o],g)}catch(N){ye(i,i.return,N)}}n&&A&64&&nc(c),wn(c,c.return);break;case 26:case 27:case 5:bn(o,c,n),n&&i===null&&A&4&&sc(c),wn(c,c.return);break;case 12:bn(o,c,n);break;case 13:bn(o,c,n),n&&A&4&&cc(o,c);break;case 22:c.memoizedState===null&&bn(o,c,n),wn(c,c.return);break;default:bn(o,c,n)}t=t.sibling}}function ar(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ys(n))}function sr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ys(e))}function Rn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hc(e,t,n,i),t=t.sibling}function hc(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Rn(e,t,n,i),o&2048&&Ts(9,t);break;case 3:Rn(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ys(e)));break;case 12:if(o&2048){Rn(e,t,n,i),e=t.stateNode;try{var c=t.memoizedProps,A=c.id,g=c.onPostCommit;typeof g=="function"&&g(A,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){ye(t,t.return,b)}}else Rn(e,t,n,i);break;case 23:break;case 22:c=t.stateNode,t.memoizedState!==null?c._visibility&4?Rn(e,t,n,i):Ms(e,t):c._visibility&4?Rn(e,t,n,i):(c._visibility|=4,Ma(e,t,n,i,(t.subtreeFlags&10256)!==0)),o&2048&&ar(t.alternate,t);break;case 24:Rn(e,t,n,i),o&2048&&sr(t.alternate,t);break;default:Rn(e,t,n,i)}}function Ma(e,t,n,i,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,A=t,g=n,b=i,N=A.flags;switch(A.tag){case 0:case 11:case 15:Ma(c,A,g,b,o),Ts(8,A);break;case 23:break;case 22:var J=A.stateNode;A.memoizedState!==null?J._visibility&4?Ma(c,A,g,b,o):Ms(c,A):(J._visibility|=4,Ma(c,A,g,b,o)),o&&N&2048&&ar(A.alternate,A);break;case 24:Ma(c,A,g,b,o),o&&N&2048&&sr(A.alternate,A);break;default:Ma(c,A,g,b,o)}t=t.sibling}}function Ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:Ms(n,i),o&2048&&ar(i.alternate,i);break;case 24:Ms(n,i),o&2048&&sr(i.alternate,i);break;default:Ms(n,i)}t=t.sibling}}function Wn(e){if(e.subtreeFlags&Ya)for(e=e.child;e!==null;)pc(e),e=e.sibling}function pc(e){switch(e.tag){case 26:Wn(e),e.flags&Ya&&(e.memoizedState!==null?jp(It,e.memoizedState,e.memoizedProps):Wc(e.type,e.memoizedProps));break;case 5:Wn(e),e.flags&Ya&&Wc(e.type,e.memoizedProps);break;case 3:case 4:if(St){var t=It;It=Hr(e.stateNode.containerInfo),Wn(e),It=t}else Wn(e);break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ya,Ya=16777216,Wn(e),Ya=t):Wn(e));break;default:Wn(e)}}function mc(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Pe=i,vc(i,e)}mc(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ac(e),e=e.sibling}function Ac(e){switch(e.tag){case 0:case 11:case 15:bs(e),e.flags&2048&&Mn(9,e,e.return);break;case 3:bs(e);break;case 12:bs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,yi(e)):bs(e);break;default:bs(e)}}function yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Pe=i,vc(i,e)}mc(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Mn(8,t,t.return),yi(t);break;case 22:n=t.stateNode,n._visibility&4&&(n._visibility&=-5,yi(t));break;default:yi(t)}e=e.sibling}}function vc(e,t){for(;Pe!==null;){var n=Pe;switch(n.tag){case 0:case 11:case 15:Mn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ys(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Pe=i;else e:for(n=e;Pe!==null;){i=Pe;var o=i.sibling,c=i.return;if(uc(i),i===n){Pe=null;break e}if(o!==null){o.return=c,Pe=o;break e}Pe=c}}}function ir(e){var t=qc(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(u(364));return t}if(e=qh(e),e===null)throw Error(u(362));return e.stateNode.current}function lr(e,t){var n=e.tag;switch(t.$$typeof){case Ii:if(e.type===t.value)return!0;break;case Ki:e:{for(t=t.value,e=[e,0],n=0;n<e.length;){var i=e[n++],o=i.tag,c=e[n++],A=t[c];if(o!==5&&o!==26&&o!==27||!Gs(i)){for(;A!=null&&lr(i,A);)c++,A=t[c];if(c===t.length){t=!0;break e}else for(i=i.child;i!==null;)e.push(i,c),i=i.sibling}}t=!1}return t;case Qi:if((n===5||n===26||n===27)&&kh(e.stateNode,t.value))return!0;break;case Yi:if((n===5||n===6||n===26||n===27)&&(e=Wh(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case Xi:if((n===5||n===26||n===27)&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(u(365))}return!1}function rr(e){switch(e.$$typeof){case Ii:return"<"+(d(e.value)||"Unknown")+">";case Ki:return":has("+(rr(e)||"")+")";case Qi:return'[role="'+e.value+'"]';case Yi:return'"'+e.value+'"';case Xi:return'[data-testname="'+e.value+'"]';default:throw Error(u(365))}}function Bc(e,t){var n=[];e=[e,0];for(var i=0;i<e.length;){var o=e[i++],c=o.tag,A=e[i++],g=t[A];if(c!==5&&c!==26&&c!==27||!Gs(o)){for(;g!=null&&lr(o,g);)A++,g=t[A];if(A===t.length)n.push(o);else for(o=o.child;o!==null;)e.push(o,A),o=o.sibling}}return n}function or(e,t){if(!Ds)throw Error(u(363));e=ir(e),e=Bc(e,t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++],o=i.tag;if(o===5||o===26||o===27)Gs(i)||t.push(i.stateNode);else for(i=i.child;i!==null;)e.push(i),i=i.sibling}return t}function ht(){if((Te&2)!==0&&pe!==0)return pe&-pe;if(se.T!==null){var e=za;return e!==0?e:ga()}return jh()}function Ec(){Dt===0&&(Dt=(pe&536870912)===0||Be?P():536870912);var e=Rt.current;return e!==null&&(e.flags|=32),Dt}function nt(e,t,n){(e===be&&Re===2||e.cancelPendingCommit!==null)&&(ba(e,0),ln(e,pe,Dt,!1)),te(e,n),((Te&2)===0||e!==be)&&(e===be&&((Te&2)===0&&(ua|=n),Fe===4&&ln(e,pe,Dt,!1)),Ct(e))}function Cc(e,t,n){if((Te&6)!==0)throw Error(u(327));var i=!n&&(t&60)===0&&(t&e.expiredLanes)===0||F(e,t),o=i?Ah(e,t):dr(e,t,!0),c=i;do{if(o===0){Pa&&!i&&ln(e,t,0,!1);break}else if(o===6)ln(e,t,0,!dn);else{if(n=e.current.alternate,c&&!ph(n)){o=dr(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var A=0;else A=e.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){t=A;e:{var g=e;o=Ls;var b=yt&&g.current.memoizedState.isDehydrated;if(b&&(ba(g,A).flags|=256),A=dr(g,A,!1),A!==2){if(Yr&&!b){g.errorRecoveryDisabledLanes|=c,ua|=c,o=4;break e}c=qt,qt=o,c!==null&&ur(c)}o=A}if(c=!1,o!==2)continue}}if(o===1){ba(e,0),ln(e,t,0,!0);break}e:{switch(i=e,o){case 0:case 1:throw Error(u(345));case 4:if((t&4194176)===t){ln(i,t,Dt,!dn);break e}break;case 2:qt=null;break;case 3:case 5:break;default:throw Error(u(329))}if(i.finishedWork=n,i.finishedLanes=t,(t&62914560)===t&&(c=Zr+300-Jt(),10<c)){if(ln(i,t,Dt,!dn),L(i,0)!==0)break e;i.timeoutHandle=Lh(gc.bind(null,i,n,qt,Pi,Vr,t,Dt,ua,Va,dn,2,-0,0),c);break e}gc(i,n,qt,Pi,Vr,t,Dt,ua,Va,dn,0,-0,0)}}break}while(!0);Ct(e)}function ur(e){qt===null?qt=e:qt.push.apply(qt,e)}function gc(e,t,n,i,o,c,A,g,b,N,J,Q,X){var ie=t.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(Xh(),pc(t),t=Yh(),t!==null)){e.cancelPendingCommit=t(Hc.bind(null,e,n,i,o,A,g,b,1,Q,X)),ln(e,c,A,!N);return}Hc(e,n,i,o,A,g,b,J,Q,X)}function ph(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],c=o.getSnapshot;o=o.value;try{if(!vt(c(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t,n,i){t&=~Pr,t&=~ua,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var c=31-mt(o),A=1<<c;i[c]=-1,o&=~A}n!==0&&ee(e,n,t)}function yc(){return(Te&6)===0?(En(0),!1):!0}function cr(){if(ue!==null){if(Re===0)var e=ue.return;else e=ue,cn=ra=null,Ml(e),Ia=null,xs=0,e=ue;for(;e!==null;)tc(e.alternate,e),e=e.return;ue=null}}function ba(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;n!==Rr&&(e.timeoutHandle=Rr,zh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cr(),be=e,ue=n=Dn(e.current,null),pe=t,Re=0,Et=null,dn=!1,Pa=F(e,t),Yr=!1,Va=Dt=Pr=ua=Fn=Fe=0,qt=Ls=null,Vr=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-mt(i),c=1<<o;t|=e[o],i&=~c}return hn=t,Yn(),n}function Sc(e,t){re=null,se.H=Zt,t===Ns?(t=gt(),Re=3):t===jr?(t=gt(),Re=4):Re=t===gf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,ue===null&&(Fe=1,Ai(e,ne(t,e.current)))}function Tc(){var e=Rt.current;return e===null?!0:(pe&4194176)===pe?Vt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Vt:!1}function Mc(){var e=se.H;return se.H=Zt,e===null?Zt:e}function bc(){var e=se.A;return se.A=am,e}function fr(){Fe=4,dn||(pe&4194176)!==pe&&Rt.current!==null||(Pa=!0),(Fn&134217727)===0&&(ua&134217727)===0||be===null||ln(be,pe,Dt,!1)}function dr(e,t,n){var i=Te;Te|=2;var o=Mc(),c=bc();(be!==e||pe!==t)&&(Pi=null,ba(e,t)),t=!1;var A=Fe;e:do try{if(Re!==0&&ue!==null){var g=ue,b=Et;switch(Re){case 8:cr(),A=6;break e;case 3:case 2:case 6:Rt.current===null&&(t=!0);var N=Re;if(Re=0,Et=null,Ra(e,g,b,N),n&&Pa){A=0;break e}break;default:N=Re,Re=0,Et=null,Ra(e,g,b,N)}}mh(),A=Fe;break}catch(J){Sc(e,J)}while(!0);return t&&e.shellSuspendCounter++,cn=ra=null,Te=i,se.H=o,se.A=c,ue===null&&(be=null,pe=0,Yn()),A}function mh(){for(;ue!==null;)Rc(ue)}function Ah(e,t){var n=Te;Te|=2;var i=Mc(),o=bc();be!==e||pe!==t?(Pi=null,zs=Jt()+500,ba(e,t)):Pa=F(e,t);e:do try{if(Re!==0&&ue!==null){t=ue;var c=Et;t:switch(Re){case 1:Re=0,Et=null,Ra(e,t,c,1);break;case 2:if(Ft(c)){Re=0,Et=null,Dc(t);break}t=function(){Re===2&&be===e&&(Re=7),Ct(e)},c.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Ft(c)?(Re=0,Et=null,Dc(t)):(Re=0,Et=null,Ra(e,t,c,7));break;case 5:var A=null;switch(ue.tag){case 26:A=ue.memoizedState;case 5:case 27:var g=ue,b=g.type,N=g.pendingProps;if(A?pf(A):wc(b,N)){Re=0,Et=null;var J=g.sibling;if(J!==null)ue=J;else{var Q=g.return;Q!==null?(ue=Q,Si(Q)):ue=null}break t}}Re=0,Et=null,Ra(e,t,c,5);break;case 6:Re=0,Et=null,Ra(e,t,c,6);break;case 8:cr(),Fe=6;break e;default:throw Error(u(462))}}vh();break}catch(X){Sc(e,X)}while(!0);return cn=ra=null,se.H=i,se.A=o,Te=n,ue!==null?0:(be=null,pe=0,Yn(),Fe)}function vh(){for(;ue!==null&&!Pp();)Rc(ue)}function Rc(e){var t=Zu(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?Si(e):ue=t}function Dc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ku(n,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=Ku(n,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:Ml(t);default:tc(n,t),t=ue=xc(t,hn),t=Zu(n,t,hn)}e.memoizedProps=e.pendingProps,t===null?Si(e):ue=t}function Ra(e,t,n,i){cn=ra=null,Ml(t),Ia=null,xs=0;var o=t.return;try{if(oh(e,o,t,n,pe)){Fe=1,Ai(e,ne(n,e.current)),ue=null;return}}catch(c){if(o!==null)throw ue=o,c;Fe=1,Ai(e,ne(n,e.current)),ue=null;return}t.flags&32768?(Be||i===1?e=!0:Pa||(pe&536870912)!==0?e=!1:(dn=e=!0,(i===2||i===3||i===6)&&(i=Rt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Gc(t,e)):Si(t)}function Si(e){var t=e;do{if((t.flags&32768)!==0){Gc(t,dn);return}e=t.return;var n=ch(t.alternate,t,hn);if(n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Fe===0&&(Fe=5)}function Gc(e,t){do{var n=fh(e.alternate,e);if(n!==null){n.flags&=32767,ue=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=n}while(e!==null);Fe=6,ue=null}function Hc(e,t,n,i,o,c,A,g,b,N){var J=se.T,Q=ea();try{ut(2),se.T=null,Bh(e,t,n,i,Q,o,c,A,g,b,N)}finally{se.T=J,ut(Q)}}function Bh(e,t,n,i,o,c,A,g){do kn();while(ca!==null);if((Te&6)!==0)throw Error(u(327));var b=e.finishedWork;if(i=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=Ur,je(e,i,N,c,A,g),e===be&&(ue=be=null,pe=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||Vi||(Vi=!0,qr=N,wr=n,yh(Nr,function(){return kn(),null})),n=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||n?(n=se.T,se.T=null,c=ea(),ut(2),A=Te,Te|=4,dh(e,b),fc(b,e),Uh(e.containerInfo),e.current=b,oc(e,b.alternate,b),Vp(),Te=A,ut(c),se.T=n):e.current=b,Vi?(Vi=!1,ca=e,Js=i):Oc(e,N),N=e.pendingLanes,N===0&&(Ln=null),K(b.stateNode),Ct(e),t!==null)for(o=e.onRecoverableError,b=0;b<t.length;b++)N=t[b],o(N.value,{componentStack:N.stack});return(Js&3)!==0&&kn(),N=e.pendingLanes,(i&4194218)!==0&&(N&42)!==0?e===Wr?js++:(js=0,Wr=e):js=0,En(0),null}function Oc(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ys(t)))}function kn(){if(ca!==null){var e=ca,t=qr;qr=0;var n=De(Js),i=32>n?32:n;n=se.T;var o=ea();try{if(ut(i),se.T=null,ca===null)var c=!1;else{i=wr,wr=null;var A=ca,g=Js;if(ca=null,Js=0,(Te&6)!==0)throw Error(u(331));var b=Te;if(Te|=4,Ac(A.current),hc(A,A.current,g,i),Te=b,En(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Hs,A)}catch{}c=!0}return c}finally{ut(o),se.T=n,Oc(e,t)}}return!1}function _c(e,t,n){t=ne(n,t),t=Ll(e.stateNode,t,2),e=Ut(e,t,2),e!==null&&(te(e,2),Ct(e))}function ye(e,t,n){if(e.tag===3)_c(e,e,n);else for(;t!==null;){if(t.tag===3){_c(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ln===null||!Ln.has(i))){e=ne(n,e),n=Uu(2),i=Ut(t,n,2),i!==null&&(Fu(n,i,t,e),te(i,2),Ct(i));break}}t=t.return}}function hr(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new sm;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(Yr=!0,o.add(n),e=Eh.bind(null,e,t,n),t.then(e,e))}function Eh(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,be===e&&(pe&n)===n&&(Fe===4||Fe===3&&(pe&62914560)===pe&&300>Jt()-Zr?(Te&2)===0&&ba(e,0):Pr|=n,Va===pe&&(Va=0)),Ct(e)}function Nc(e,t){t===0&&(t=Y()),e=xt(e,t),e!==null&&(te(e,t),Ct(e))}function Ch(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nc(e,n)}function gh(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(u(314))}i!==null&&i.delete(t),Nc(e,n)}function yh(e,t){return Hi(e,t)}function Sh(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dn(e,t){var n=e.alternate;return n===null?(n=l(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&31457280,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function xc(e,t){e.flags&=31457282;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ti(e,t,n,i,o,c){var A=0;if(i=e,typeof e=="function")pr(e)&&(A=1);else if(typeof e=="string")A=St&&et?of(e,n,We.current)?26:Af(e)?27:5:St?of(e,n,We.current)?26:5:et&&Af(e)?27:5;else e:switch(e){case Ga:return $n(n.children,o,c,t);case Ic:A=8,o|=24;break;case Er:return e=l(12,n,t,o|2),e.elementType=Er,e.lanes=c,e;case gr:return e=l(13,n,t,o),e.elementType=gr,e.lanes=c,e;case yr:return e=l(19,n,t,o),e.elementType=yr,e.lanes=c,e;case Qc:return Uc(n,o,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rh:case Gn:A=10;break e;case Kc:A=9;break e;case Cr:A=11;break e;case Sr:A=14;break e;case Hn:A=16,i=null;break e}A=29,n=Error(u(130,e===null?"null":typeof e,"")),i=null}return t=l(A,n,t,o),t.elementType=e,t.type=i,t.lanes=c,t}function $n(e,t,n,i){return e=l(7,e,i,t),e.lanes=n,e}function Uc(e,t,n,i){e=l(22,e,i,t),e.elementType=Qc,e.lanes=n;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var c=o._current;if(c===null)throw Error(u(456));if((o._pendingVisibility&2)===0){var A=xt(c,2);A!==null&&(o._pendingVisibility|=2,nt(A,c,2))}},attach:function(){var c=o._current;if(c===null)throw Error(u(456));if((o._pendingVisibility&2)!==0){var A=xt(c,2);A!==null&&(o._pendingVisibility&=-3,nt(A,c,2))}}};return e.stateNode=o,e}function mr(e,t,n){return e=l(6,e,null,t),e.lanes=n,e}function Ar(e,t,n){return t=l(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Th(e,t,n,i,o,c,A,g){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Rr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=j(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j(0),this.hiddenUpdates=j(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function Fc(e,t,n,i,o,c,A,g,b,N,J,Q){return e=new Th(e,t,n,A,g,b,N,Q),t=1,c===!0&&(t|=24),c=l(3,null,null,t),e.current=c,c.stateNode=e,t=Zl(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:i,isDehydrated:n,cache:t},ya(c),e}function Lc(e){return e?(e=_a,e):_a}function zc(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=C(t),e=e!==null?R(e):null,e===null?null:Rs(e.stateNode)}function Jc(e,t,n,i,o,c){o=Lc(o),i.context===null?i.context=o:i.pendingContext=o,i=Xt(t),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Ut(e,i,t),n!==null&&(nt(n,e,t),$t(n,e,t))}function jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vr(e,t){jc(e,t),(e=e.alternate)&&jc(e,t)}var oe={},Mh=Yo(),pt=Dd(),Br=Object.assign,bh=Symbol.for("react.element"),Mi=Symbol.for("react.transitional.element"),Da=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),Er=Symbol.for("react.profiler"),Rh=Symbol.for("react.provider"),Kc=Symbol.for("react.consumer"),Gn=Symbol.for("react.context"),Cr=Symbol.for("react.forward_ref"),gr=Symbol.for("react.suspense"),yr=Symbol.for("react.suspense_list"),Sr=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),Dh=Symbol.for("react.memo_cache_sentinel"),Xc=Symbol.iterator,Gh=Symbol.for("react.client.reference"),se=Mh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tr,Yc,Mr=!1,bi=Array.isArray,Hh=a.rendererVersion,Oh=a.rendererPackageName,Pc=a.extraDevToolsConfig,Rs=a.getPublicInstance,_h=a.getRootHostContext,Nh=a.getChildHostContext,xh=a.prepareForCommit,Uh=a.resetAfterCommit,Fh=a.createInstance,br=a.appendInitialChild,Vc=a.finalizeInitialChildren,Ri=a.shouldSetTextContent,Zc=a.createTextInstance,Lh=a.scheduleTimeout,zh=a.cancelTimeout,Rr=a.noTimeout,rn=a.isPrimaryRenderer;a.warnsIfNotActing;var $e=a.supportsMutation,On=a.supportsPersistence,yt=a.supportsHydration,qc=a.getInstanceFromNode;a.beforeActiveInstanceBlur,a.afterActiveInstanceBlur;var Jh=a.preparePortalMount;a.prepareScopeUpdate,a.getInstanceFromScope;var ut=a.setCurrentUpdatePriority,ea=a.getCurrentUpdatePriority,jh=a.resolveUpdatePriority;a.resolveEventType,a.resolveEventTimeStamp;var Ih=a.shouldAttemptEagerTransition,Kh=a.detachDeletedInstance;a.requestPostPaintCallback;var Qh=a.maySuspendCommit,wc=a.preloadInstance,Xh=a.startSuspendingCommit,Wc=a.suspendInstance,Yh=a.waitForCommitToBeReady,Ha=a.NotPendingTransition,ta=a.HostTransitionContext,Ph=a.resetFormInstance;a.bindToConsole;var Vh=a.supportsMicrotasks,Zh=a.scheduleMicrotask,Ds=a.supportsTestSelectors,qh=a.findFiberRoot,wh=a.getBoundingRect,Wh=a.getTextContent,Gs=a.isHiddenSubtree,kh=a.matchAccessibilityRole,$h=a.setFocusIfFocusable,ep=a.setupIntersectionObserver,tp=a.appendChild,np=a.appendChildToContainer,ap=a.commitTextUpdate,sp=a.commitMount,ip=a.commitUpdate,lp=a.insertBefore,rp=a.insertInContainerBefore,op=a.removeChild,up=a.removeChildFromContainer,kc=a.resetTextContent,cp=a.hideInstance,fp=a.hideTextInstance,dp=a.unhideInstance,hp=a.unhideTextInstance,pp=a.clearContainer,mp=a.cloneInstance,$c=a.createContainerChildSet,ef=a.appendChildToContainerChildSet,Ap=a.finalizeContainerChildren,tf=a.replaceContainerChildren,nf=a.cloneHiddenInstance,af=a.cloneHiddenTextInstance,Dr=a.isSuspenseInstancePending,Gr=a.isSuspenseInstanceFallback,vp=a.getSuspenseInstanceFallbackErrorDetails,Bp=a.registerSuspenseInstanceRetry,Ep=a.canHydrateFormStateMarker,Cp=a.isFormStateMarkerMatching,sf=a.getNextHydratableSibling,lf=a.getFirstHydratableChild,gp=a.getFirstHydratableChildWithinContainer,yp=a.getFirstHydratableChildWithinSuspenseInstance,Sp=a.canHydrateInstance,Tp=a.canHydrateTextInstance,Mp=a.canHydrateSuspenseInstance,bp=a.hydrateInstance,Rp=a.hydrateTextInstance,Dp=a.hydrateSuspenseInstance,Gp=a.getNextHydratableInstanceAfterSuspenseInstance,Hp=a.commitHydratedContainer,Op=a.commitHydratedSuspenseInstance,_p=a.clearSuspenseBoundary,Np=a.clearSuspenseBoundaryFromContainer,rf=a.shouldDeleteUnhydratedTailInstances;a.diffHydratedPropsForDevWarnings,a.diffHydratedTextForDevWarnings,a.describeHydratableInstanceForDevWarnings;var xp=a.validateHydratableInstance,Up=a.validateHydratableTextInstance,St=a.supportsResources,of=a.isHostHoistableType,Hr=a.getHoistableRoot,uf=a.getResource,cf=a.acquireResource,ff=a.releaseResource,Fp=a.hydrateHoistable,df=a.mountHoistable,hf=a.unmountHoistable,Lp=a.createHoistableInstance,zp=a.prepareToCommitHoistables,Jp=a.mayResourceSuspendCommit,pf=a.preloadResource,jp=a.suspendResource,et=a.supportsSingletons,mf=a.resolveSingletonInstance,Ip=a.clearSingleton,Kp=a.acquireSingletonInstance,Qp=a.releaseSingletonInstance,Af=a.isHostSingletonType,Or=[],Oa=-1,_a={},mt=Math.clz32?Math.clz32:_,Xp=Math.log,Yp=Math.LN2,Di=128,Gi=4194304,Hi=pt.unstable_scheduleCallback,_r=pt.unstable_cancelCallback,Pp=pt.unstable_shouldYield,Vp=pt.unstable_requestPaint,Jt=pt.unstable_now,vf=pt.unstable_ImmediatePriority,Zp=pt.unstable_UserBlockingPriority,Nr=pt.unstable_NormalPriority,qp=pt.unstable_IdlePriority,wp=pt.log,Wp=pt.unstable_setDisableYieldValue,Hs=null,At=null,vt=typeof Object.is=="function"?Object.is:q,Bf=new WeakMap,Na=[],xa=0,Oi=null,_i=0,Tt=[],Mt=0,na=null,on=1,un="",We=O(null),Os=O(null),_n=O(null),Ni=O(null),at=null,tt=null,Be=!1,jt=null,Pt=!1,xr=Error(u(519)),bt=[],Ua=0,Ur=0,xi=null,Fa=null,Fr=!1,Ui=!1,Lr=!1,La=0,_s=null,zr=0,za=0,Ja=null,Nn=!1,Jr=!1,kp=Object.prototype.hasOwnProperty,Ns=Error(u(460)),jr=Error(u(474)),Fi={then:function(){}},ja=null,Ia=null,xs=0,aa=Vn(!0),Ef=Vn(!1),Ka=O(null),Li=O(0),Rt=O(null),Vt=null,Xe=O(0),xn=0,re=null,Se=null,Ke=null,zi=!1,Qa=!1,sa=!1,Ji=0,Us=0,Xa=null,$p=0,Ir=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Zt={readContext:ke,use:fi,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze};Zt.useCacheRefresh=ze,Zt.useMemoCache=ze,Zt.useHostTransitionStatus=ze,Zt.useFormState=ze,Zt.useActionState=ze,Zt.useOptimistic=ze;var ia={readContext:ke,use:fi,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:ke,useEffect:vu,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,hi(4194308,4,Cu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){hi(4,2,e,t)},useMemo:function(e,t){var n=rt();t=t===void 0?null:t;var i=e();if(sa){V(!0);try{e()}finally{V(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=rt();if(n!==void 0){var o=n(t);if(sa){V(!0);try{n(t)}finally{V(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=rh.bind(null,re,e),[i.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:function(e){e=Gl(e);var t=e.queue,n=Gu.bind(null,re,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_l,useDeferredValue:function(e,t){var n=rt();return Nl(n,e,t)},useTransition:function(){var e=Gl(!1);return e=Mu.bind(null,re,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=re,o=rt();if(Be){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),be===null)throw Error(u(349));(pe&60)!==0||tu(i,t,n)}o.memoizedState=n;var c={value:n,getSnapshot:t};return o.queue=c,vu(au.bind(null,i,c,e),[e]),i.flags|=2048,Sa(9,nu.bind(null,i,c,n,t),{destroy:void 0},null),n},useId:function(){var e=rt(),t=be.identifierPrefix;if(Be){var n=un,i=on;n=(i&~(1<<32-mt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$p++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return rt().memoizedState=lh.bind(null,re)}};ia.useMemoCache=bl,ia.useHostTransitionStatus=xl,ia.useFormState=du,ia.useActionState=du,ia.useOptimistic=function(e){var t=rt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ul.bind(null,re,!0,n),n.dispatch=t,[e,t]};var Un={readContext:ke,use:fi,useCallback:yu,useContext:ke,useEffect:Ol,useImperativeHandle:gu,useInsertionEffect:Bu,useLayoutEffect:Eu,useMemo:Su,useReducer:di,useRef:Au,useState:function(){return di(tn)},useDebugValue:_l,useDeferredValue:function(e,t){var n=Ie();return Tu(n,Se.memoizedState,e,t)},useTransition:function(){var e=di(tn)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Bs(e),t]},useSyncExternalStore:eu,useId:Ru};Un.useCacheRefresh=Du,Un.useMemoCache=bl,Un.useHostTransitionStatus=xl,Un.useFormState=hu,Un.useActionState=hu,Un.useOptimistic=function(e,t){var n=Ie();return lu(n,Se,e,t)};var la={readContext:ke,use:fi,useCallback:yu,useContext:ke,useEffect:Ol,useImperativeHandle:gu,useInsertionEffect:Bu,useLayoutEffect:Eu,useMemo:Su,useReducer:Dl,useRef:Au,useState:function(){return Dl(tn)},useDebugValue:_l,useDeferredValue:function(e,t){var n=Ie();return Se===null?Nl(n,e,t):Tu(n,Se.memoizedState,e,t)},useTransition:function(){var e=Dl(tn)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Bs(e),t]},useSyncExternalStore:eu,useId:Ru};la.useCacheRefresh=Du,la.useMemoCache=bl,la.useHostTransitionStatus=xl,la.useFormState=mu,la.useActionState=mu,la.useOptimistic=function(e,t){var n=Ie();return Se!==null?lu(n,Se,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Kr={isMounted:function(e){return(e=e._reactInternals)?v(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ht(),o=Xt(i);o.payload=t,n!=null&&(o.callback=n),t=Ut(e,o,i),t!==null&&(nt(t,e,i),$t(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ht(),o=Xt(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ut(e,o,i),t!==null&&(nt(t,e,i),$t(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ht(),i=Xt(n);i.tag=2,t!=null&&(i.callback=t),t=Ut(e,i,n),t!==null&&(nt(t,e,n),$t(t,e,n))}},Cf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gf=Error(u(461)),Ye=!1,Qr={dehydrated:null,treeContext:null,retryLane:0},ji=O(null),ra=null,cn=null,em=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},tm=pt.unstable_scheduleCallback,nm=pt.unstable_NormalPriority,xe={$$typeof:Gn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},yf=se.S;se.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ps(e,t),yf!==null&&yf(e,t)};var oa=O(null),fn=!1,Ue=!1,Xr=!1,Sf=typeof WeakSet=="function"?WeakSet:Set,Pe=null,Tf=!1,Qe=null,Bt=!1,It=null,Ya=8192,am={getCacheForType:function(e){var t=ke(xe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Ii=0,Ki=1,Qi=2,Xi=3,Yi=4;if(typeof Symbol=="function"&&Symbol.for){var Fs=Symbol.for;Ii=Fs("selector.component"),Ki=Fs("selector.has_pseudo_class"),Qi=Fs("selector.role"),Xi=Fs("selector.test_id"),Yi=Fs("selector.text")}var sm=typeof WeakMap=="function"?WeakMap:Map,Te=0,be=null,ue=null,pe=0,Re=0,Et=null,dn=!1,Pa=!1,Yr=!1,hn=0,Fe=0,Fn=0,ua=0,Pr=0,Dt=0,Va=0,Ls=null,qt=null,Vr=!1,Zr=0,zs=1/0,Pi=null,Ln=null,Vi=!1,ca=null,Js=0,qr=0,wr=null,js=0,Wr=null;return oe.attemptContinuousHydration=function(e){if(e.tag===13){var t=xt(e,67108864);t!==null&&nt(t,e,67108864),vr(e,67108864)}},oe.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=ht(),n=xt(e,t);n!==null&&nt(n,e,t),vr(e,t)}},oe.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if(e=e.stateNode,e.current.memoizedState.isDehydrated){var t=x(e.pendingLanes);if(t!==0){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var n=1<<31-mt(t);e.entanglements[1]|=n,t&=~n}Ct(e),(Te&6)===0&&(zs=Jt()+500,En(0))}}break;case 13:t=xt(e,2),t!==null&&nt(t,e,2),yc(),vr(e,2)}},oe.batchedUpdates=function(e,t){return e(t)},oe.createComponentSelector=function(e){return{$$typeof:Ii,value:e}},oe.createContainer=function(e,t,n,i,o,c,A,g,b,N){return Fc(e,t,!1,null,n,i,c,A,g,b,N,null)},oe.createHasPseudoClassSelector=function(e){return{$$typeof:Ki,value:e}},oe.createHydrationContainer=function(e,t,n,i,o,c,A,g,b,N,J,Q,X){return e=Fc(n,i,!0,e,o,c,g,b,N,J,Q,X),e.context=Lc(null),n=e.current,i=ht(),o=Xt(i),o.callback=t??null,Ut(n,o,i),e.current.lanes=i,te(e,i),Ct(e),e},oe.createPortal=function(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Da,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}},oe.createRoleSelector=function(e){return{$$typeof:Qi,value:e}},oe.createTestNameSelector=function(e){return{$$typeof:Xi,value:e}},oe.createTextSelector=function(e){return{$$typeof:Yi,value:e}},oe.defaultOnCaughtError=function(e){console.error(e)},oe.defaultOnRecoverableError=function(e){Cf(e)},oe.defaultOnUncaughtError=function(e){Cf(e)},oe.deferredUpdates=function(e){var t=se.T,n=ea();try{return ut(32),se.T=null,e()}finally{ut(n),se.T=t}},oe.discreteUpdates=function(e,t,n,i,o){var c=se.T,A=ea();try{return ut(2),se.T=null,e(t,n,i,o)}finally{ut(A),se.T=c,Te===0&&(zs=Jt()+500)}},oe.findAllNodes=or,oe.findBoundingRects=function(e,t){if(!Ds)throw Error(u(363));t=or(e,t),e=[];for(var n=0;n<t.length;n++)e.push(wh(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var i=n.x,o=i+n.width,c=n.y,A=c+n.height,g=t-1;0<=g;g--)if(t!==g){var b=e[g],N=b.x,J=N+b.width,Q=b.y,X=Q+b.height;if(i>=N&&c>=Q&&o<=J&&A<=X){e.splice(t,1);break}else if(i!==N||n.width!==b.width||X<c||Q>A){if(!(c!==Q||n.height!==b.height||J<i||N>o)){N>i&&(b.width+=N-i,b.x=i),J<o&&(b.width=o-N),e.splice(t,1);break}}else{Q>c&&(b.height+=Q-c,b.y=c),X<A&&(b.height=A-Q),e.splice(t,1);break}}}return e},oe.findHostInstance=zc,oe.findHostInstanceWithNoPortals=function(e){return e=C(e),e=e!==null?G(e):null,e===null?null:Rs(e.stateNode)},oe.findHostInstanceWithWarning=function(e){return zc(e)},oe.flushPassiveEffects=kn,oe.flushSyncFromReconciler=function(e){var t=Te;Te|=1;var n=se.T,i=ea();try{if(ut(2),se.T=null,e)return e()}finally{ut(i),se.T=n,Te=t,(Te&6)===0&&En(0)}},oe.flushSyncWork=yc,oe.focusWithin=function(e,t){if(!Ds)throw Error(u(363));for(e=ir(e),t=Bc(e,t),t=Array.from(t),e=0;e<t.length;){var n=t[e++],i=n.tag;if(!Gs(n)){if((i===5||i===26||i===27)&&$h(n.stateNode))return!0;for(n=n.child;n!==null;)t.push(n),n=n.sibling}}return!1},oe.getFindAllNodesFailureDescription=function(e,t){if(!Ds)throw Error(u(363));var n=0,i=[];e=[ir(e),0];for(var o=0;o<e.length;){var c=e[o++],A=c.tag,g=e[o++],b=t[g];if((A!==5&&A!==26&&A!==27||!Gs(c))&&(lr(c,b)&&(i.push(rr(b)),g++,g>n&&(n=g)),g<t.length))for(c=c.child;c!==null;)e.push(c,g),c=c.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(rr(t[n]));return`findAllNodes was able to match part of the selector:
  `+(i.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},oe.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 27:case 5:return Rs(e.child.stateNode);default:return e.child.stateNode}},oe.injectIntoDevTools=function(){var e={bundleType:0,version:Hh,rendererPackageName:Oh,currentDispatcherRef:se,findFiberByHostInstance:qc,reconcilerVersion:"19.0.0"};if(Pc!==null&&(e.rendererConfig=Pc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Hs=t.inject(e),At=t}catch{}e=!!t.checkDCE}}return e},oe.isAlreadyRendering=function(){return!1},oe.observeVisibleRects=function(e,t,n,i){if(!Ds)throw Error(u(363));e=or(e,t);var o=ep(e,n,i).disconnect;return{disconnect:function(){o()}}},oe.shouldError=function(){return null},oe.shouldSuspend=function(){return!1},oe.startHostTransition=function(e,t,n,i){if(e.tag!==5)throw Error(u(476));var o=bu(e).queue;Mu(e,o,t,Ha,n===null?r:function(){var c=bu(e).next.queue;return Es(e,c,{},ht()),n(i)})},oe.updateContainer=function(e,t,n,i){var o=t.current,c=ht();return Jc(o,c,e,t,n,i),c},oe.updateContainerSync=function(e,t,n,i){return t.tag===0&&kn(),Jc(t.current,2,e,t,n,i),2},oe},s.exports.default=s.exports,Object.defineProperty(s.exports,"__esModule",{value:!0})})(ro)),ro.exports}var jf;function bA(){return jf||(jf=1,lo.exports=MA()),lo.exports}var RA=bA();const DA=Md(RA);var If=Dd();function Po(s,a,l){if(!s)return;if(l(s)===!0)return s;let r=a?s.return:s.child;for(;r;){const u=Po(r,a,l);if(u)return u;r=a?null:r.sibling}}function Gd(s){try{return Object.defineProperties(s,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return s}}const Vo=Gd(U.createContext(null));class Hd extends U.Component{render(){return U.createElement(Vo.Provider,{value:this._reactInternals},this.props.children)}}function Od(){const s=U.useContext(Vo);if(s===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const a=U.useId();return U.useMemo(()=>{for(const l of[s,s?.alternate]){if(!l)continue;const r=Po(l,!1,u=>{let f=u.memoizedState;for(;f;){if(f.memoizedState===a)return!0;f=f.next}});if(r)return r}},[s,a])}const GA=Symbol.for("react.context"),HA=s=>s!==null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===GA;function OA(){const s=Od(),[a]=U.useState(()=>new Map);a.clear();let l=s;for(;l;){const r=l.type;HA(r)&&r!==Vo&&!a.has(r)&&a.set(r,U.use(Gd(r))),l=l.return}return a}function _A(){const s=OA();return U.useMemo(()=>Array.from(s.keys()).reduce((a,l)=>r=>U.createElement(a,null,U.createElement(l.Provider,{...r,value:s.get(l)})),a=>U.createElement(Hd,{...a})),[s])}function _d(s){let a=s.root;for(;a.getState().previousRoot;)a=a.getState().previousRoot;return a}const Nd=s=>s&&s.isOrthographicCamera,NA=s=>s&&s.hasOwnProperty("current"),xA=s=>s!=null&&(typeof s=="string"||typeof s=="number"||s.isColor),ai=((s,a)=>typeof window<"u"&&(((s=window.document)==null?void 0:s.createElement)||((a=window.navigator)==null?void 0:a.product)==="ReactNative"))()?U.useLayoutEffect:U.useEffect;function xd(s){const a=U.useRef(s);return ai(()=>void(a.current=s),[s]),a}function UA(){const s=Od(),a=_A();return U.useMemo(()=>({children:l})=>{const u=!!Po(s,!0,f=>f.type===U.StrictMode)?U.StrictMode:U.Fragment;return Z.jsx(u,{children:Z.jsx(a,{children:l})})},[s,a])}function FA({set:s}){return ai(()=>(s(new Promise(()=>null)),()=>s(!1)),[s]),null}const LA=(s=>(s=class extends U.Component{constructor(...l){super(...l),this.state={error:!1}}componentDidCatch(l){this.props.set(l)}render(){return this.state.error?null:this.props.children}},s.getDerivedStateFromError=()=>({error:!0}),s))();function Ud(s){var a;const l=typeof window<"u"?(a=window.devicePixelRatio)!=null?a:2:1;return Array.isArray(s)?Math.min(Math.max(s[0],l),s[1]):s}function wa(s){var a;return(a=s.__r3f)==null?void 0:a.root.getState()}const He={obj:s=>s===Object(s)&&!He.arr(s)&&typeof s!="function",fun:s=>typeof s=="function",str:s=>typeof s=="string",num:s=>typeof s=="number",boo:s=>typeof s=="boolean",und:s=>s===void 0,nul:s=>s===null,arr:s=>Array.isArray(s),equ(s,a,{arrays:l="shallow",objects:r="reference",strict:u=!0}={}){if(typeof s!=typeof a||!!s!=!!a)return!1;if(He.str(s)||He.num(s)||He.boo(s))return s===a;const f=He.obj(s);if(f&&r==="reference")return s===a;const d=He.arr(s);if(d&&l==="reference")return s===a;if((d||f)&&s===a)return!0;let p;for(p in s)if(!(p in a))return!1;if(f&&l==="shallow"&&r==="shallow"){for(p in u?a:s)if(!He.equ(s[p],a[p],{strict:u,objects:"reference"}))return!1}else for(p in u?a:s)if(s[p]!==a[p])return!1;if(He.und(p)){if(d&&s.length===0&&a.length===0||f&&Object.keys(s).length===0&&Object.keys(a).length===0)return!0;if(s!==a)return!1}return!0}};function zA(s){const a={nodes:{},materials:{},meshes:{}};return s&&s.traverse(l=>{l.name&&(a.nodes[l.name]=l),l.material&&!a.materials[l.material.name]&&(a.materials[l.material.name]=l.material),l.isMesh&&!a.meshes[l.name]&&(a.meshes[l.name]=l)}),a}function JA(s){s.type!=="Scene"&&(s.dispose==null||s.dispose());for(const a in s){const l=s[a];l?.type!=="Scene"&&(l==null||l.dispose==null||l.dispose())}}const Fd=["children","key","ref"];function jA(s){const a={};for(const l in s)Fd.includes(l)||(a[l]=s[l]);return a}function ol(s,a,l,r){const u=s;let f=u?.__r3f;return f||(f={root:a,type:l,parent:null,children:[],props:jA(r),object:u,eventCount:0,handlers:{},isHidden:!1},u&&(u.__r3f=f)),f}function ei(s,a){if(!a.includes("-"))return{root:s,key:a,target:s[a]};if(a in s)return{root:s,key:a,target:s[a]};let l=s;const r=a.split("-");for(const u of r){if(typeof l!="object"||l===null){if(l!==void 0){const f=r.slice(r.indexOf(u)).join("-");return{root:l,key:f,target:void 0}}return{root:s,key:a,target:void 0}}a=u,s=l,l=l[a]}return{root:s,key:a,target:l}}const Kf=/-\d+$/;function ul(s,a){if(He.str(a.props.attach)){if(Kf.test(a.props.attach)){const u=a.props.attach.replace(Kf,""),{root:f,key:d}=ei(s.object,u);Array.isArray(f[d])||(f[d]=[])}const{root:l,key:r}=ei(s.object,a.props.attach);a.previousAttach=l[r],l[r]=a.object}else He.fun(a.props.attach)&&(a.previousAttach=a.props.attach(s.object,a.object))}function cl(s,a){if(He.str(a.props.attach)){const{root:l,key:r}=ei(s.object,a.props.attach),u=a.previousAttach;u===void 0?delete l[r]:l[r]=u}else a.previousAttach==null||a.previousAttach(s.object,a.object);delete a.previousAttach}const Go=[...Fd,"args","dispose","attach","object","onUpdate","dispose"],Qf=new Map;function IA(s){let a=Qf.get(s.constructor);try{a||(a=new s.constructor,Qf.set(s.constructor,a))}catch{}return a}function KA(s,a){const l={};for(const r in a)if(!Go.includes(r)&&!He.equ(a[r],s.props[r])){l[r]=a[r];for(const u in a)u.startsWith(`${r}-`)&&(l[u]=a[u])}for(const r in s.props){if(Go.includes(r)||a.hasOwnProperty(r))continue;const{root:u,key:f}=ei(s.object,r);if(u.constructor&&u.constructor.length===0){const d=IA(u);He.und(d)||(l[f]=d[f])}else l[f]=0}return l}const QA=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],XA=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Kn(s,a){var l;const r=s.__r3f,u=r&&_d(r).getState(),f=r?.eventCount;for(const p in a){let h=a[p];if(Go.includes(p))continue;if(r&&XA.test(p)){typeof h=="function"?r.handlers[p]=h:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;continue}if(h===void 0)continue;let{root:m,key:B,target:v}=ei(s,p);if(v===void 0&&(typeof m!="object"||m===null))throw Error(`R3F: Cannot set "${p}". Ensure it is an object before setting "${B}".`);if(v instanceof Mf&&h instanceof Mf)v.mask=h.mask;else if(v instanceof Nt&&xA(h))v.set(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&h!=null&&h.constructor&&v.constructor===h.constructor)v.copy(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(h))typeof v.fromArray=="function"?v.fromArray(h):v.set(...h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof h=="number")typeof v.setScalar=="function"?v.setScalar(h):v.set(h);else{var d;m[B]=h,u&&!u.linear&&QA.includes(B)&&(d=m[B])!=null&&d.isTexture&&m[B].format===dm&&m[B].type===Ws&&(m[B].colorSpace=Kt)}}if(r!=null&&r.parent&&u!=null&&u.internal&&(l=r.object)!=null&&l.isObject3D&&f!==r.eventCount){const p=r.object,h=u.internal.interaction.indexOf(p);h>-1&&u.internal.interaction.splice(h,1),r.eventCount&&p.raycast!==null&&u.internal.interaction.push(p)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&cs(r),s}function cs(s){var a;if(!s.parent)return;s.props.onUpdate==null||s.props.onUpdate(s.object);const l=(a=s.root)==null||a.getState==null?void 0:a.getState();l&&l.internal.frames===0&&l.invalidate()}function YA(s,a){s.manual||(Nd(s)?(s.left=a.width/-2,s.right=a.width/2,s.top=a.height/2,s.bottom=a.height/-2):s.aspect=a.width/a.height,s.updateProjectionMatrix())}const st=s=>s?.isObject3D;function Wi(s){return(s.eventObject||s.object).uuid+"/"+s.index+s.instanceId}function Ld(s,a,l,r){const u=l.get(a);u&&(l.delete(a),l.size===0&&(s.delete(r),u.target.releasePointerCapture(r)))}function PA(s,a){const{internal:l}=s.getState();l.interaction=l.interaction.filter(r=>r!==a),l.initialHits=l.initialHits.filter(r=>r!==a),l.hovered.forEach((r,u)=>{(r.eventObject===a||r.object===a)&&l.hovered.delete(u)}),l.capturedMap.forEach((r,u)=>{Ld(l.capturedMap,a,r,u)})}function VA(s){function a(h){const{internal:m}=s.getState(),B=h.offsetX-m.initialClick[0],v=h.offsetY-m.initialClick[1];return Math.round(Math.sqrt(B*B+v*v))}function l(h){return h.filter(m=>["Move","Over","Enter","Out","Leave"].some(B=>{var v;return(v=m.__r3f)==null?void 0:v.handlers["onPointer"+B]}))}function r(h,m){const B=s.getState(),v=new Set,E=[],C=m?m(B.internal.interaction):B.internal.interaction;for(let S=0;S<C.length;S++){const y=wa(C[S]);y&&(y.raycaster.camera=void 0)}B.previousRoot||B.events.compute==null||B.events.compute(h,B);function R(S){const y=wa(S);if(!y||!y.events.enabled||y.raycaster.camera===null)return[];if(y.raycaster.camera===void 0){var _;y.events.compute==null||y.events.compute(h,y,(_=y.previousRoot)==null?void 0:_.getState()),y.raycaster.camera===void 0&&(y.raycaster.camera=null)}return y.raycaster.camera?y.raycaster.intersectObject(S,!0):[]}let G=C.flatMap(R).sort((S,y)=>{const _=wa(S.object),x=wa(y.object);return!_||!x?S.distance-y.distance:x.events.priority-_.events.priority||S.distance-y.distance}).filter(S=>{const y=Wi(S);return v.has(y)?!1:(v.add(y),!0)});B.events.filter&&(G=B.events.filter(G,B));for(const S of G){let y=S.object;for(;y;){var O;(O=y.__r3f)!=null&&O.eventCount&&E.push({...S,eventObject:y}),y=y.parent}}if("pointerId"in h&&B.internal.capturedMap.has(h.pointerId))for(let S of B.internal.capturedMap.get(h.pointerId).values())v.has(Wi(S.intersection))||E.push(S.intersection);return E}function u(h,m,B,v){if(h.length){const E={stopped:!1};for(const C of h){let R=wa(C.object);if(R||C.object.traverseAncestors(G=>{const O=wa(G);if(O)return R=O,!1}),R){const{raycaster:G,pointer:O,camera:S,internal:y}=R,_=new Ne(O.x,O.y,0).unproject(S),x=Y=>{var j,te;return(j=(te=y.capturedMap.get(Y))==null?void 0:te.has(C.eventObject))!=null?j:!1},L=Y=>{const j={intersection:C,target:m.target};y.capturedMap.has(Y)?y.capturedMap.get(Y).set(C.eventObject,j):y.capturedMap.set(Y,new Map([[C.eventObject,j]])),m.target.setPointerCapture(Y)},F=Y=>{const j=y.capturedMap.get(Y);j&&Ld(y.capturedMap,C.eventObject,j,Y)};let W={};for(let Y in m){let j=m[Y];typeof j!="function"&&(W[Y]=j)}let P={...C,...W,pointer:O,intersections:h,stopped:E.stopped,delta:B,unprojectedPoint:_,ray:G.ray,camera:S,stopPropagation(){const Y="pointerId"in m&&y.capturedMap.get(m.pointerId);if((!Y||Y.has(C.eventObject))&&(P.stopped=E.stopped=!0,y.hovered.size&&Array.from(y.hovered.values()).find(j=>j.eventObject===C.eventObject))){const j=h.slice(0,h.indexOf(C));f([...j,C])}},target:{hasPointerCapture:x,setPointerCapture:L,releasePointerCapture:F},currentTarget:{hasPointerCapture:x,setPointerCapture:L,releasePointerCapture:F},nativeEvent:m};if(v(P),E.stopped===!0)break}}}return h}function f(h){const{internal:m}=s.getState();for(const B of m.hovered.values())if(!h.length||!h.find(v=>v.object===B.object&&v.index===B.index&&v.instanceId===B.instanceId)){const E=B.eventObject.__r3f;if(m.hovered.delete(Wi(B)),E!=null&&E.eventCount){const C=E.handlers,R={...B,intersections:h};C.onPointerOut==null||C.onPointerOut(R),C.onPointerLeave==null||C.onPointerLeave(R)}}}function d(h,m){for(let B=0;B<m.length;B++){const v=m[B].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function p(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>f([]);case"onLostPointerCapture":return m=>{const{internal:B}=s.getState();"pointerId"in m&&B.capturedMap.has(m.pointerId)&&requestAnimationFrame(()=>{B.capturedMap.has(m.pointerId)&&(B.capturedMap.delete(m.pointerId),f([]))})}}return function(B){const{onPointerMissed:v,internal:E}=s.getState();E.lastEvent.current=B;const C=h==="onPointerMove",R=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",O=r(B,C?l:void 0),S=R?a(B):0;h==="onPointerDown"&&(E.initialClick=[B.offsetX,B.offsetY],E.initialHits=O.map(_=>_.eventObject)),R&&!O.length&&S<=2&&(d(B,E.interaction),v&&v(B)),C&&f(O);function y(_){const x=_.eventObject,L=x.__r3f;if(!(L!=null&&L.eventCount))return;const F=L.handlers;if(C){if(F.onPointerOver||F.onPointerEnter||F.onPointerOut||F.onPointerLeave){const W=Wi(_),P=E.hovered.get(W);P?P.stopped&&_.stopPropagation():(E.hovered.set(W,_),F.onPointerOver==null||F.onPointerOver(_),F.onPointerEnter==null||F.onPointerEnter(_))}F.onPointerMove==null||F.onPointerMove(_)}else{const W=F[h];W?(!R||E.initialHits.includes(x))&&(d(B,E.interaction.filter(P=>!E.initialHits.includes(P))),W(_)):R&&E.initialHits.includes(x)&&d(B,E.interaction.filter(P=>!E.initialHits.includes(P)))}}u(O,B,S,y)}}return{handlePointer:p}}const Xf=s=>!!(s!=null&&s.render),zd=U.createContext(null),ZA=(s,a)=>{const l=EA((p,h)=>{const m=new Ne,B=new Ne,v=new Ne;function E(S=h().camera,y=B,_=h().size){const{width:x,height:L,top:F,left:W}=_,P=x/L;y.isVector3?v.copy(y):v.set(...y);const Y=S.getWorldPosition(m).distanceTo(v);if(Nd(S))return{width:x/S.zoom,height:L/S.zoom,top:F,left:W,factor:1,distance:Y,aspect:P};{const j=S.fov*Math.PI/180,te=2*Math.tan(j/2)*Y,je=te*(x/L);return{width:je,height:te,top:F,left:W,factor:x/je,distance:Y,aspect:P}}}let C;const R=S=>p(y=>({performance:{...y.performance,current:S}})),G=new Me;return{set:p,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>s(h(),S),advance:(S,y)=>a(S,y,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new hm,pointer:G,mouse:G,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=h();C&&clearTimeout(C),S.performance.current!==S.performance.min&&R(S.performance.min),C=setTimeout(()=>R(h().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:E},setEvents:S=>p(y=>({...y,events:{...y.events,...S}})),setSize:(S,y,_=0,x=0)=>{const L=h().camera,F={width:S,height:y,top:_,left:x};p(W=>({size:F,viewport:{...W.viewport,...E(L,B,F)}}))},setDpr:S=>p(y=>{const _=Ud(S);return{viewport:{...y.viewport,dpr:_,initialDpr:y.viewport.initialDpr||_}}}),setFrameloop:(S="always")=>{const y=h().clock;y.stop(),y.elapsedTime=0,S!=="never"&&(y.start(),y.elapsedTime=0),p(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:U.createRef(),active:!1,frames:0,priority:0,subscribe:(S,y,_)=>{const x=h().internal;return x.priority=x.priority+(y>0?1:0),x.subscribers.push({ref:S,priority:y,store:_}),x.subscribers=x.subscribers.sort((L,F)=>L.priority-F.priority),()=>{const L=h().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(y>0?1:0),L.subscribers=L.subscribers.filter(F=>F.ref!==S))}}}}}),r=l.getState();let u=r.size,f=r.viewport.dpr,d=r.camera;return l.subscribe(()=>{const{camera:p,size:h,viewport:m,gl:B,set:v}=l.getState();if(h.width!==u.width||h.height!==u.height||m.dpr!==f){u=h,f=m.dpr,YA(p,h),m.dpr>0&&B.setPixelRatio(m.dpr);const E=typeof HTMLCanvasElement<"u"&&B.domElement instanceof HTMLCanvasElement;B.setSize(h.width,h.height,E)}p!==d&&(d=p,v(E=>({viewport:{...E.viewport,...E.viewport.getCurrentViewport(p)}})))}),l.subscribe(p=>s(p)),l};function Jd(){const s=U.useContext(zd);if(!s)throw new Error("R3F: Hooks can only be used within the Canvas component!");return s}function _t(s=l=>l,a){return Jd()(s,a)}function fs(s,a=0){const l=Jd(),r=l.getState().internal.subscribe,u=xd(s);return ai(()=>r(u,a,l),[a,r,l]),null}const Yf=new WeakMap,qA=s=>{var a;return typeof s=="function"&&(s==null||(a=s.prototype)==null?void 0:a.constructor)===s};function jd(s,a){return function(l,...r){let u;return qA(l)?(u=Yf.get(l),u||(u=new l,Yf.set(l,u))):u=l,s&&s(u),Promise.all(r.map(f=>new Promise((d,p)=>u.load(f,h=>{st(h?.scene)&&Object.assign(h,zA(h.scene)),d(h)},a,h=>p(new Error(`Could not load ${f}: ${h?.message}`))))))}}function si(s,a,l,r){const u=Array.isArray(a)?a:[a],f=gA(jd(l,r),[s,...u],{equal:He.equ});return Array.isArray(a)?f:f[0]}si.preload=function(s,a,l){const r=Array.isArray(a)?a:[a];return yA(jd(l),[s,...r])};si.clear=function(s,a){const l=Array.isArray(a)?a:[a];return SA([s,...l])};function wA(s){const a=DA(s);return a.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.version}),a}const Id=0,rs={},WA=/^three(?=[A-Z])/,ml=s=>`${s[0].toUpperCase()}${s.slice(1)}`;let kA=0;const $A=s=>typeof s=="function";function Kd(s){if($A(s)){const a=`${kA++}`;return rs[a]=s,a}else Object.assign(rs,s)}function Qd(s,a){const l=ml(s),r=rs[l];if(s!=="primitive"&&!r)throw new Error(`R3F: ${l} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(s==="primitive"&&!a.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(a.args!==void 0&&!Array.isArray(a.args))throw new Error("R3F: The args prop must be an array!")}function ev(s,a,l){var r;return s=ml(s)in rs?s:s.replace(WA,""),Qd(s,a),s==="primitive"&&(r=a.object)!=null&&r.__r3f&&delete a.object.__r3f,ol(a.object,l,s,a)}function tv(s){if(!s.isHidden){var a;s.props.attach&&(a=s.parent)!=null&&a.object?cl(s.parent,s):st(s.object)&&(s.object.visible=!1),s.isHidden=!0,cs(s)}}function Xd(s){if(s.isHidden){var a;s.props.attach&&(a=s.parent)!=null&&a.object?ul(s.parent,s):st(s.object)&&s.props.visible!==!1&&(s.object.visible=!0),s.isHidden=!1,cs(s)}}function Zo(s,a,l){const r=a.root.getState();if(!(!s.parent&&s.object!==r.scene)){if(!a.object){var u,f;const d=rs[ml(a.type)];a.object=(u=a.props.object)!=null?u:new d(...(f=a.props.args)!=null?f:[]),a.object.__r3f=a}if(Kn(a.object,a.props),a.props.attach)ul(s,a);else if(st(a.object)&&st(s.object)){const d=s.object.children.indexOf(l?.object);if(l&&d!==-1){const p=s.object.children.indexOf(a.object);if(p!==-1){s.object.children.splice(p,1);const h=p<d?d-1:d;s.object.children.splice(h,0,a.object)}else a.object.parent=s.object,s.object.children.splice(d,0,a.object),a.object.dispatchEvent({type:"added"}),s.object.dispatchEvent({type:"childadded",child:a.object})}else s.object.add(a.object)}for(const d of a.children)Zo(a,d);cs(a)}}function co(s,a){a&&(a.parent=s,s.children.push(a),Zo(s,a))}function Pf(s,a,l){if(!a||!l)return;a.parent=s;const r=s.children.indexOf(l);r!==-1?s.children.splice(r,0,a):s.children.push(a),Zo(s,a,l)}function Yd(s){if(typeof s.dispose=="function"){const a=()=>{try{s.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?a():If.unstable_scheduleCallback(If.unstable_IdlePriority,a)}}function Ho(s,a,l){if(!a)return;a.parent=null;const r=s.children.indexOf(a);r!==-1&&s.children.splice(r,1),a.props.attach?cl(s,a):st(a.object)&&st(s.object)&&(s.object.remove(a.object),PA(_d(a),a.object));const u=a.props.dispose!==null&&l!==!1;for(let f=a.children.length-1;f>=0;f--){const d=a.children[f];Ho(a,d,u)}a.children.length=0,delete a.object.__r3f,u&&a.type!=="primitive"&&a.object.type!=="Scene"&&Yd(a.object),l===void 0&&cs(a)}function nv(s,a){for(const l of[s,s.alternate])if(l!==null)if(typeof l.ref=="function"){l.refCleanup==null||l.refCleanup();const r=l.ref(a);typeof r=="function"&&(l.refCleanup=r)}else l.ref&&(l.ref.current=a)}const al=[];function av(){for(const[l]of al){const r=l.parent;if(r){l.props.attach?cl(r,l):st(l.object)&&st(r.object)&&r.object.remove(l.object);for(const u of l.children)u.props.attach?cl(l,u):st(u.object)&&st(l.object)&&l.object.remove(u.object)}l.isHidden&&Xd(l),l.object.__r3f&&delete l.object.__r3f,l.type!=="primitive"&&Yd(l.object)}for(const[l,r,u]of al){l.props=r;const f=l.parent;if(f){var s,a;const d=rs[ml(l.type)];l.object=(s=l.props.object)!=null?s:new d(...(a=l.props.args)!=null?a:[]),l.object.__r3f=l,nv(u,l.object),Kn(l.object,l.props),l.props.attach?ul(f,l):st(l.object)&&st(f.object)&&f.object.add(l.object);for(const p of l.children)p.props.attach?ul(l,p):st(p.object)&&st(l.object)&&l.object.add(p.object);cs(l)}}al.length=0}const fo=()=>{},Vf={};let ki=Id;const sv=0,iv=4,Oo=wA({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:ev,removeChild:Ho,appendChild:co,appendInitialChild:co,insertBefore:Pf,appendChildToContainer(s,a){const l=s.getState().scene.__r3f;!a||!l||co(l,a)},removeChildFromContainer(s,a){const l=s.getState().scene.__r3f;!a||!l||Ho(l,a)},insertInContainerBefore(s,a,l){const r=s.getState().scene.__r3f;!a||!l||!r||Pf(r,a,l)},getRootHostContext:()=>Vf,getChildHostContext:()=>Vf,commitUpdate(s,a,l,r,u){var f,d,p;Qd(a,r);let h=!1;if((s.type==="primitive"&&l.object!==r.object||((f=r.args)==null?void 0:f.length)!==((d=l.args)==null?void 0:d.length)||(p=r.args)!=null&&p.some((B,v)=>{var E;return B!==((E=l.args)==null?void 0:E[v])}))&&(h=!0),h)al.push([s,{...r},u]);else{const B=KA(s,r);Object.keys(B).length&&(Object.assign(s.props,B),Kn(s.object,B))}(u.sibling===null||(u.flags&iv)===sv)&&av()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:s=>s?.object,prepareForCommit:()=>null,preparePortalMount:s=>ol(s.getState().scene,s,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:tv,unhideInstance:Xd,createTextInstance:fo,hideTextInstance:fo,unhideTextInstance:fo,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:U.createContext(null),setCurrentUpdatePriority(s){ki=s},getCurrentUpdatePriority(){return ki},resolveUpdatePriority(){var s;if(ki!==Id)return ki;switch(typeof window<"u"&&((s=window.event)==null?void 0:s.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return nl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return nl.ContinuousEventPriority;default:return nl.DefaultEventPriority}},resetFormInstance(){}}),va=new Map,Wa={objects:"shallow",strict:!1};function lv(s,a){if(!a&&typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement&&s.parentElement){const{width:l,height:r,top:u,left:f}=s.parentElement.getBoundingClientRect();return{width:l,height:r,top:u,left:f}}else if(!a&&typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas)return{width:s.width,height:s.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...a}}function rv(s){const a=va.get(s),l=a?.fiber,r=a?.store;a&&console.warn("R3F.createRoot should only be called once!");const u=typeof reportError=="function"?reportError:console.error,f=r||ZA(xo,qf),d=l||Oo.createContainer(f,nl.ConcurrentRoot,null,!1,null,"",u,u,u,null);a||va.set(s,{fiber:d,store:f});let p,h,m=!1,B=null;return{async configure(v={}){let E;B=new Promise(le=>E=le);let{gl:C,size:R,scene:G,events:O,onCreated:S,shadows:y=!1,linear:_=!1,flat:x=!1,legacy:L=!1,orthographic:F=!1,frameloop:W="always",dpr:P=[1,2],performance:Y,raycaster:j,camera:te,onPointerMissed:je}=v,ee=f.getState(),me=ee.gl;if(!ee.gl){const le={canvas:s,powerPreference:"high-performance",antialias:!0,alpha:!0},Ae=typeof C=="function"?await C(le):C;Xf(Ae)?me=Ae:me=new lm({...le,...C}),ee.set({gl:me})}let De=ee.raycaster;De||ee.set({raycaster:De=new rm});const{params:K,...V}=j||{};if(He.equ(V,De,Wa)||Kn(De,{...V}),He.equ(K,De.params,Wa)||Kn(De,{params:{...De.params,...K}}),!ee.camera||ee.camera===h&&!He.equ(h,te,Wa)){h=te;const le=te?.isCamera,Ae=le?te:F?new ns(0,0,0,0,.1,1e3):new as(75,0,.1,1e3);le||(Ae.position.z=5,te&&(Kn(Ae,te),Ae.manual||("aspect"in te||"left"in te||"right"in te||"bottom"in te||"top"in te)&&(Ae.manual=!0,Ae.updateProjectionMatrix())),!ee.camera&&!(te!=null&&te.rotation)&&Ae.lookAt(0,0,0)),ee.set({camera:Ae}),De.camera=Ae}if(!ee.scene){let le;G!=null&&G.isScene?(le=G,ol(le,f,"",{})):(le=new Mo,ol(le,f,"",{}),G&&Kn(le,G)),ee.set({scene:le})}O&&!ee.events.handlers&&ee.set({events:O(f)});const q=lv(s,R);if(He.equ(q,ee.size,Wa)||ee.setSize(q.width,q.height,q.top,q.left),P&&ee.viewport.dpr!==Ud(P)&&ee.setDpr(P),ee.frameloop!==W&&ee.setFrameloop(W),ee.onPointerMissed||ee.set({onPointerMissed:je}),Y&&!He.equ(Y,ee.performance,Wa)&&ee.set(le=>({performance:{...le.performance,...Y}})),!ee.xr){var ne;const le=(ve,qe)=>{const Wt=f.getState();Wt.frameloop!=="never"&&qf(ve,!0,Wt,qe)},Ae=()=>{const ve=f.getState();ve.gl.xr.enabled=ve.gl.xr.isPresenting,ve.gl.xr.setAnimationLoop(ve.gl.xr.isPresenting?le:null),ve.gl.xr.isPresenting||xo(ve)},Oe={connect(){const ve=f.getState().gl;ve.xr.addEventListener("sessionstart",Ae),ve.xr.addEventListener("sessionend",Ae)},disconnect(){const ve=f.getState().gl;ve.xr.removeEventListener("sessionstart",Ae),ve.xr.removeEventListener("sessionend",Ae)}};typeof((ne=me.xr)==null?void 0:ne.addEventListener)=="function"&&Oe.connect(),ee.set({xr:Oe})}if(me.shadowMap){const le=me.shadowMap.enabled,Ae=me.shadowMap.type;if(me.shadowMap.enabled=!!y,He.boo(y))me.shadowMap.type=kr;else if(He.str(y)){var fe;const Oe={basic:cm,percentage:um,soft:kr,variance:om};me.shadowMap.type=(fe=Oe[y])!=null?fe:kr}else He.obj(y)&&Object.assign(me.shadowMap,y);(le!==me.shadowMap.enabled||Ae!==me.shadowMap.type)&&(me.shadowMap.needsUpdate=!0)}return fm.enabled=!L,m||(me.outputColorSpace=_?jo:Kt,me.toneMapping=x?Ad:vd),ee.legacy!==L&&ee.set(()=>({legacy:L})),ee.linear!==_&&ee.set(()=>({linear:_})),ee.flat!==x&&ee.set(()=>({flat:x})),C&&!He.fun(C)&&!Xf(C)&&!He.equ(C,me,Wa)&&Kn(me,C),p=S,m=!0,E(),this},render(v){return!m&&!B&&this.configure(),B.then(()=>{Oo.updateContainer(Z.jsx(ov,{store:f,children:v,onCreated:p,rootElement:s}),d,null,()=>{})}),f},unmount(){Pd(s)}}}function ov({store:s,children:a,onCreated:l,rootElement:r}){return ai(()=>{const u=s.getState();u.set(f=>({internal:{...f.internal,active:!0}})),l&&l(u),s.getState().events.connected||u.events.connect==null||u.events.connect(r)},[]),Z.jsx(zd.Provider,{value:s,children:a})}function Pd(s,a){const l=va.get(s),r=l?.fiber;if(r){const u=l?.store.getState();u&&(u.internal.active=!1),Oo.updateContainer(null,r,null,()=>{u&&setTimeout(()=>{try{var f,d,p,h;u.events.disconnect==null||u.events.disconnect(),(f=u.gl)==null||(d=f.renderLists)==null||d.dispose==null||d.dispose(),(p=u.gl)==null||p.forceContextLoss==null||p.forceContextLoss(),(h=u.gl)!=null&&h.xr&&u.xr.disconnect(),JA(u.scene),va.delete(s)}catch{}},500)})}}const uv=new Set,cv=new Set,fv=new Set;function ho(s,a){if(s.size)for(const{callback:l}of s.values())l(a)}function qs(s,a){switch(s){case"before":return ho(uv,a);case"after":return ho(cv,a);case"tail":return ho(fv,a)}}let po,mo;function _o(s,a,l){let r=a.clock.getDelta();a.frameloop==="never"&&typeof s=="number"&&(r=s-a.clock.elapsedTime,a.clock.oldTime=a.clock.elapsedTime,a.clock.elapsedTime=s),po=a.internal.subscribers;for(let u=0;u<po.length;u++)mo=po[u],mo.ref.current(mo.store.getState(),r,l);return!a.internal.priority&&a.gl.render&&a.gl.render(a.scene,a.camera),a.internal.frames=Math.max(0,a.internal.frames-1),a.frameloop==="always"?1:a.internal.frames}let fl=!1,No=!1,Ao,Zf,ka;function Vd(s){Zf=requestAnimationFrame(Vd),fl=!0,Ao=0,qs("before",s),No=!0;for(const l of va.values()){var a;ka=l.store.getState(),ka.internal.active&&(ka.frameloop==="always"||ka.internal.frames>0)&&!((a=ka.gl.xr)!=null&&a.isPresenting)&&(Ao+=_o(s,ka))}if(No=!1,qs("after",s),Ao===0)return qs("tail",s),fl=!1,cancelAnimationFrame(Zf)}function xo(s,a=1){var l;if(!s)return va.forEach(r=>xo(r.store.getState(),a));(l=s.gl.xr)!=null&&l.isPresenting||!s.internal.active||s.frameloop==="never"||(a>1?s.internal.frames=Math.min(60,s.internal.frames+a):No?s.internal.frames=2:s.internal.frames=1,fl||(fl=!0,requestAnimationFrame(Vd)))}function qf(s,a=!0,l,r){if(a&&qs("before",s),l)_o(s,l,r);else for(const u of va.values())_o(s,u.store.getState());a&&qs("after",s)}const vo={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dv(s){const{handlePointer:a}=VA(s);return{priority:1,enabled:!0,compute(l,r,u){r.pointer.set(l.offsetX/r.size.width*2-1,-(l.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(vo).reduce((l,r)=>({...l,[r]:a(r)}),{}),update:()=>{var l;const{events:r,internal:u}=s.getState();(l=u.lastEvent)!=null&&l.current&&r.handlers&&r.handlers.onPointerMove(u.lastEvent.current)},connect:l=>{const{set:r,events:u}=s.getState();if(u.disconnect==null||u.disconnect(),r(f=>({events:{...f.events,connected:l}})),u.handlers)for(const f in u.handlers){const d=u.handlers[f],[p,h]=vo[f];l.addEventListener(p,d,{passive:h})}},disconnect:()=>{const{set:l,events:r}=s.getState();if(r.connected){if(r.handlers)for(const u in r.handlers){const f=r.handlers[u],[d]=vo[u];r.connected.removeEventListener(d,f)}l(u=>({events:{...u.events,connected:void 0}}))}}}}function wf(s,a){let l;return(...r)=>{window.clearTimeout(l),l=window.setTimeout(()=>s(...r),a)}}function hv({debounce:s,scroll:a,polyfill:l,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const u=l||(typeof window>"u"?class{}:window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[f,d]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:f,orientationHandler:null}),h=s?typeof s=="number"?s:s.scroll:null,m=s?typeof s=="number"?s:s.resize:null,B=U.useRef(!1);U.useEffect(()=>(B.current=!0,()=>void(B.current=!1)));const[v,E,C]=U.useMemo(()=>{const S=()=>{if(!p.current.element)return;const{left:y,top:_,width:x,height:L,bottom:F,right:W,x:P,y:Y}=p.current.element.getBoundingClientRect(),j={left:y,top:_,width:x,height:L,bottom:F,right:W,x:P,y:Y};p.current.element instanceof HTMLElement&&r&&(j.height=p.current.element.offsetHeight,j.width=p.current.element.offsetWidth),Object.freeze(j),B.current&&!vv(p.current.lastBounds,j)&&d(p.current.lastBounds=j)};return[S,m?wf(S,m):S,h?wf(S,h):S]},[d,r,h,m]);function R(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",C,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null),p.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",p.current.orientationHandler))}function G(){p.current.element&&(p.current.resizeObserver=new u(C),p.current.resizeObserver.observe(p.current.element),a&&p.current.scrollContainers&&p.current.scrollContainers.forEach(S=>S.addEventListener("scroll",C,{capture:!0,passive:!0})),p.current.orientationHandler=()=>{C()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",p.current.orientationHandler))}const O=S=>{!S||S===p.current.element||(R(),p.current.element=S,p.current.scrollContainers=Zd(S),G())};return mv(C,!!a),pv(E),U.useEffect(()=>{R(),G()},[a,C,E]),U.useEffect(()=>R,[]),[O,f,v]}function pv(s){U.useEffect(()=>{const a=s;return window.addEventListener("resize",a),()=>void window.removeEventListener("resize",a)},[s])}function mv(s,a){U.useEffect(()=>{if(a){const l=s;return window.addEventListener("scroll",l,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",l,!0)}},[s,a])}function Zd(s){const a=[];if(!s||s===document.body)return a;const{overflow:l,overflowX:r,overflowY:u}=window.getComputedStyle(s);return[l,r,u].some(f=>f==="auto"||f==="scroll")&&a.push(s),[...a,...Zd(s.parentElement)]}const Av=["x","y","top","bottom","left","right","width","height"],vv=(s,a)=>Av.every(l=>s[l]===a[l]);function Bv({ref:s,children:a,fallback:l,resize:r,style:u,gl:f,events:d=dv,eventSource:p,eventPrefix:h,shadows:m,linear:B,flat:v,legacy:E,orthographic:C,frameloop:R,dpr:G,performance:O,raycaster:S,camera:y,scene:_,onPointerMissed:x,onCreated:L,...F}){U.useMemo(()=>Kd(pm),[]);const W=UA(),[P,Y]=hv({scroll:!0,debounce:{scroll:50,resize:0},...r}),j=U.useRef(null),te=U.useRef(null);U.useImperativeHandle(s,()=>j.current);const je=xd(x),[ee,me]=U.useState(!1),[De,K]=U.useState(!1);if(ee)throw ee;if(De)throw De;const V=U.useRef(null);ai(()=>{const ne=j.current;if(Y.width>0&&Y.height>0&&ne){V.current||(V.current=rv(ne));async function fe(){await V.current.configure({gl:f,scene:_,events:d,shadows:m,linear:B,flat:v,legacy:E,orthographic:C,frameloop:R,dpr:G,performance:O,raycaster:S,camera:y,size:Y,onPointerMissed:(...le)=>je.current==null?void 0:je.current(...le),onCreated:le=>{le.events.connect==null||le.events.connect(p?NA(p)?p.current:p:te.current),h&&le.setEvents({compute:(Ae,Oe)=>{const ve=Ae[h+"X"],qe=Ae[h+"Y"];Oe.pointer.set(ve/Oe.size.width*2-1,-(qe/Oe.size.height)*2+1),Oe.raycaster.setFromCamera(Oe.pointer,Oe.camera)}}),L?.(le)}}),V.current.render(Z.jsx(W,{children:Z.jsx(LA,{set:K,children:Z.jsx(U.Suspense,{fallback:Z.jsx(FA,{set:me}),children:a??null})})}))}fe()}}),U.useEffect(()=>{const ne=j.current;if(ne)return()=>Pd(ne)},[]);const q=p?"none":"auto";return Z.jsx("div",{ref:te,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...u},...F,children:Z.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:Z.jsx("canvas",{ref:j,style:{display:"block"},children:l})})})}function Ev(s){return Z.jsx(Hd,{children:Z.jsx(Bv,{...s})})}function Uo(){return Uo=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var r in l)({}).hasOwnProperty.call(l,r)&&(s[r]=l[r])}return s},Uo.apply(null,arguments)}const Wf=s=>{let a;const l=new Set,r=(m,B)=>{const v=typeof m=="function"?m(a):m;if(!Object.is(v,a)){const E=a;a=B??(typeof v!="object"||v===null)?v:Object.assign({},a,v),l.forEach(C=>C(a,E))}},u=()=>a,p={setState:r,getState:u,getInitialState:()=>h,subscribe:m=>(l.add(m),()=>l.delete(m))},h=a=s(r,u,p);return p},Cv=(s=>s?Wf(s):Wf),gv=s=>s;function yv(s,a=gv){const l=$a.useSyncExternalStore(s.subscribe,$a.useCallback(()=>a(s.getState()),[s,a]),$a.useCallback(()=>a(s.getInitialState()),[s,a]));return $a.useDebugValue(l),l}const kf=s=>{const a=Cv(s),l=r=>yv(a,r);return Object.assign(l,a),l},Sv=(s=>s?kf(s):kf);let Ks=0;const Tv=Sv(s=>(Zi.onStart=(a,l,r)=>{s({active:!0,item:a,loaded:l,total:r,progress:(l-Ks)/(r-Ks)*100})},Zi.onLoad=()=>{s({active:!1})},Zi.onError=a=>s(l=>({errors:[...l.errors,a]})),Zi.onProgress=(a,l,r)=>{l===r&&(Ks=r),s({active:!0,item:a,loaded:l,total:r,progress:(l-Ks)/(r-Ks)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),Mv=parseInt(Io.replace(/\D+/g,""));function $f(s,a){if(a===mm)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),s;if(a===bo||a===Bd){let l=s.getIndex();if(l===null){const d=[],p=s.getAttribute("position");if(p!==void 0){for(let h=0;h<p.count;h++)d.push(h);s.setIndex(d),l=s.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),s}const r=l.count-2,u=[];if(l)if(a===bo)for(let d=1;d<=r;d++)u.push(l.getX(0)),u.push(l.getX(d)),u.push(l.getX(d+1));else for(let d=0;d<r;d++)d%2===0?(u.push(l.getX(d)),u.push(l.getX(d+1)),u.push(l.getX(d+2))):(u.push(l.getX(d+2)),u.push(l.getX(d+1)),u.push(l.getX(d)));u.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const f=s.clone();return f.setIndex(u),f.clearGroups(),f}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",a),s}var bv=Object.defineProperty,Rv=(s,a,l)=>a in s?bv(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l,Dv=(s,a,l)=>(Rv(s,a+"",l),l);class Gv{constructor(){Dv(this,"_listeners")}addEventListener(a,l){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[a]===void 0&&(r[a]=[]),r[a].indexOf(l)===-1&&r[a].push(l)}hasEventListener(a,l){if(this._listeners===void 0)return!1;const r=this._listeners;return r[a]!==void 0&&r[a].indexOf(l)!==-1}removeEventListener(a,l){if(this._listeners===void 0)return;const u=this._listeners[a];if(u!==void 0){const f=u.indexOf(l);f!==-1&&u.splice(f,1)}}dispatchEvent(a){if(this._listeners===void 0)return;const r=this._listeners[a.type];if(r!==void 0){a.target=this;const u=r.slice(0);for(let f=0,d=u.length;f<d;f++)u[f].call(this,a);a.target=null}}}var Hv=Object.defineProperty,Ov=(s,a,l)=>a in s?Hv(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l,$=(s,a,l)=>(Ov(s,typeof a!="symbol"?a+"":a,l),l);const $i=new Am,ed=new vm,_v=Math.cos(70*(Math.PI/180)),td=(s,a)=>(s%a+a)%a;let Nv=class extends Gv{constructor(a,l){super(),$(this,"object"),$(this,"domElement"),$(this,"enabled",!0),$(this,"target",new Ne),$(this,"minDistance",0),$(this,"maxDistance",1/0),$(this,"minZoom",0),$(this,"maxZoom",1/0),$(this,"minPolarAngle",0),$(this,"maxPolarAngle",Math.PI),$(this,"minAzimuthAngle",-1/0),$(this,"maxAzimuthAngle",1/0),$(this,"enableDamping",!1),$(this,"dampingFactor",.05),$(this,"enableZoom",!0),$(this,"zoomSpeed",1),$(this,"enableRotate",!0),$(this,"rotateSpeed",1),$(this,"enablePan",!0),$(this,"panSpeed",1),$(this,"screenSpacePanning",!0),$(this,"keyPanSpeed",7),$(this,"zoomToCursor",!1),$(this,"autoRotate",!1),$(this,"autoRotateSpeed",2),$(this,"reverseOrbit",!1),$(this,"reverseHorizontalOrbit",!1),$(this,"reverseVerticalOrbit",!1),$(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),$(this,"mouseButtons",{LEFT:Za.ROTATE,MIDDLE:Za.DOLLY,RIGHT:Za.PAN}),$(this,"touches",{ONE:qa.ROTATE,TWO:qa.DOLLY_PAN}),$(this,"target0"),$(this,"position0"),$(this,"zoom0"),$(this,"_domElementKeyEvents",null),$(this,"getPolarAngle"),$(this,"getAzimuthalAngle"),$(this,"setPolarAngle"),$(this,"setAzimuthalAngle"),$(this,"getDistance"),$(this,"getZoomScale"),$(this,"listenToKeyEvents"),$(this,"stopListenToKeyEvents"),$(this,"saveState"),$(this,"reset"),$(this,"update"),$(this,"connect"),$(this,"dispose"),$(this,"dollyIn"),$(this,"dollyOut"),$(this,"getScale"),$(this,"setScale"),this.object=a,this.domElement=l,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>B.phi,this.getAzimuthalAngle=()=>B.theta,this.setPolarAngle=M=>{let I=td(M,2*Math.PI),k=B.phi;k<0&&(k+=2*Math.PI),I<0&&(I+=2*Math.PI);let he=Math.abs(I-k);2*Math.PI-he<he&&(I<k?I+=2*Math.PI:k+=2*Math.PI),v.phi=I-k,r.update()},this.setAzimuthalAngle=M=>{let I=td(M,2*Math.PI),k=B.theta;k<0&&(k+=2*Math.PI),I<0&&(I+=2*Math.PI);let he=Math.abs(I-k);2*Math.PI-he<he&&(I<k?I+=2*Math.PI:k+=2*Math.PI),v.theta=I-k,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=M=>{M.addEventListener("keydown",ps),this._domElementKeyEvents=M},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ps),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(u),r.update(),h=p.NONE},this.update=(()=>{const M=new Ne,I=new Ne(0,1,0),k=new sl().setFromUnitVectors(a.up,I),he=k.clone().invert(),Le=new Ne,it=new sl,Ft=2*Math.PI;return function(){const vs=r.object.position;k.setFromUnitVectors(a.up,I),he.copy(k).invert(),M.copy(vs).sub(r.target),M.applyQuaternion(k),B.setFromVector3(M),r.autoRotate&&h===p.NONE&&me(je()),r.enableDamping?(B.theta+=v.theta*r.dampingFactor,B.phi+=v.phi*r.dampingFactor):(B.theta+=v.theta,B.phi+=v.phi);let gt=r.minAzimuthAngle,lt=r.maxAzimuthAngle;isFinite(gt)&&isFinite(lt)&&(gt<-Math.PI?gt+=Ft:gt>Math.PI&&(gt-=Ft),lt<-Math.PI?lt+=Ft:lt>Math.PI&&(lt-=Ft),gt<=lt?B.theta=Math.max(gt,Math.min(lt,B.theta)):B.theta=B.theta>(gt+lt)/2?Math.max(gt,B.theta):Math.min(lt,B.theta)),B.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,B.phi)),B.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(C,r.dampingFactor):r.target.add(C),r.zoomToCursor&&Y||r.object.isOrthographicCamera?B.radius=Oe(B.radius):B.radius=Oe(B.radius*E),M.setFromSpherical(B),M.applyQuaternion(he),vs.copy(r.target).add(M),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(v.theta*=1-r.dampingFactor,v.phi*=1-r.dampingFactor,C.multiplyScalar(1-r.dampingFactor)):(v.set(0,0,0),C.set(0,0,0));let Lt=!1;if(r.zoomToCursor&&Y){let Yt=null;if(r.object instanceof as&&r.object.isPerspectiveCamera){const gn=M.length();Yt=Oe(gn*E);const Vn=gn-Yt;r.object.position.addScaledVector(W,Vn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const gn=new Ne(P.x,P.y,0);gn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/E)),r.object.updateProjectionMatrix(),Lt=!0;const Vn=new Ne(P.x,P.y,0);Vn.unproject(r.object),r.object.position.sub(Vn).add(gn),r.object.updateMatrixWorld(),Yt=M.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Yt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Yt).add(r.object.position):($i.origin.copy(r.object.position),$i.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot($i.direction))<_v?a.lookAt(r.target):(ed.setFromNormalAndCoplanarPoint(r.object.up,r.target),$i.intersectPlane(ed,r.target))))}else r.object instanceof ns&&r.object.isOrthographicCamera&&(Lt=E!==1,Lt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/E)),r.object.updateProjectionMatrix()));return E=1,Y=!1,Lt||Le.distanceToSquared(r.object.position)>m||8*(1-it.dot(r.object.quaternion))>m?(r.dispatchEvent(u),Le.copy(r.object.position),it.copy(r.object.quaternion),Lt=!1,!0):!1}})(),this.connect=M=>{r.domElement=M,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ya),r.domElement.addEventListener("pointerdown",ri),r.domElement.addEventListener("pointercancel",Cn),r.domElement.addEventListener("wheel",ga)},this.dispose=()=>{var M,I,k,he,Le,it;r.domElement&&(r.domElement.style.touchAction="auto"),(M=r.domElement)==null||M.removeEventListener("contextmenu",ya),(I=r.domElement)==null||I.removeEventListener("pointerdown",ri),(k=r.domElement)==null||k.removeEventListener("pointercancel",Cn),(he=r.domElement)==null||he.removeEventListener("wheel",ga),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointermove",Ca),(it=r.domElement)==null||it.ownerDocument.removeEventListener("pointerup",Cn),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ps)};const r=this,u={type:"change"},f={type:"start"},d={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=p.NONE;const m=1e-6,B=new Ro,v=new Ro;let E=1;const C=new Ne,R=new Me,G=new Me,O=new Me,S=new Me,y=new Me,_=new Me,x=new Me,L=new Me,F=new Me,W=new Ne,P=new Me;let Y=!1;const j=[],te={};function je(){return 2*Math.PI/60/60*r.autoRotateSpeed}function ee(){return Math.pow(.95,r.zoomSpeed)}function me(M){r.reverseOrbit||r.reverseHorizontalOrbit?v.theta+=M:v.theta-=M}function De(M){r.reverseOrbit||r.reverseVerticalOrbit?v.phi+=M:v.phi-=M}const K=(()=>{const M=new Ne;return function(k,he){M.setFromMatrixColumn(he,0),M.multiplyScalar(-k),C.add(M)}})(),V=(()=>{const M=new Ne;return function(k,he){r.screenSpacePanning===!0?M.setFromMatrixColumn(he,1):(M.setFromMatrixColumn(he,0),M.crossVectors(r.object.up,M)),M.multiplyScalar(k),C.add(M)}})(),q=(()=>{const M=new Ne;return function(k,he){const Le=r.domElement;if(Le&&r.object instanceof as&&r.object.isPerspectiveCamera){const it=r.object.position;M.copy(it).sub(r.target);let Ft=M.length();Ft*=Math.tan(r.object.fov/2*Math.PI/180),K(2*k*Ft/Le.clientHeight,r.object.matrix),V(2*he*Ft/Le.clientHeight,r.object.matrix)}else Le&&r.object instanceof ns&&r.object.isOrthographicCamera?(K(k*(r.object.right-r.object.left)/r.object.zoom/Le.clientWidth,r.object.matrix),V(he*(r.object.top-r.object.bottom)/r.object.zoom/Le.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ne(M){r.object instanceof as&&r.object.isPerspectiveCamera||r.object instanceof ns&&r.object.isOrthographicCamera?E=M:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function fe(M){ne(E/M)}function le(M){ne(E*M)}function Ae(M){if(!r.zoomToCursor||!r.domElement)return;Y=!0;const I=r.domElement.getBoundingClientRect(),k=M.clientX-I.left,he=M.clientY-I.top,Le=I.width,it=I.height;P.x=k/Le*2-1,P.y=-(he/it)*2+1,W.set(P.x,P.y,1).unproject(r.object).sub(r.object.position).normalize()}function Oe(M){return Math.max(r.minDistance,Math.min(r.maxDistance,M))}function ve(M){R.set(M.clientX,M.clientY)}function qe(M){Ae(M),x.set(M.clientX,M.clientY)}function Wt(M){S.set(M.clientX,M.clientY)}function Ba(M){G.set(M.clientX,M.clientY),O.subVectors(G,R).multiplyScalar(r.rotateSpeed);const I=r.domElement;I&&(me(2*Math.PI*O.x/I.clientHeight),De(2*Math.PI*O.y/I.clientHeight)),R.copy(G),r.update()}function kt(M){L.set(M.clientX,M.clientY),F.subVectors(L,x),F.y>0?fe(ee()):F.y<0&&le(ee()),x.copy(L),r.update()}function ii(M){y.set(M.clientX,M.clientY),_.subVectors(y,S).multiplyScalar(r.panSpeed),q(_.x,_.y),S.copy(y),r.update()}function li(M){Ae(M),M.deltaY<0?le(ee()):M.deltaY>0&&fe(ee()),r.update()}function Xn(M){let I=!1;switch(M.code){case r.keys.UP:q(0,r.keyPanSpeed),I=!0;break;case r.keys.BOTTOM:q(0,-r.keyPanSpeed),I=!0;break;case r.keys.LEFT:q(r.keyPanSpeed,0),I=!0;break;case r.keys.RIGHT:q(-r.keyPanSpeed,0),I=!0;break}I&&(M.preventDefault(),r.update())}function vn(){if(j.length==1)R.set(j[0].pageX,j[0].pageY);else{const M=.5*(j[0].pageX+j[1].pageX),I=.5*(j[0].pageY+j[1].pageY);R.set(M,I)}}function Bn(){if(j.length==1)S.set(j[0].pageX,j[0].pageY);else{const M=.5*(j[0].pageX+j[1].pageX),I=.5*(j[0].pageY+j[1].pageY);S.set(M,I)}}function Yn(){const M=j[0].pageX-j[1].pageX,I=j[0].pageY-j[1].pageY,k=Math.sqrt(M*M+I*I);x.set(0,k)}function Ea(){r.enableZoom&&Yn(),r.enablePan&&Bn()}function ds(){r.enableZoom&&Yn(),r.enableRotate&&vn()}function xt(M){if(j.length==1)G.set(M.pageX,M.pageY);else{const k=$t(M),he=.5*(M.pageX+k.x),Le=.5*(M.pageY+k.y);G.set(he,Le)}O.subVectors(G,R).multiplyScalar(r.rotateSpeed);const I=r.domElement;I&&(me(2*Math.PI*O.x/I.clientHeight),De(2*Math.PI*O.y/I.clientHeight)),R.copy(G)}function hs(M){if(j.length==1)y.set(M.pageX,M.pageY);else{const I=$t(M),k=.5*(M.pageX+I.x),he=.5*(M.pageY+I.y);y.set(k,he)}_.subVectors(y,S).multiplyScalar(r.panSpeed),q(_.x,_.y),S.copy(y)}function Pn(M){const I=$t(M),k=M.pageX-I.x,he=M.pageY-I.y,Le=Math.sqrt(k*k+he*he);L.set(0,Le),F.set(0,Math.pow(L.y/x.y,r.zoomSpeed)),fe(F.y),x.copy(L)}function Ct(M){r.enableZoom&&Pn(M),r.enablePan&&hs(M)}function En(M){r.enableZoom&&Pn(M),r.enableRotate&&xt(M)}function ri(M){var I,k;r.enabled!==!1&&(j.length===0&&((I=r.domElement)==null||I.ownerDocument.addEventListener("pointermove",Ca),(k=r.domElement)==null||k.ownerDocument.addEventListener("pointerup",Cn)),ms(M),M.pointerType==="touch"?ui(M):oi(M))}function Ca(M){r.enabled!==!1&&(M.pointerType==="touch"?Bl(M):vl(M))}function Cn(M){var I,k,he;Xt(M),j.length===0&&((I=r.domElement)==null||I.releasePointerCapture(M.pointerId),(k=r.domElement)==null||k.ownerDocument.removeEventListener("pointermove",Ca),(he=r.domElement)==null||he.ownerDocument.removeEventListener("pointerup",Cn)),r.dispatchEvent(d),h=p.NONE}function oi(M){let I;switch(M.button){case 0:I=r.mouseButtons.LEFT;break;case 1:I=r.mouseButtons.MIDDLE;break;case 2:I=r.mouseButtons.RIGHT;break;default:I=-1}switch(I){case Za.DOLLY:if(r.enableZoom===!1)return;qe(M),h=p.DOLLY;break;case Za.ROTATE:if(M.ctrlKey||M.metaKey||M.shiftKey){if(r.enablePan===!1)return;Wt(M),h=p.PAN}else{if(r.enableRotate===!1)return;ve(M),h=p.ROTATE}break;case Za.PAN:if(M.ctrlKey||M.metaKey||M.shiftKey){if(r.enableRotate===!1)return;ve(M),h=p.ROTATE}else{if(r.enablePan===!1)return;Wt(M),h=p.PAN}break;default:h=p.NONE}h!==p.NONE&&r.dispatchEvent(f)}function vl(M){if(r.enabled!==!1)switch(h){case p.ROTATE:if(r.enableRotate===!1)return;Ba(M);break;case p.DOLLY:if(r.enableZoom===!1)return;kt(M);break;case p.PAN:if(r.enablePan===!1)return;ii(M);break}}function ga(M){r.enabled===!1||r.enableZoom===!1||h!==p.NONE&&h!==p.ROTATE||(M.preventDefault(),r.dispatchEvent(f),li(M),r.dispatchEvent(d))}function ps(M){r.enabled===!1||r.enablePan===!1||Xn(M)}function ui(M){switch(Ut(M),j.length){case 1:switch(r.touches.ONE){case qa.ROTATE:if(r.enableRotate===!1)return;vn(),h=p.TOUCH_ROTATE;break;case qa.PAN:if(r.enablePan===!1)return;Bn(),h=p.TOUCH_PAN;break;default:h=p.NONE}break;case 2:switch(r.touches.TWO){case qa.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ea(),h=p.TOUCH_DOLLY_PAN;break;case qa.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ds(),h=p.TOUCH_DOLLY_ROTATE;break;default:h=p.NONE}break;default:h=p.NONE}h!==p.NONE&&r.dispatchEvent(f)}function Bl(M){switch(Ut(M),h){case p.TOUCH_ROTATE:if(r.enableRotate===!1)return;xt(M),r.update();break;case p.TOUCH_PAN:if(r.enablePan===!1)return;hs(M),r.update();break;case p.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ct(M),r.update();break;case p.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;En(M),r.update();break;default:h=p.NONE}}function ya(M){r.enabled!==!1&&M.preventDefault()}function ms(M){j.push(M)}function Xt(M){delete te[M.pointerId];for(let I=0;I<j.length;I++)if(j[I].pointerId==M.pointerId){j.splice(I,1);return}}function Ut(M){let I=te[M.pointerId];I===void 0&&(I=new Me,te[M.pointerId]=I),I.set(M.pageX,M.pageY)}function $t(M){const I=M.pointerId===j[0].pointerId?j[1]:j[0];return te[I.pointerId]}this.dollyIn=(M=ee())=>{le(M),r.update()},this.dollyOut=(M=ee())=>{fe(M),r.update()},this.getScale=()=>E,this.setScale=M=>{ne(M),r.update()},this.getZoomScale=()=>ee(),l!==void 0&&this.connect(l),this.update()}};function dl(s){if(typeof TextDecoder<"u")return new TextDecoder().decode(s);let a="";for(let l=0,r=s.length;l<r;l++)a+=String.fromCharCode(s[l]);try{return decodeURIComponent(escape(a))}catch{return a}}const pa="srgb",An="srgb-linear",nd=3001,xv=3e3;class qo extends Ed{constructor(a){super(a),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(l){return new Jv(l)}),this.register(function(l){return new jv(l)}),this.register(function(l){return new qv(l)}),this.register(function(l){return new wv(l)}),this.register(function(l){return new Wv(l)}),this.register(function(l){return new Kv(l)}),this.register(function(l){return new Qv(l)}),this.register(function(l){return new Xv(l)}),this.register(function(l){return new Yv(l)}),this.register(function(l){return new zv(l)}),this.register(function(l){return new Pv(l)}),this.register(function(l){return new Iv(l)}),this.register(function(l){return new Zv(l)}),this.register(function(l){return new Vv(l)}),this.register(function(l){return new Fv(l)}),this.register(function(l){return new kv(l)}),this.register(function(l){return new $v(l)})}load(a,l,r,u){const f=this;let d;if(this.resourcePath!=="")d=this.resourcePath;else if(this.path!==""){const m=Vs.extractUrlBase(a);d=Vs.resolveURL(m,this.path)}else d=Vs.extractUrlBase(a);this.manager.itemStart(a);const p=function(m){u?u(m):console.error(m),f.manager.itemError(a),f.manager.itemEnd(a)},h=new il(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(a,function(m){try{f.parse(m,d,function(B){l(B),f.manager.itemEnd(a)},p)}catch(B){p(B)}},r,p)}setDRACOLoader(a){return this.dracoLoader=a,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(a){return this.ktx2Loader=a,this}setMeshoptDecoder(a){return this.meshoptDecoder=a,this}register(a){return this.pluginCallbacks.indexOf(a)===-1&&this.pluginCallbacks.push(a),this}unregister(a){return this.pluginCallbacks.indexOf(a)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(a),1),this}parse(a,l,r,u){let f;const d={},p={};if(typeof a=="string")f=JSON.parse(a);else if(a instanceof ArrayBuffer)if(dl(new Uint8Array(a.slice(0,4)))===qd){try{d[ce.KHR_BINARY_GLTF]=new eB(a)}catch(B){u&&u(B);return}f=JSON.parse(d[ce.KHR_BINARY_GLTF].content)}else f=JSON.parse(dl(new Uint8Array(a)));else f=a;if(f.asset===void 0||f.asset.version[0]<2){u&&u(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const h=new hB(f,{path:l||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let m=0;m<this.pluginCallbacks.length;m++){const B=this.pluginCallbacks[m](h);B.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),p[B.name]=B,d[B.name]=!0}if(f.extensionsUsed)for(let m=0;m<f.extensionsUsed.length;++m){const B=f.extensionsUsed[m],v=f.extensionsRequired||[];switch(B){case ce.KHR_MATERIALS_UNLIT:d[B]=new Lv;break;case ce.KHR_DRACO_MESH_COMPRESSION:d[B]=new tB(f,this.dracoLoader);break;case ce.KHR_TEXTURE_TRANSFORM:d[B]=new nB;break;case ce.KHR_MESH_QUANTIZATION:d[B]=new aB;break;default:v.indexOf(B)>=0&&p[B]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+B+'".')}}h.setExtensions(d),h.setPlugins(p),h.parse(r,u)}parseAsync(a,l){const r=this;return new Promise(function(u,f){r.parse(a,l,u,f)})}}function Uv(){let s={};return{get:function(a){return s[a]},add:function(a,l){s[a]=l},remove:function(a){delete s[a]},removeAll:function(){s={}}}}const ce={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Fv{constructor(a){this.parser=a,this.name=ce.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const a=this.parser,l=this.parser.json.nodes||[];for(let r=0,u=l.length;r<u;r++){const f=l[r];f.extensions&&f.extensions[this.name]&&f.extensions[this.name].light!==void 0&&a._addNodeRef(this.cache,f.extensions[this.name].light)}}_loadLight(a){const l=this.parser,r="light:"+a;let u=l.cache.get(r);if(u)return u;const f=l.json,h=((f.extensions&&f.extensions[this.name]||{}).lights||[])[a];let m;const B=new Nt(16777215);h.color!==void 0&&B.setRGB(h.color[0],h.color[1],h.color[2],An);const v=h.range!==void 0?h.range:0;switch(h.type){case"directional":m=new Cm(B),m.target.position.set(0,0,-1),m.add(m.target);break;case"point":m=new Em(B),m.distance=v;break;case"spot":m=new Bm(B),m.distance=v,h.spot=h.spot||{},h.spot.innerConeAngle=h.spot.innerConeAngle!==void 0?h.spot.innerConeAngle:0,h.spot.outerConeAngle=h.spot.outerConeAngle!==void 0?h.spot.outerConeAngle:Math.PI/4,m.angle=h.spot.outerConeAngle,m.penumbra=1-h.spot.innerConeAngle/h.spot.outerConeAngle,m.target.position.set(0,0,-1),m.add(m.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+h.type)}return m.position.set(0,0,0),m.decay=2,mn(m,h),h.intensity!==void 0&&(m.intensity=h.intensity),m.name=l.createUniqueName(h.name||"light_"+a),u=Promise.resolve(m),l.cache.add(r,u),u}getDependency(a,l){if(a==="light")return this._loadLight(l)}createNodeAttachment(a){const l=this,r=this.parser,f=r.json.nodes[a],p=(f.extensions&&f.extensions[this.name]||{}).light;return p===void 0?null:this._loadLight(p).then(function(h){return r._getNodeRef(l.cache,p,h)})}}class Lv{constructor(){this.name=ce.KHR_MATERIALS_UNLIT}getMaterialType(){return Ps}extendParams(a,l,r){const u=[];a.color=new Nt(1,1,1),a.opacity=1;const f=l.pbrMetallicRoughness;if(f){if(Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.setRGB(d[0],d[1],d[2],An),a.opacity=d[3]}f.baseColorTexture!==void 0&&u.push(r.assignTexture(a,"map",f.baseColorTexture,pa))}return Promise.all(u)}}class zv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(a,l){const u=this.parser.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=u.extensions[this.name].emissiveStrength;return f!==void 0&&(l.emissiveIntensity=f),Promise.resolve()}}class Jv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_CLEARCOAT}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const r=this.parser,u=r.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=[],d=u.extensions[this.name];if(d.clearcoatFactor!==void 0&&(l.clearcoat=d.clearcoatFactor),d.clearcoatTexture!==void 0&&f.push(r.assignTexture(l,"clearcoatMap",d.clearcoatTexture)),d.clearcoatRoughnessFactor!==void 0&&(l.clearcoatRoughness=d.clearcoatRoughnessFactor),d.clearcoatRoughnessTexture!==void 0&&f.push(r.assignTexture(l,"clearcoatRoughnessMap",d.clearcoatRoughnessTexture)),d.clearcoatNormalTexture!==void 0&&(f.push(r.assignTexture(l,"clearcoatNormalMap",d.clearcoatNormalTexture)),d.clearcoatNormalTexture.scale!==void 0)){const p=d.clearcoatNormalTexture.scale;l.clearcoatNormalScale=new Me(p,p)}return Promise.all(f)}}class jv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_DISPERSION}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const u=this.parser.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=u.extensions[this.name];return l.dispersion=f.dispersion!==void 0?f.dispersion:0,Promise.resolve()}}class Iv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_IRIDESCENCE}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const r=this.parser,u=r.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=[],d=u.extensions[this.name];return d.iridescenceFactor!==void 0&&(l.iridescence=d.iridescenceFactor),d.iridescenceTexture!==void 0&&f.push(r.assignTexture(l,"iridescenceMap",d.iridescenceTexture)),d.iridescenceIor!==void 0&&(l.iridescenceIOR=d.iridescenceIor),l.iridescenceThicknessRange===void 0&&(l.iridescenceThicknessRange=[100,400]),d.iridescenceThicknessMinimum!==void 0&&(l.iridescenceThicknessRange[0]=d.iridescenceThicknessMinimum),d.iridescenceThicknessMaximum!==void 0&&(l.iridescenceThicknessRange[1]=d.iridescenceThicknessMaximum),d.iridescenceThicknessTexture!==void 0&&f.push(r.assignTexture(l,"iridescenceThicknessMap",d.iridescenceThicknessTexture)),Promise.all(f)}}class Kv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_SHEEN}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const r=this.parser,u=r.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=[];l.sheenColor=new Nt(0,0,0),l.sheenRoughness=0,l.sheen=1;const d=u.extensions[this.name];if(d.sheenColorFactor!==void 0){const p=d.sheenColorFactor;l.sheenColor.setRGB(p[0],p[1],p[2],An)}return d.sheenRoughnessFactor!==void 0&&(l.sheenRoughness=d.sheenRoughnessFactor),d.sheenColorTexture!==void 0&&f.push(r.assignTexture(l,"sheenColorMap",d.sheenColorTexture,pa)),d.sheenRoughnessTexture!==void 0&&f.push(r.assignTexture(l,"sheenRoughnessMap",d.sheenRoughnessTexture)),Promise.all(f)}}class Qv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_TRANSMISSION}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const r=this.parser,u=r.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=[],d=u.extensions[this.name];return d.transmissionFactor!==void 0&&(l.transmission=d.transmissionFactor),d.transmissionTexture!==void 0&&f.push(r.assignTexture(l,"transmissionMap",d.transmissionTexture)),Promise.all(f)}}class Xv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_VOLUME}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const r=this.parser,u=r.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=[],d=u.extensions[this.name];l.thickness=d.thicknessFactor!==void 0?d.thicknessFactor:0,d.thicknessTexture!==void 0&&f.push(r.assignTexture(l,"thicknessMap",d.thicknessTexture)),l.attenuationDistance=d.attenuationDistance||1/0;const p=d.attenuationColor||[1,1,1];return l.attenuationColor=new Nt().setRGB(p[0],p[1],p[2],An),Promise.all(f)}}class Yv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_IOR}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const u=this.parser.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=u.extensions[this.name];return l.ior=f.ior!==void 0?f.ior:1.5,Promise.resolve()}}class Pv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_SPECULAR}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const r=this.parser,u=r.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=[],d=u.extensions[this.name];l.specularIntensity=d.specularFactor!==void 0?d.specularFactor:1,d.specularTexture!==void 0&&f.push(r.assignTexture(l,"specularIntensityMap",d.specularTexture));const p=d.specularColorFactor||[1,1,1];return l.specularColor=new Nt().setRGB(p[0],p[1],p[2],An),d.specularColorTexture!==void 0&&f.push(r.assignTexture(l,"specularColorMap",d.specularColorTexture,pa)),Promise.all(f)}}class Vv{constructor(a){this.parser=a,this.name=ce.EXT_MATERIALS_BUMP}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const r=this.parser,u=r.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=[],d=u.extensions[this.name];return l.bumpScale=d.bumpFactor!==void 0?d.bumpFactor:1,d.bumpTexture!==void 0&&f.push(r.assignTexture(l,"bumpMap",d.bumpTexture)),Promise.all(f)}}class Zv{constructor(a){this.parser=a,this.name=ce.KHR_MATERIALS_ANISOTROPY}getMaterialType(a){const r=this.parser.json.materials[a];return!r.extensions||!r.extensions[this.name]?null:wt}extendMaterialParams(a,l){const r=this.parser,u=r.json.materials[a];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const f=[],d=u.extensions[this.name];return d.anisotropyStrength!==void 0&&(l.anisotropy=d.anisotropyStrength),d.anisotropyRotation!==void 0&&(l.anisotropyRotation=d.anisotropyRotation),d.anisotropyTexture!==void 0&&f.push(r.assignTexture(l,"anisotropyMap",d.anisotropyTexture)),Promise.all(f)}}class qv{constructor(a){this.parser=a,this.name=ce.KHR_TEXTURE_BASISU}loadTexture(a){const l=this.parser,r=l.json,u=r.textures[a];if(!u.extensions||!u.extensions[this.name])return null;const f=u.extensions[this.name],d=l.options.ktx2Loader;if(!d){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return l.loadTextureImage(a,f.source,d)}}class wv{constructor(a){this.parser=a,this.name=ce.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(a){const l=this.name,r=this.parser,u=r.json,f=u.textures[a];if(!f.extensions||!f.extensions[l])return null;const d=f.extensions[l],p=u.images[d.source];let h=r.textureLoader;if(p.uri){const m=r.options.manager.getHandler(p.uri);m!==null&&(h=m)}return this.detectSupport().then(function(m){if(m)return r.loadTextureImage(a,d.source,h);if(u.extensionsRequired&&u.extensionsRequired.indexOf(l)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(a)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(a){const l=new Image;l.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",l.onload=l.onerror=function(){a(l.height===1)}})),this.isSupported}}class Wv{constructor(a){this.parser=a,this.name=ce.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(a){const l=this.name,r=this.parser,u=r.json,f=u.textures[a];if(!f.extensions||!f.extensions[l])return null;const d=f.extensions[l],p=u.images[d.source];let h=r.textureLoader;if(p.uri){const m=r.options.manager.getHandler(p.uri);m!==null&&(h=m)}return this.detectSupport().then(function(m){if(m)return r.loadTextureImage(a,d.source,h);if(u.extensionsRequired&&u.extensionsRequired.indexOf(l)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(a)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(a){const l=new Image;l.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",l.onload=l.onerror=function(){a(l.height===1)}})),this.isSupported}}class kv{constructor(a){this.name=ce.EXT_MESHOPT_COMPRESSION,this.parser=a}loadBufferView(a){const l=this.parser.json,r=l.bufferViews[a];if(r.extensions&&r.extensions[this.name]){const u=r.extensions[this.name],f=this.parser.getDependency("buffer",u.buffer),d=this.parser.options.meshoptDecoder;if(!d||!d.supported){if(l.extensionsRequired&&l.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return f.then(function(p){const h=u.byteOffset||0,m=u.byteLength||0,B=u.count,v=u.byteStride,E=new Uint8Array(p,h,m);return d.decodeGltfBufferAsync?d.decodeGltfBufferAsync(B,v,E,u.mode,u.filter).then(function(C){return C.buffer}):d.ready.then(function(){const C=new ArrayBuffer(B*v);return d.decodeGltfBuffer(new Uint8Array(C),B,v,E,u.mode,u.filter),C})})}else return null}}class $v{constructor(a){this.name=ce.EXT_MESH_GPU_INSTANCING,this.parser=a}createNodeMesh(a){const l=this.parser.json,r=l.nodes[a];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const u=l.meshes[r.mesh];for(const m of u.primitives)if(m.mode!==Ot.TRIANGLES&&m.mode!==Ot.TRIANGLE_STRIP&&m.mode!==Ot.TRIANGLE_FAN&&m.mode!==void 0)return null;const d=r.extensions[this.name].attributes,p=[],h={};for(const m in d)p.push(this.parser.getDependency("accessor",d[m]).then(B=>(h[m]=B,h[m])));return p.length<1?null:(p.push(this.parser.createNodeMesh(a)),Promise.all(p).then(m=>{const B=m.pop(),v=B.isGroup?B.children:[B],E=m[0].count,C=[];for(const R of v){const G=new ll,O=new Ne,S=new sl,y=new Ne(1,1,1),_=new gm(R.geometry,R.material,E);for(let x=0;x<E;x++)h.TRANSLATION&&O.fromBufferAttribute(h.TRANSLATION,x),h.ROTATION&&S.fromBufferAttribute(h.ROTATION,x),h.SCALE&&y.fromBufferAttribute(h.SCALE,x),_.setMatrixAt(x,G.compose(O,S,y));for(const x in h)if(x==="_COLOR_0"){const L=h[x];_.instanceColor=new ym(L.array,L.itemSize,L.normalized)}else x!=="TRANSLATION"&&x!=="ROTATION"&&x!=="SCALE"&&R.geometry.setAttribute(x,h[x]);Cd.prototype.copy.call(_,R),this.parser.assignFinalMaterial(_),C.push(_)}return B.isGroup?(B.clear(),B.add(...C),B):C[0]}))}}const qd="glTF",Qs=12,ad={JSON:1313821514,BIN:5130562};class eB{constructor(a){this.name=ce.KHR_BINARY_GLTF,this.content=null,this.body=null;const l=new DataView(a,0,Qs);if(this.header={magic:dl(new Uint8Array(a.slice(0,4))),version:l.getUint32(4,!0),length:l.getUint32(8,!0)},this.header.magic!==qd)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Qs,u=new DataView(a,Qs);let f=0;for(;f<r;){const d=u.getUint32(f,!0);f+=4;const p=u.getUint32(f,!0);if(f+=4,p===ad.JSON){const h=new Uint8Array(a,Qs+f,d);this.content=dl(h)}else if(p===ad.BIN){const h=Qs+f;this.body=a.slice(h,h+d)}f+=d}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class tB{constructor(a,l){if(!l)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ce.KHR_DRACO_MESH_COMPRESSION,this.json=a,this.dracoLoader=l,this.dracoLoader.preload()}decodePrimitive(a,l){const r=this.json,u=this.dracoLoader,f=a.extensions[this.name].bufferView,d=a.extensions[this.name].attributes,p={},h={},m={};for(const B in d){const v=Fo[B]||B.toLowerCase();p[v]=d[B]}for(const B in a.attributes){const v=Fo[B]||B.toLowerCase();if(d[B]!==void 0){const E=r.accessors[a.attributes[B]],C=ss[E.componentType];m[v]=C.name,h[v]=E.normalized===!0}}return l.getDependency("bufferView",f).then(function(B){return new Promise(function(v,E){u.decodeDracoFile(B,function(C){for(const R in C.attributes){const G=C.attributes[R],O=h[R];O!==void 0&&(G.normalized=O)}v(C)},p,m,An,E)})})}}class nB{constructor(){this.name=ce.KHR_TEXTURE_TRANSFORM}extendTexture(a,l){return(l.texCoord===void 0||l.texCoord===a.channel)&&l.offset===void 0&&l.rotation===void 0&&l.scale===void 0||(a=a.clone(),l.texCoord!==void 0&&(a.channel=l.texCoord),l.offset!==void 0&&a.offset.fromArray(l.offset),l.rotation!==void 0&&(a.rotation=l.rotation),l.scale!==void 0&&a.repeat.fromArray(l.scale),a.needsUpdate=!0),a}}class aB{constructor(){this.name=ce.KHR_MESH_QUANTIZATION}}class wd extends Ym{constructor(a,l,r,u){super(a,l,r,u)}copySampleValue_(a){const l=this.resultBuffer,r=this.sampleValues,u=this.valueSize,f=a*u*3+u;for(let d=0;d!==u;d++)l[d]=r[f+d];return l}interpolate_(a,l,r,u){const f=this.resultBuffer,d=this.sampleValues,p=this.valueSize,h=p*2,m=p*3,B=u-l,v=(r-l)/B,E=v*v,C=E*v,R=a*m,G=R-m,O=-2*C+3*E,S=C-E,y=1-O,_=S-E+v;for(let x=0;x!==p;x++){const L=d[G+x+p],F=d[G+x+h]*B,W=d[R+x+p],P=d[R+x]*B;f[x]=y*L+_*F+O*W+S*P}return f}}const sB=new sl;class iB extends wd{interpolate_(a,l,r,u){const f=super.interpolate_(a,l,r,u);return sB.fromArray(f).normalize().toArray(f),f}}const Ot={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},ss={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},sd={9728:ks,9729:ls,9984:Dm,9985:Rm,9986:bm,9987:gd},id={33071:Hm,33648:Gm,10497:Do},Bo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Fo={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Mv>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Jn={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},lB={CUBICSPLINE:void 0,LINEAR:yd,STEP:Qm},Eo={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function rB(s){return s.DefaultMaterial===void 0&&(s.DefaultMaterial=new hl({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Sd})),s.DefaultMaterial}function da(s,a,l){for(const r in l.extensions)s[r]===void 0&&(a.userData.gltfExtensions=a.userData.gltfExtensions||{},a.userData.gltfExtensions[r]=l.extensions[r])}function mn(s,a){a.extras!==void 0&&(typeof a.extras=="object"?Object.assign(s.userData,a.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+a.extras))}function oB(s,a,l){let r=!1,u=!1,f=!1;for(let m=0,B=a.length;m<B;m++){const v=a[m];if(v.POSITION!==void 0&&(r=!0),v.NORMAL!==void 0&&(u=!0),v.COLOR_0!==void 0&&(f=!0),r&&u&&f)break}if(!r&&!u&&!f)return Promise.resolve(s);const d=[],p=[],h=[];for(let m=0,B=a.length;m<B;m++){const v=a[m];if(r){const E=v.POSITION!==void 0?l.getDependency("accessor",v.POSITION):s.attributes.position;d.push(E)}if(u){const E=v.NORMAL!==void 0?l.getDependency("accessor",v.NORMAL):s.attributes.normal;p.push(E)}if(f){const E=v.COLOR_0!==void 0?l.getDependency("accessor",v.COLOR_0):s.attributes.color;h.push(E)}}return Promise.all([Promise.all(d),Promise.all(p),Promise.all(h)]).then(function(m){const B=m[0],v=m[1],E=m[2];return r&&(s.morphAttributes.position=B),u&&(s.morphAttributes.normal=v),f&&(s.morphAttributes.color=E),s.morphTargetsRelative=!0,s})}function uB(s,a){if(s.updateMorphTargets(),a.weights!==void 0)for(let l=0,r=a.weights.length;l<r;l++)s.morphTargetInfluences[l]=a.weights[l];if(a.extras&&Array.isArray(a.extras.targetNames)){const l=a.extras.targetNames;if(s.morphTargetInfluences.length===l.length){s.morphTargetDictionary={};for(let r=0,u=l.length;r<u;r++)s.morphTargetDictionary[l[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function cB(s){let a;const l=s.extensions&&s.extensions[ce.KHR_DRACO_MESH_COMPRESSION];if(l?a="draco:"+l.bufferView+":"+l.indices+":"+Co(l.attributes):a=s.indices+":"+Co(s.attributes)+":"+s.mode,s.targets!==void 0)for(let r=0,u=s.targets.length;r<u;r++)a+=":"+Co(s.targets[r]);return a}function Co(s){let a="";const l=Object.keys(s).sort();for(let r=0,u=l.length;r<u;r++)a+=l[r]+":"+s[l[r]]+";";return a}function Lo(s){switch(s){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function fB(s){return s.search(/\.jpe?g($|\?)/i)>0||s.search(/^data\:image\/jpeg/)===0?"image/jpeg":s.search(/\.webp($|\?)/i)>0||s.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const dB=new ll;class hB{constructor(a={},l={}){this.json=a,this.extensions={},this.plugins={},this.options=l,this.cache=new Uv,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,u=!1,f=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,u=navigator.userAgent.indexOf("Firefox")>-1,f=u?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||u&&f<98?this.textureLoader=new Sm(this.options.manager):this.textureLoader=new Tm(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new il(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(a){this.extensions=a}setPlugins(a){this.plugins=a}parse(a,l){const r=this,u=this.json,f=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(d){return d._markDefs&&d._markDefs()}),Promise.all(this._invokeAll(function(d){return d.beforeRoot&&d.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(d){const p={scene:d[0][u.scene||0],scenes:d[0],animations:d[1],cameras:d[2],asset:u.asset,parser:r,userData:{}};return da(f,p,u),mn(p,u),Promise.all(r._invokeAll(function(h){return h.afterRoot&&h.afterRoot(p)})).then(function(){for(const h of p.scenes)h.updateMatrixWorld();a(p)})}).catch(l)}_markDefs(){const a=this.json.nodes||[],l=this.json.skins||[],r=this.json.meshes||[];for(let u=0,f=l.length;u<f;u++){const d=l[u].joints;for(let p=0,h=d.length;p<h;p++)a[d[p]].isBone=!0}for(let u=0,f=a.length;u<f;u++){const d=a[u];d.mesh!==void 0&&(this._addNodeRef(this.meshCache,d.mesh),d.skin!==void 0&&(r[d.mesh].isSkinnedMesh=!0)),d.camera!==void 0&&this._addNodeRef(this.cameraCache,d.camera)}}_addNodeRef(a,l){l!==void 0&&(a.refs[l]===void 0&&(a.refs[l]=a.uses[l]=0),a.refs[l]++)}_getNodeRef(a,l,r){if(a.refs[l]<=1)return r;const u=r.clone(),f=(d,p)=>{const h=this.associations.get(d);h!=null&&this.associations.set(p,h);for(const[m,B]of d.children.entries())f(B,p.children[m])};return f(r,u),u.name+="_instance_"+a.uses[l]++,u}_invokeOne(a){const l=Object.values(this.plugins);l.push(this);for(let r=0;r<l.length;r++){const u=a(l[r]);if(u)return u}return null}_invokeAll(a){const l=Object.values(this.plugins);l.unshift(this);const r=[];for(let u=0;u<l.length;u++){const f=a(l[u]);f&&r.push(f)}return r}getDependency(a,l){const r=a+":"+l;let u=this.cache.get(r);if(!u){switch(a){case"scene":u=this.loadScene(l);break;case"node":u=this._invokeOne(function(f){return f.loadNode&&f.loadNode(l)});break;case"mesh":u=this._invokeOne(function(f){return f.loadMesh&&f.loadMesh(l)});break;case"accessor":u=this.loadAccessor(l);break;case"bufferView":u=this._invokeOne(function(f){return f.loadBufferView&&f.loadBufferView(l)});break;case"buffer":u=this.loadBuffer(l);break;case"material":u=this._invokeOne(function(f){return f.loadMaterial&&f.loadMaterial(l)});break;case"texture":u=this._invokeOne(function(f){return f.loadTexture&&f.loadTexture(l)});break;case"skin":u=this.loadSkin(l);break;case"animation":u=this._invokeOne(function(f){return f.loadAnimation&&f.loadAnimation(l)});break;case"camera":u=this.loadCamera(l);break;default:if(u=this._invokeOne(function(f){return f!=this&&f.getDependency&&f.getDependency(a,l)}),!u)throw new Error("Unknown type: "+a);break}this.cache.add(r,u)}return u}getDependencies(a){let l=this.cache.get(a);if(!l){const r=this,u=this.json[a+(a==="mesh"?"es":"s")]||[];l=Promise.all(u.map(function(f,d){return r.getDependency(a,d)})),this.cache.add(a,l)}return l}loadBuffer(a){const l=this.json.buffers[a],r=this.fileLoader;if(l.type&&l.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+l.type+" buffer type is not supported.");if(l.uri===void 0&&a===0)return Promise.resolve(this.extensions[ce.KHR_BINARY_GLTF].body);const u=this.options;return new Promise(function(f,d){r.load(Vs.resolveURL(l.uri,u.path),f,void 0,function(){d(new Error('THREE.GLTFLoader: Failed to load buffer "'+l.uri+'".'))})})}loadBufferView(a){const l=this.json.bufferViews[a];return this.getDependency("buffer",l.buffer).then(function(r){const u=l.byteLength||0,f=l.byteOffset||0;return r.slice(f,f+u)})}loadAccessor(a){const l=this,r=this.json,u=this.json.accessors[a];if(u.bufferView===void 0&&u.sparse===void 0){const d=Bo[u.type],p=ss[u.componentType],h=u.normalized===!0,m=new p(u.count*d);return Promise.resolve(new ma(m,d,h))}const f=[];return u.bufferView!==void 0?f.push(this.getDependency("bufferView",u.bufferView)):f.push(null),u.sparse!==void 0&&(f.push(this.getDependency("bufferView",u.sparse.indices.bufferView)),f.push(this.getDependency("bufferView",u.sparse.values.bufferView))),Promise.all(f).then(function(d){const p=d[0],h=Bo[u.type],m=ss[u.componentType],B=m.BYTES_PER_ELEMENT,v=B*h,E=u.byteOffset||0,C=u.bufferView!==void 0?r.bufferViews[u.bufferView].byteStride:void 0,R=u.normalized===!0;let G,O;if(C&&C!==v){const S=Math.floor(E/C),y="InterleavedBuffer:"+u.bufferView+":"+u.componentType+":"+S+":"+u.count;let _=l.cache.get(y);_||(G=new m(p,S*C,u.count*C/B),_=new Mm(G,C/B),l.cache.add(y,_)),O=new Xm(_,h,E%C/B,R)}else p===null?G=new m(u.count*h):G=new m(p,E,u.count*h),O=new ma(G,h,R);if(u.sparse!==void 0){const S=Bo.SCALAR,y=ss[u.sparse.indices.componentType],_=u.sparse.indices.byteOffset||0,x=u.sparse.values.byteOffset||0,L=new y(d[1],_,u.sparse.count*S),F=new m(d[2],x,u.sparse.count*h);p!==null&&(O=new ma(O.array.slice(),O.itemSize,O.normalized));for(let W=0,P=L.length;W<P;W++){const Y=L[W];if(O.setX(Y,F[W*h]),h>=2&&O.setY(Y,F[W*h+1]),h>=3&&O.setZ(Y,F[W*h+2]),h>=4&&O.setW(Y,F[W*h+3]),h>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return O})}loadTexture(a){const l=this.json,r=this.options,f=l.textures[a].source,d=l.images[f];let p=this.textureLoader;if(d.uri){const h=r.manager.getHandler(d.uri);h!==null&&(p=h)}return this.loadTextureImage(a,f,p)}loadTextureImage(a,l,r){const u=this,f=this.json,d=f.textures[a],p=f.images[l],h=(p.uri||p.bufferView)+":"+d.sampler;if(this.textureCache[h])return this.textureCache[h];const m=this.loadImageSource(l,r).then(function(B){B.flipY=!1,B.name=d.name||p.name||"",B.name===""&&typeof p.uri=="string"&&p.uri.startsWith("data:image/")===!1&&(B.name=p.uri);const E=(f.samplers||{})[d.sampler]||{};return B.magFilter=sd[E.magFilter]||ls,B.minFilter=sd[E.minFilter]||gd,B.wrapS=id[E.wrapS]||Do,B.wrapT=id[E.wrapT]||Do,u.associations.set(B,{textures:a}),B}).catch(function(){return null});return this.textureCache[h]=m,m}loadImageSource(a,l){const r=this,u=this.json,f=this.options;if(this.sourceCache[a]!==void 0)return this.sourceCache[a].then(v=>v.clone());const d=u.images[a],p=self.URL||self.webkitURL;let h=d.uri||"",m=!1;if(d.bufferView!==void 0)h=r.getDependency("bufferView",d.bufferView).then(function(v){m=!0;const E=new Blob([v],{type:d.mimeType});return h=p.createObjectURL(E),h});else if(d.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+a+" is missing URI and bufferView");const B=Promise.resolve(h).then(function(v){return new Promise(function(E,C){let R=E;l.isImageBitmapLoader===!0&&(R=function(G){const O=new rl(G);O.needsUpdate=!0,E(O)}),l.load(Vs.resolveURL(v,f.path),R,void 0,C)})}).then(function(v){return m===!0&&p.revokeObjectURL(h),mn(v,d),v.userData.mimeType=d.mimeType||fB(d.uri),v}).catch(function(v){throw console.error("THREE.GLTFLoader: Couldn't load texture",h),v});return this.sourceCache[a]=B,B}assignTexture(a,l,r,u){const f=this;return this.getDependency("texture",r.index).then(function(d){if(!d)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(d=d.clone(),d.channel=r.texCoord),f.extensions[ce.KHR_TEXTURE_TRANSFORM]){const p=r.extensions!==void 0?r.extensions[ce.KHR_TEXTURE_TRANSFORM]:void 0;if(p){const h=f.associations.get(d);d=f.extensions[ce.KHR_TEXTURE_TRANSFORM].extendTexture(d,p),f.associations.set(d,h)}}return u!==void 0&&(typeof u=="number"&&(u=u===nd?pa:An),"colorSpace"in d?d.colorSpace=u:d.encoding=u===pa?nd:xv),a[l]=d,d})}assignFinalMaterial(a){const l=a.geometry;let r=a.material;const u=l.attributes.tangent===void 0,f=l.attributes.color!==void 0,d=l.attributes.normal===void 0;if(a.isPoints){const p="PointsMaterial:"+r.uuid;let h=this.cache.get(p);h||(h=new Om,Zs.prototype.copy.call(h,r),h.color.copy(r.color),h.map=r.map,h.sizeAttenuation=!1,this.cache.add(p,h)),r=h}else if(a.isLine){const p="LineBasicMaterial:"+r.uuid;let h=this.cache.get(p);h||(h=new _m,Zs.prototype.copy.call(h,r),h.color.copy(r.color),h.map=r.map,this.cache.add(p,h)),r=h}if(u||f||d){let p="ClonedMaterial:"+r.uuid+":";u&&(p+="derivative-tangents:"),f&&(p+="vertex-colors:"),d&&(p+="flat-shading:");let h=this.cache.get(p);h||(h=r.clone(),f&&(h.vertexColors=!0),d&&(h.flatShading=!0),u&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(p,h),this.associations.set(h,this.associations.get(r))),r=h}a.material=r}getMaterialType(){return hl}loadMaterial(a){const l=this,r=this.json,u=this.extensions,f=r.materials[a];let d;const p={},h=f.extensions||{},m=[];if(h[ce.KHR_MATERIALS_UNLIT]){const v=u[ce.KHR_MATERIALS_UNLIT];d=v.getMaterialType(),m.push(v.extendParams(p,f,l))}else{const v=f.pbrMetallicRoughness||{};if(p.color=new Nt(1,1,1),p.opacity=1,Array.isArray(v.baseColorFactor)){const E=v.baseColorFactor;p.color.setRGB(E[0],E[1],E[2],An),p.opacity=E[3]}v.baseColorTexture!==void 0&&m.push(l.assignTexture(p,"map",v.baseColorTexture,pa)),p.metalness=v.metallicFactor!==void 0?v.metallicFactor:1,p.roughness=v.roughnessFactor!==void 0?v.roughnessFactor:1,v.metallicRoughnessTexture!==void 0&&(m.push(l.assignTexture(p,"metalnessMap",v.metallicRoughnessTexture)),m.push(l.assignTexture(p,"roughnessMap",v.metallicRoughnessTexture))),d=this._invokeOne(function(E){return E.getMaterialType&&E.getMaterialType(a)}),m.push(Promise.all(this._invokeAll(function(E){return E.extendMaterialParams&&E.extendMaterialParams(a,p)})))}f.doubleSided===!0&&(p.side=Ys);const B=f.alphaMode||Eo.OPAQUE;if(B===Eo.BLEND?(p.transparent=!0,p.depthWrite=!1):(p.transparent=!1,B===Eo.MASK&&(p.alphaTest=f.alphaCutoff!==void 0?f.alphaCutoff:.5)),f.normalTexture!==void 0&&d!==Ps&&(m.push(l.assignTexture(p,"normalMap",f.normalTexture)),p.normalScale=new Me(1,1),f.normalTexture.scale!==void 0)){const v=f.normalTexture.scale;p.normalScale.set(v,v)}if(f.occlusionTexture!==void 0&&d!==Ps&&(m.push(l.assignTexture(p,"aoMap",f.occlusionTexture)),f.occlusionTexture.strength!==void 0&&(p.aoMapIntensity=f.occlusionTexture.strength)),f.emissiveFactor!==void 0&&d!==Ps){const v=f.emissiveFactor;p.emissive=new Nt().setRGB(v[0],v[1],v[2],An)}return f.emissiveTexture!==void 0&&d!==Ps&&m.push(l.assignTexture(p,"emissiveMap",f.emissiveTexture,pa)),Promise.all(m).then(function(){const v=new d(p);return f.name&&(v.name=f.name),mn(v,f),l.associations.set(v,{materials:a}),f.extensions&&da(u,v,f),v})}createUniqueName(a){const l=Nm.sanitizeNodeName(a||"");return l in this.nodeNamesUsed?l+"_"+ ++this.nodeNamesUsed[l]:(this.nodeNamesUsed[l]=0,l)}loadGeometries(a){const l=this,r=this.extensions,u=this.primitiveCache;function f(p){return r[ce.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(p,l).then(function(h){return ld(h,p,l)})}const d=[];for(let p=0,h=a.length;p<h;p++){const m=a[p],B=cB(m),v=u[B];if(v)d.push(v.promise);else{let E;m.extensions&&m.extensions[ce.KHR_DRACO_MESH_COMPRESSION]?E=f(m):E=ld(new Ko,m,l),u[B]={primitive:m,promise:E},d.push(E)}}return Promise.all(d)}loadMesh(a){const l=this,r=this.json,u=this.extensions,f=r.meshes[a],d=f.primitives,p=[];for(let h=0,m=d.length;h<m;h++){const B=d[h].material===void 0?rB(this.cache):this.getDependency("material",d[h].material);p.push(B)}return p.push(l.loadGeometries(d)),Promise.all(p).then(function(h){const m=h.slice(0,h.length-1),B=h[h.length-1],v=[];for(let C=0,R=B.length;C<R;C++){const G=B[C],O=d[C];let S;const y=m[C];if(O.mode===Ot.TRIANGLES||O.mode===Ot.TRIANGLE_STRIP||O.mode===Ot.TRIANGLE_FAN||O.mode===void 0)S=f.isSkinnedMesh===!0?new xm(G,y):new pl(G,y),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),O.mode===Ot.TRIANGLE_STRIP?S.geometry=$f(S.geometry,Bd):O.mode===Ot.TRIANGLE_FAN&&(S.geometry=$f(S.geometry,bo));else if(O.mode===Ot.LINES)S=new Um(G,y);else if(O.mode===Ot.LINE_STRIP)S=new Fm(G,y);else if(O.mode===Ot.LINE_LOOP)S=new Lm(G,y);else if(O.mode===Ot.POINTS)S=new zm(G,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+O.mode);Object.keys(S.geometry.morphAttributes).length>0&&uB(S,f),S.name=l.createUniqueName(f.name||"mesh_"+a),mn(S,f),O.extensions&&da(u,S,O),l.assignFinalMaterial(S),v.push(S)}for(let C=0,R=v.length;C<R;C++)l.associations.set(v[C],{meshes:a,primitives:C});if(v.length===1)return f.extensions&&da(u,v[0],f),v[0];const E=new $r;f.extensions&&da(u,E,f),l.associations.set(E,{meshes:a});for(let C=0,R=v.length;C<R;C++)E.add(v[C]);return E})}loadCamera(a){let l;const r=this.json.cameras[a],u=r[r.type];if(!u){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?l=new as(Jm.radToDeg(u.yfov),u.aspectRatio||1,u.znear||1,u.zfar||2e6):r.type==="orthographic"&&(l=new ns(-u.xmag,u.xmag,u.ymag,-u.ymag,u.znear,u.zfar)),r.name&&(l.name=this.createUniqueName(r.name)),mn(l,r),Promise.resolve(l)}loadSkin(a){const l=this.json.skins[a],r=[];for(let u=0,f=l.joints.length;u<f;u++)r.push(this._loadNodeShallow(l.joints[u]));return l.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",l.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(u){const f=u.pop(),d=u,p=[],h=[];for(let m=0,B=d.length;m<B;m++){const v=d[m];if(v){p.push(v);const E=new ll;f!==null&&E.fromArray(f.array,m*16),h.push(E)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',l.joints[m])}return new jm(p,h)})}loadAnimation(a){const l=this.json,r=this,u=l.animations[a],f=u.name?u.name:"animation_"+a,d=[],p=[],h=[],m=[],B=[];for(let v=0,E=u.channels.length;v<E;v++){const C=u.channels[v],R=u.samplers[C.sampler],G=C.target,O=G.node,S=u.parameters!==void 0?u.parameters[R.input]:R.input,y=u.parameters!==void 0?u.parameters[R.output]:R.output;G.node!==void 0&&(d.push(this.getDependency("node",O)),p.push(this.getDependency("accessor",S)),h.push(this.getDependency("accessor",y)),m.push(R),B.push(G))}return Promise.all([Promise.all(d),Promise.all(p),Promise.all(h),Promise.all(m),Promise.all(B)]).then(function(v){const E=v[0],C=v[1],R=v[2],G=v[3],O=v[4],S=[];for(let y=0,_=E.length;y<_;y++){const x=E[y],L=C[y],F=R[y],W=G[y],P=O[y];if(x===void 0)continue;x.updateMatrix&&x.updateMatrix();const Y=r._createAnimationTracks(x,L,F,W,P);if(Y)for(let j=0;j<Y.length;j++)S.push(Y[j])}return new Im(f,void 0,S)})}createNodeMesh(a){const l=this.json,r=this,u=l.nodes[a];return u.mesh===void 0?null:r.getDependency("mesh",u.mesh).then(function(f){const d=r._getNodeRef(r.meshCache,u.mesh,f);return u.weights!==void 0&&d.traverse(function(p){if(p.isMesh)for(let h=0,m=u.weights.length;h<m;h++)p.morphTargetInfluences[h]=u.weights[h]}),d})}loadNode(a){const l=this.json,r=this,u=l.nodes[a],f=r._loadNodeShallow(a),d=[],p=u.children||[];for(let m=0,B=p.length;m<B;m++)d.push(r.getDependency("node",p[m]));const h=u.skin===void 0?Promise.resolve(null):r.getDependency("skin",u.skin);return Promise.all([f,Promise.all(d),h]).then(function(m){const B=m[0],v=m[1],E=m[2];E!==null&&B.traverse(function(C){C.isSkinnedMesh&&C.bind(E,dB)});for(let C=0,R=v.length;C<R;C++)B.add(v[C]);return B})}_loadNodeShallow(a){const l=this.json,r=this.extensions,u=this;if(this.nodeCache[a]!==void 0)return this.nodeCache[a];const f=l.nodes[a],d=f.name?u.createUniqueName(f.name):"",p=[],h=u._invokeOne(function(m){return m.createNodeMesh&&m.createNodeMesh(a)});return h&&p.push(h),f.camera!==void 0&&p.push(u.getDependency("camera",f.camera).then(function(m){return u._getNodeRef(u.cameraCache,f.camera,m)})),u._invokeAll(function(m){return m.createNodeAttachment&&m.createNodeAttachment(a)}).forEach(function(m){p.push(m)}),this.nodeCache[a]=Promise.all(p).then(function(m){let B;if(f.isBone===!0?B=new Km:m.length>1?B=new $r:m.length===1?B=m[0]:B=new Cd,B!==m[0])for(let v=0,E=m.length;v<E;v++)B.add(m[v]);if(f.name&&(B.userData.name=f.name,B.name=d),mn(B,f),f.extensions&&da(r,B,f),f.matrix!==void 0){const v=new ll;v.fromArray(f.matrix),B.applyMatrix4(v)}else f.translation!==void 0&&B.position.fromArray(f.translation),f.rotation!==void 0&&B.quaternion.fromArray(f.rotation),f.scale!==void 0&&B.scale.fromArray(f.scale);return u.associations.has(B)||u.associations.set(B,{}),u.associations.get(B).nodes=a,B}),this.nodeCache[a]}loadScene(a){const l=this.extensions,r=this.json.scenes[a],u=this,f=new $r;r.name&&(f.name=u.createUniqueName(r.name)),mn(f,r),r.extensions&&da(l,f,r);const d=r.nodes||[],p=[];for(let h=0,m=d.length;h<m;h++)p.push(u.getDependency("node",d[h]));return Promise.all(p).then(function(h){for(let B=0,v=h.length;B<v;B++)f.add(h[B]);const m=B=>{const v=new Map;for(const[E,C]of u.associations)(E instanceof Zs||E instanceof rl)&&v.set(E,C);return B.traverse(E=>{const C=u.associations.get(E);C!=null&&v.set(E,C)}),v};return u.associations=m(f),f})}_createAnimationTracks(a,l,r,u,f){const d=[],p=a.name?a.name:a.uuid,h=[];Jn[f.path]===Jn.weights?a.traverse(function(E){E.morphTargetInfluences&&h.push(E.name?E.name:E.uuid)}):h.push(p);let m;switch(Jn[f.path]){case Jn.weights:m=Rf;break;case Jn.rotation:m=Df;break;case Jn.position:case Jn.scale:m=bf;break;default:switch(r.itemSize){case 1:m=Rf;break;case 2:case 3:default:m=bf;break}break}const B=u.interpolation!==void 0?lB[u.interpolation]:yd,v=this._getArrayFromAccessor(r);for(let E=0,C=h.length;E<C;E++){const R=new m(h[E]+"."+Jn[f.path],l.array,v,B);u.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(R),d.push(R)}return d}_getArrayFromAccessor(a){let l=a.array;if(a.normalized){const r=Lo(l.constructor),u=new Float32Array(l.length);for(let f=0,d=l.length;f<d;f++)u[f]=l[f]*r;l=u}return l}_createCubicSplineTrackInterpolant(a){a.createInterpolant=function(r){const u=this instanceof Df?iB:wd;return new u(this.times,this.values,this.getValueSize()/3,r)},a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function pB(s,a,l){const r=a.attributes,u=new Pm;if(r.POSITION!==void 0){const p=l.json.accessors[r.POSITION],h=p.min,m=p.max;if(h!==void 0&&m!==void 0){if(u.set(new Ne(h[0],h[1],h[2]),new Ne(m[0],m[1],m[2])),p.normalized){const B=Lo(ss[p.componentType]);u.min.multiplyScalar(B),u.max.multiplyScalar(B)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const f=a.targets;if(f!==void 0){const p=new Ne,h=new Ne;for(let m=0,B=f.length;m<B;m++){const v=f[m];if(v.POSITION!==void 0){const E=l.json.accessors[v.POSITION],C=E.min,R=E.max;if(C!==void 0&&R!==void 0){if(h.setX(Math.max(Math.abs(C[0]),Math.abs(R[0]))),h.setY(Math.max(Math.abs(C[1]),Math.abs(R[1]))),h.setZ(Math.max(Math.abs(C[2]),Math.abs(R[2]))),E.normalized){const G=Lo(ss[E.componentType]);h.multiplyScalar(G)}p.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}u.expandByVector(p)}s.boundingBox=u;const d=new Vm;u.getCenter(d.center),d.radius=u.min.distanceTo(u.max)/2,s.boundingSphere=d}function ld(s,a,l){const r=a.attributes,u=[];function f(d,p){return l.getDependency("accessor",d).then(function(h){s.setAttribute(p,h)})}for(const d in r){const p=Fo[d]||d.toLowerCase();p in s.attributes||u.push(f(r[d],p))}if(a.indices!==void 0&&!s.index){const d=l.getDependency("accessor",a.indices).then(function(p){s.setIndex(p)});u.push(d)}return mn(s,a),pB(s,a,l),Promise.all(u).then(function(){return a.targets!==void 0?oB(s,a.targets,l):s})}const go=new WeakMap;class mB extends Ed{constructor(a){super(a),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(a){return this.decoderPath=a,this}setDecoderConfig(a){return this.decoderConfig=a,this}setWorkerLimit(a){return this.workerLimit=a,this}load(a,l,r,u){const f=new il(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(a,d=>{const p={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(d,p).then(l).catch(u)},r,u)}decodeDracoFile(a,l,r,u){const f={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:u||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(a,f).then(l)}decodeGeometry(a,l){for(const h in l.attributeTypes){const m=l.attributeTypes[h];m.BYTES_PER_ELEMENT!==void 0&&(l.attributeTypes[h]=m.name)}const r=JSON.stringify(l);if(go.has(a)){const h=go.get(a);if(h.key===r)return h.promise;if(a.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let u;const f=this.workerNextTaskID++,d=a.byteLength,p=this._getWorker(f,d).then(h=>(u=h,new Promise((m,B)=>{u._callbacks[f]={resolve:m,reject:B},u.postMessage({type:"decode",id:f,taskConfig:l,buffer:a},[a])}))).then(h=>this._createGeometry(h.geometry));return p.catch(()=>!0).then(()=>{u&&f&&this._releaseTask(u,f)}),go.set(a,{key:r,promise:p}),p}_createGeometry(a){const l=new Ko;a.index&&l.setIndex(new ma(a.index.array,1));for(let r=0;r<a.attributes.length;r++){const u=a.attributes[r],f=u.name,d=u.array,p=u.itemSize;l.setAttribute(f,new ma(d,p))}return l}_loadLibrary(a,l){const r=new il(this.manager);return r.setPath(this.decoderPath),r.setResponseType(l),r.setWithCredentials(this.withCredentials),new Promise((u,f)=>{r.load(a,u,void 0,f)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const a=typeof WebAssembly!="object"||this.decoderConfig.type==="js",l=[];return a?l.push(this._loadLibrary("draco_decoder.js","text")):(l.push(this._loadLibrary("draco_wasm_wrapper.js","text")),l.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(l).then(r=>{const u=r[0];a||(this.decoderConfig.wasmBinary=r[1]);const f=AB.toString(),d=["/* draco decoder */",u,"","/* worker */",f.substring(f.indexOf("{")+1,f.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([d]))}),this.decoderPending}_getWorker(a,l){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const u=new Worker(this.workerSourceURL);u._callbacks={},u._taskCosts={},u._taskLoad=0,u.postMessage({type:"init",decoderConfig:this.decoderConfig}),u.onmessage=function(f){const d=f.data;switch(d.type){case"decode":u._callbacks[d.id].resolve(d);break;case"error":u._callbacks[d.id].reject(d);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+d.type+'"')}},this.workerPool.push(u)}else this.workerPool.sort(function(u,f){return u._taskLoad>f._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[a]=l,r._taskLoad+=l,r})}_releaseTask(a,l){a._taskLoad-=a._taskCosts[l],delete a._callbacks[l],delete a._taskCosts[l]}debug(){console.log("Task load: ",this.workerPool.map(a=>a._taskLoad))}dispose(){for(let a=0;a<this.workerPool.length;++a)this.workerPool[a].terminate();return this.workerPool.length=0,this}}function AB(){let s,a;onmessage=function(d){const p=d.data;switch(p.type){case"init":s=p.decoderConfig,a=new Promise(function(B){s.onModuleLoaded=function(v){B({draco:v})},DracoDecoderModule(s)});break;case"decode":const h=p.buffer,m=p.taskConfig;a.then(B=>{const v=B.draco,E=new v.Decoder,C=new v.DecoderBuffer;C.Init(new Int8Array(h),h.byteLength);try{const R=l(v,E,C,m),G=R.attributes.map(O=>O.array.buffer);R.index&&G.push(R.index.array.buffer),self.postMessage({type:"decode",id:p.id,geometry:R},G)}catch(R){console.error(R),self.postMessage({type:"error",id:p.id,error:R.message})}finally{v.destroy(C),v.destroy(E)}});break}};function l(d,p,h,m){const B=m.attributeIDs,v=m.attributeTypes;let E,C;const R=p.GetEncodedGeometryType(h);if(R===d.TRIANGULAR_MESH)E=new d.Mesh,C=p.DecodeBufferToMesh(h,E);else if(R===d.POINT_CLOUD)E=new d.PointCloud,C=p.DecodeBufferToPointCloud(h,E);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!C.ok()||E.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+C.error_msg());const G={index:null,attributes:[]};for(const O in B){const S=self[v[O]];let y,_;if(m.useUniqueIDs)_=B[O],y=p.GetAttributeByUniqueId(E,_);else{if(_=p.GetAttributeId(E,d[B[O]]),_===-1)continue;y=p.GetAttribute(E,_)}G.attributes.push(u(d,p,E,O,S,y))}return R===d.TRIANGULAR_MESH&&(G.index=r(d,p,E)),d.destroy(E),G}function r(d,p,h){const B=h.num_faces()*3,v=B*4,E=d._malloc(v);p.GetTrianglesUInt32Array(h,v,E);const C=new Uint32Array(d.HEAPF32.buffer,E,B).slice();return d._free(E),{array:C,itemSize:1}}function u(d,p,h,m,B,v){const E=v.num_components(),R=h.num_points()*E,G=R*B.BYTES_PER_ELEMENT,O=f(d,B),S=d._malloc(G);p.GetAttributeDataArrayForAllPoints(h,v,O,G,S);const y=new B(d.HEAPF32.buffer,S,R).slice();return d._free(S),{name:m,array:y,itemSize:E}}function f(d,p){switch(p){case Float32Array:return d.DT_FLOAT32;case Int8Array:return d.DT_INT8;case Int16Array:return d.DT_INT16;case Int32Array:return d.DT_INT32;case Uint8Array:return d.DT_UINT8;case Uint16Array:return d.DT_UINT16;case Uint32Array:return d.DT_UINT32}}}let el;const yo=()=>{if(el)return el;const s="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",a="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",l=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let u=s;WebAssembly.validate(l)&&(u=a);let f;const d=WebAssembly.instantiate(p(u),{}).then(v=>{f=v.instance,f.exports.__wasm_call_ctors()});function p(v){const E=new Uint8Array(v.length);for(let R=0;R<v.length;++R){const G=v.charCodeAt(R);E[R]=G>96?G-71:G>64?G-65:G>47?G+4:G>46?63:62}let C=0;for(let R=0;R<v.length;++R)E[C++]=E[R]<60?r[E[R]]:(E[R]-60)*64+E[++R];return E.buffer.slice(0,C)}function h(v,E,C,R,G,O){const S=f.exports.sbrk,y=C+3&-4,_=S(y*R),x=S(G.length),L=new Uint8Array(f.exports.memory.buffer);L.set(G,x);const F=v(_,C,R,x,G.length);if(F===0&&O&&O(_,y,R),E.set(L.subarray(_,_+C*R)),S(_-S(0)),F!==0)throw new Error(`Malformed buffer data: ${F}`)}const m={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},B={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return el={ready:d,supported:!0,decodeVertexBuffer(v,E,C,R,G){h(f.exports.meshopt_decodeVertexBuffer,v,E,C,R,f.exports[m[G]])},decodeIndexBuffer(v,E,C,R){h(f.exports.meshopt_decodeIndexBuffer,v,E,C,R)},decodeIndexSequence(v,E,C,R){h(f.exports.meshopt_decodeIndexSequence,v,E,C,R)},decodeGltfBuffer(v,E,C,R,G,O){h(f.exports[B[G]],v,E,C,R,f.exports[m[O]])}},el},vB=()=>parseInt(Io.replace(/\D+/g,"")),BB=vB();let tl=null,Wd="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function kd(s=!0,a=!0,l){return r=>{l&&l(r),s&&(tl||(tl=new mB),tl.setDecoderPath(typeof s=="string"?s:Wd),r.setDRACOLoader(tl)),a&&r.setMeshoptDecoder(typeof yo=="function"?yo():yo)}}const Al=(s,a,l,r)=>si(qo,s,kd(a,l,r));Al.preload=(s,a,l,r)=>si.preload(qo,s,kd(a,l,r));Al.clear=s=>si.clear(qo,s);Al.setDecoderPath=s=>{Wd=s};const EB=U.forwardRef(({makeDefault:s,camera:a,regress:l,domElement:r,enableDamping:u=!0,keyEvents:f=!1,onChange:d,onStart:p,onEnd:h,...m},B)=>{const v=_t(F=>F.invalidate),E=_t(F=>F.camera),C=_t(F=>F.gl),R=_t(F=>F.events),G=_t(F=>F.setEvents),O=_t(F=>F.set),S=_t(F=>F.get),y=_t(F=>F.performance),_=a||E,x=r||R.connected||C.domElement,L=U.useMemo(()=>new Nv(_),[_]);return fs(()=>{L.enabled&&L.update()},-1),U.useEffect(()=>(f&&L.connect(f===!0?x:f),L.connect(x),()=>void L.dispose()),[f,x,l,L,v]),U.useEffect(()=>{const F=Y=>{v(),l&&y.regress(),d&&d(Y)},W=Y=>{p&&p(Y)},P=Y=>{h&&h(Y)};return L.addEventListener("change",F),L.addEventListener("start",W),L.addEventListener("end",P),()=>{L.removeEventListener("start",W),L.removeEventListener("end",P),L.removeEventListener("change",F)}},[d,p,h,L,v,G]),U.useEffect(()=>{if(s){const F=S().controls;return O({controls:L}),()=>O({controls:F})}},[s,L]),U.createElement("primitive",Uo({ref:B,object:L,enableDamping:u},m))});class CB extends ni{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${BB>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const gB=s=>new Ne().setFromSpherical(new Ro(s,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),yB=U.forwardRef(({radius:s=100,depth:a=50,count:l=5e3,saturation:r=0,factor:u=4,fade:f=!1,speed:d=1},p)=>{const h=U.useRef(null),[m,B,v]=U.useMemo(()=>{const C=[],R=[],G=Array.from({length:l},()=>(.5+.5*Math.random())*u),O=new Nt;let S=s+a;const y=a/l;for(let _=0;_<l;_++)S-=y*Math.random(),C.push(...gB(S).toArray()),O.setHSL(_/l,r,.9),R.push(O.r,O.g,O.b);return[new Float32Array(C),new Float32Array(R),new Float32Array(G)]},[l,a,u,s,r]);fs(C=>h.current&&(h.current.uniforms.time.value=C.clock.elapsedTime*d));const[E]=U.useState(()=>new CB);return U.createElement("points",{ref:p},U.createElement("bufferGeometry",null,U.createElement("bufferAttribute",{attach:"attributes-position",args:[m,3]}),U.createElement("bufferAttribute",{attach:"attributes-color",args:[B,3]}),U.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]})),U.createElement("primitive",{ref:h,object:E,attach:"material",blending:Zm,"uniforms-fade-value":f,depthWrite:!1,transparent:!0,vertexColors:!0}))});/**
 * postprocessing v6.38.2 build Mon Dec 22 2025
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2025 Raoul van Rschen
 * @license Zlib
 */var So=1/1e3,SB=1e3,TB=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(s){typeof document<"u"&&document.hidden!==void 0&&(s?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=s)}get delta(){return this._delta*So}get fixedDelta(){return this._fixedDelta*So}set fixedDelta(s){this._fixedDelta=s*SB}get elapsed(){return this._elapsed*So}update(s){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(s!==void 0?s:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(s){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},MB=(()=>{const s=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),a=new Float32Array([0,0,2,0,0,2]),l=new Ko;return l.setAttribute("position",new ma(s,3)),l.setAttribute("uv",new ma(a,2)),l})(),Qt=class zo{static get fullscreenGeometry(){return MB}constructor(a="Pass",l=new Mo,r=new ns){this.name=a,this.renderer=null,this.scene=l,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(a){if(this.rtt===a){const l=this.fullscreenMaterial;l!==null&&(l.needsUpdate=!0),this.rtt=!a}}set mainScene(a){}set mainCamera(a){}setRenderer(a){this.renderer=a}isEnabled(){return this.enabled}setEnabled(a){this.enabled=a}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(a){let l=this.screen;l!==null?l.material=a:(l=new pl(zo.fullscreenGeometry,a),l.frustumCulled=!1,this.scene===null&&(this.scene=new Mo),this.scene.add(l),this.screen=l)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(a){this.fullscreenMaterial=a}getDepthTexture(){return null}setDepthTexture(a,l=us){}render(a,l,r,u,f){throw new Error("Render method not implemented!")}setSize(a,l){}initialize(a,l,r){}dispose(){for(const a of Object.keys(this)){const l=this[a];(l instanceof os||l instanceof Zs||l instanceof rl||l instanceof zo)&&this[a].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},bB=class extends Qt{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(s,a,l,r,u){const f=s.state.buffers.stencil;f.setLocked(!1),f.setTest(!1)}},RB=`#ifdef COLOR_WRITE
#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#endif
#ifdef DEPTH_WRITE
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
#ifdef USE_WEIGHTS
uniform vec4 channelWeights;
#endif
uniform float opacity;varying vec2 vUv;void main(){
#ifdef COLOR_WRITE
vec4 texel=texture2D(inputBuffer,vUv);
#ifdef USE_WEIGHTS
texel*=channelWeights;
#endif
gl_FragColor=opacity*texel;
#ifdef COLOR_SPACE_CONVERSION
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
#else
gl_FragColor=vec4(0.0);
#endif
#ifdef DEPTH_WRITE
gl_FragDepth=readDepth(vUv);
#endif
}`,DB="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",GB=class extends ni{constructor(){super({name:"CopyMaterial",defines:{COLOR_SPACE_CONVERSION:"1",DEPTH_PACKING:"0",COLOR_WRITE:"1"},uniforms:{inputBuffer:new Ze(null),depthBuffer:new Ze(null),channelWeights:new Ze(null),opacity:new Ze(1)},blending:Xo,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:RB,vertexShader:DB}),this.depthFunc=tA}get inputBuffer(){return this.uniforms.inputBuffer.value}set inputBuffer(s){const a=s!==null;this.colorWrite!==a&&(a?this.defines.COLOR_WRITE=!0:delete this.defines.COLOR_WRITE,this.colorWrite=a,this.needsUpdate=!0),this.uniforms.inputBuffer.value=s}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(s){const a=s!==null;this.depthWrite!==a&&(a?this.defines.DEPTH_WRITE=!0:delete this.defines.DEPTH_WRITE,this.depthTest=a,this.depthWrite=a,this.needsUpdate=!0),this.uniforms.depthBuffer.value=s}set depthPacking(s){this.defines.DEPTH_PACKING=s.toFixed(0),this.needsUpdate=!0}get colorSpaceConversion(){return this.defines.COLOR_SPACE_CONVERSION!==void 0}set colorSpaceConversion(s){this.colorSpaceConversion!==s&&(s?this.defines.COLOR_SPACE_CONVERSION=!0:delete this.defines.COLOR_SPACE_CONVERSION,this.needsUpdate=!0)}get channelWeights(){return this.uniforms.channelWeights.value}set channelWeights(s){s!==null?(this.defines.USE_WEIGHTS="1",this.uniforms.channelWeights.value=s):delete this.defines.USE_WEIGHTS,this.needsUpdate=!0}setInputBuffer(s){this.uniforms.inputBuffer.value=s}getOpacity(s){return this.uniforms.opacity.value}setOpacity(s){this.uniforms.opacity.value=s}},HB=class extends Qt{constructor(s,a=!0){super("CopyPass"),this.fullscreenMaterial=new GB,this.needsSwap=!1,this.renderTarget=s,s===void 0&&(this.renderTarget=new os(1,1,{minFilter:ls,magFilter:ls,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=a}get resize(){return this.autoResize}set resize(s){this.autoResize=s}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(s){this.autoResize=s}render(s,a,l,r,u){this.fullscreenMaterial.inputBuffer=a.texture,s.setRenderTarget(this.renderToScreen?null:this.renderTarget),s.render(this.scene,this.camera)}setSize(s,a){this.autoResize&&this.renderTarget.setSize(s,a)}initialize(s,a,l){l!==void 0&&(this.renderTarget.texture.type=l,l!==Ws?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":s!==null&&s.outputColorSpace===Kt&&(this.renderTarget.texture.colorSpace=Kt))}},rd=new Nt,$d=class extends Qt{constructor(s=!0,a=!0,l=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=s,this.depth=a,this.stencil=l,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(s,a,l){this.color=s,this.depth=a,this.stencil=l}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(s){this.overrideClearColor=s}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(s){this.overrideClearAlpha=s}render(s,a,l,r,u){const f=this.overrideClearColor,d=this.overrideClearAlpha,p=s.getClearAlpha(),h=f!==null,m=d>=0;h?(s.getClearColor(rd),s.setClearColor(f,m?d:p)):m&&s.setClearAlpha(d),s.setRenderTarget(this.renderToScreen?null:a),s.clear(this.color,this.depth,this.stencil),h?s.setClearColor(rd,p):m&&s.setClearAlpha(p)}},OB=class extends Qt{constructor(s,a){super("MaskPass",s,a),this.needsSwap=!1,this.clearPass=new $d(!1,!1,!0),this.inverse=!1}set mainScene(s){this.scene=s}set mainCamera(s){this.camera=s}get inverted(){return this.inverse}set inverted(s){this.inverse=s}get clear(){return this.clearPass.enabled}set clear(s){this.clearPass.enabled=s}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(s){this.inverted=s}render(s,a,l,r,u){const f=s.getContext(),d=s.state.buffers,p=this.scene,h=this.camera,m=this.clearPass,B=this.inverted?0:1,v=1-B;d.color.setMask(!1),d.depth.setMask(!1),d.color.setLocked(!0),d.depth.setLocked(!0),d.stencil.setTest(!0),d.stencil.setOp(f.REPLACE,f.REPLACE,f.REPLACE),d.stencil.setFunc(f.ALWAYS,B,4294967295),d.stencil.setClear(v),d.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?m.render(s,null):(m.render(s,a),m.render(s,l))),this.renderToScreen?(s.setRenderTarget(null),s.render(p,h)):(s.setRenderTarget(a),s.render(p,h),s.setRenderTarget(l),s.render(p,h)),d.color.setLocked(!1),d.depth.setLocked(!1),d.stencil.setLocked(!1),d.stencil.setFunc(f.EQUAL,1,4294967295),d.stencil.setOp(f.KEEP,f.KEEP,f.KEEP),d.stencil.setLocked(!0)}},_B=class{constructor(s=null,{depthBuffer:a=!0,stencilBuffer:l=!1,multisampling:r=0,frameBufferType:u}={}){this.renderer=null,this.inputBuffer=this.createBuffer(a,l,u,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new HB,this.depthTexture=null,this.passes=[],this.timer=new TB,this.autoRenderToScreen=!0,this.setRenderer(s)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(s){const a=this.inputBuffer,l=this.multisampling;l>0&&s>0?(this.inputBuffer.samples=s,this.outputBuffer.samples=s,this.inputBuffer.dispose(),this.outputBuffer.dispose()):l!==s&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(a.depthBuffer,a.stencilBuffer,a.texture.type,s),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(s){if(this.renderer=s,s!==null){const a=s.getSize(new Me),l=s.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type;r===Ws&&s.outputColorSpace===Kt&&(this.inputBuffer.texture.colorSpace=Kt,this.outputBuffer.texture.colorSpace=Kt,this.inputBuffer.dispose(),this.outputBuffer.dispose()),s.autoClear=!1,this.setSize(a.width,a.height);for(const u of this.passes)u.initialize(s,l,r)}}replaceRenderer(s,a=!0){const l=this.renderer,r=l.domElement.parentNode;return this.setRenderer(s),a&&r!==null&&(r.removeChild(l.domElement),r.appendChild(s.domElement)),l}createDepthTexture(){const s=this.depthTexture=new qm;return this.inputBuffer.depthTexture=s,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(s.format=wm,s.type=Wm):s.type=km,s}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const s of this.passes)s.setDepthTexture(null)}}createBuffer(s,a,l,r){const u=this.renderer,f=u===null?new Me:u.getDrawingBufferSize(new Me),d={minFilter:ls,magFilter:ls,stencilBuffer:a,depthBuffer:s,type:l},p=new os(f.width,f.height,d);return r>0&&(p.samples=r),l===Ws&&u!==null&&u.outputColorSpace===Kt&&(p.texture.colorSpace=Kt),p.texture.name="EffectComposer.Buffer",p.texture.generateMipmaps=!1,p}setMainScene(s){for(const a of this.passes)a.mainScene=s}setMainCamera(s){for(const a of this.passes)a.mainCamera=s}addPass(s,a){const l=this.passes,r=this.renderer,u=r.getDrawingBufferSize(new Me),f=r.getContext().getContextAttributes().alpha,d=this.inputBuffer.texture.type;if(s.setRenderer(r),s.setSize(u.width,u.height),s.initialize(r,f,d),this.autoRenderToScreen&&(l.length>0&&(l[l.length-1].renderToScreen=!1),s.renderToScreen&&(this.autoRenderToScreen=!1)),a!==void 0?l.splice(a,0,s):l.push(s),this.autoRenderToScreen&&(l[l.length-1].renderToScreen=!0),s.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const p=this.createDepthTexture();for(s of l)s.setDepthTexture(p)}else s.setDepthTexture(this.depthTexture)}removePass(s){const a=this.passes,l=a.indexOf(s);if(l!==-1&&a.splice(l,1).length>0){if(this.depthTexture!==null){const f=(p,h)=>p||h.needsDepthTexture;a.reduce(f,!1)||(s.getDepthTexture()===this.depthTexture&&s.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&l===a.length&&(s.renderToScreen=!1,a.length>0&&(a[a.length-1].renderToScreen=!0))}}removeAllPasses(){const s=this.passes;this.deleteDepthTexture(),s.length>0&&(this.autoRenderToScreen&&(s[s.length-1].renderToScreen=!1),this.passes=[])}render(s){const a=this.renderer,l=this.copyPass;let r=this.inputBuffer,u=this.outputBuffer,f=!1,d,p,h;s===void 0&&(this.timer.update(),s=this.timer.getDelta());for(const m of this.passes)m.enabled&&(m.render(a,r,u,s,f),m.needsSwap&&(f&&(l.renderToScreen=m.renderToScreen,d=a.getContext(),p=a.state.buffers.stencil,p.setFunc(d.NOTEQUAL,1,4294967295),l.render(a,r,u,s,f),p.setFunc(d.EQUAL,1,4294967295)),h=r,r=u,u=h),m instanceof OB?f=!0:m instanceof bB&&(f=!1))}setSize(s,a,l){const r=this.renderer,u=r.getSize(new Me);(s===void 0||a===void 0)&&(s=u.width,a=u.height),(u.width!==s||u.height!==a)&&r.setSize(s,a,l);const f=r.getDrawingBufferSize(new Me);this.inputBuffer.setSize(f.width,f.height),this.outputBuffer.setSize(f.width,f.height);for(const d of this.passes)d.setSize(f.width,f.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const s of this.passes)s.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),Qt.fullscreenGeometry.dispose()}},Aa={NONE:0,DEPTH:1,CONVOLUTION:2},ge={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},NB=class{constructor(){this.shaderParts=new Map([[ge.FRAGMENT_HEAD,null],[ge.FRAGMENT_MAIN_UV,null],[ge.FRAGMENT_MAIN_IMAGE,null],[ge.VERTEX_HEAD,null],[ge.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Aa.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=jo}},To=!1,od=class{constructor(s=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(s),this.meshCount=0,this.replaceMaterial=a=>{if(a.isMesh){let l;if(a.material.flatShading)switch(a.material.side){case Ys:l=this.materialsFlatShadedDoubleSide;break;case qi:l=this.materialsFlatShadedBackSide;break;default:l=this.materialsFlatShaded;break}else switch(a.material.side){case Ys:l=this.materialsDoubleSide;break;case qi:l=this.materialsBackSide;break;default:l=this.materials;break}this.originalMaterials.set(a,a.material),a.isSkinnedMesh?a.material=l[2]:a.isInstancedMesh?a.material=l[1]:a.material=l[0],++this.meshCount}}}cloneMaterial(s){if(!(s instanceof ni))return s.clone();const a=s.uniforms,l=new Map;for(const u in a){const f=a[u].value;f.isRenderTargetTexture&&(a[u].value=null,l.set(u,f))}const r=s.clone();for(const u of l)a[u[0]].value=u[1],r.uniforms[u[0]].value=u[1];return r}setMaterial(s){if(this.disposeMaterials(),this.material=s,s!==null){const a=this.materials=[this.cloneMaterial(s),this.cloneMaterial(s),this.cloneMaterial(s)];for(const l of a)l.uniforms=Object.assign({},s.uniforms),l.side=Sd;a[2].skinning=!0,this.materialsBackSide=a.map(l=>{const r=this.cloneMaterial(l);return r.uniforms=Object.assign({},s.uniforms),r.side=qi,r}),this.materialsDoubleSide=a.map(l=>{const r=this.cloneMaterial(l);return r.uniforms=Object.assign({},s.uniforms),r.side=Ys,r}),this.materialsFlatShaded=a.map(l=>{const r=this.cloneMaterial(l);return r.uniforms=Object.assign({},s.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=a.map(l=>{const r=this.cloneMaterial(l);return r.uniforms=Object.assign({},s.uniforms),r.flatShading=!0,r.side=qi,r}),this.materialsFlatShadedDoubleSide=a.map(l=>{const r=this.cloneMaterial(l);return r.uniforms=Object.assign({},s.uniforms),r.flatShading=!0,r.side=Ys,r})}}render(s,a,l){const r=s.shadowMap.enabled;if(s.shadowMap.enabled=!1,To){const u=this.originalMaterials;this.meshCount=0,a.traverse(this.replaceMaterial),s.render(a,l);for(const f of u)f[0].material=f[1];this.meshCount!==u.size&&u.clear()}else{const u=a.overrideMaterial;a.overrideMaterial=this.material,s.render(a,l),a.overrideMaterial=u}s.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const s=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const a of s)a.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return To}static set workaroundEnabled(s){To=s}},jn=-1,is=class extends Qo{constructor(s,a=jn,l=jn,r=1){super(),this.resizable=s,this.baseSize=new Me(1,1),this.preferredSize=new Me(a,l),this.target=this.preferredSize,this.s=r,this.effectiveSize=new Me,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const s=this.baseSize,a=this.preferredSize,l=this.effectiveSize,r=this.scale;a.width!==jn?l.width=a.width:a.height!==jn?l.width=Math.round(a.height*(s.width/Math.max(s.height,1))):l.width=Math.round(s.width*r),a.height!==jn?l.height=a.height:a.width!==jn?l.height=Math.round(a.width/Math.max(s.width/Math.max(s.height,1),1)):l.height=Math.round(s.height*r)}get width(){return this.effectiveSize.width}set width(s){this.preferredWidth=s}get height(){return this.effectiveSize.height}set height(s){this.preferredHeight=s}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(s){this.s!==s&&(this.s=s,this.preferredSize.setScalar(jn),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(s){this.scale=s}get baseWidth(){return this.baseSize.width}set baseWidth(s){this.baseSize.width!==s&&(this.baseSize.width=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(s){this.baseWidth=s}get baseHeight(){return this.baseSize.height}set baseHeight(s){this.baseSize.height!==s&&(this.baseSize.height=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(s){this.baseHeight=s}setBaseSize(s,a){(this.baseSize.width!==s||this.baseSize.height!==a)&&(this.baseSize.set(s,a),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(s){this.preferredSize.width!==s&&(this.preferredSize.width=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(s){this.preferredWidth=s}get preferredHeight(){return this.preferredSize.height}set preferredHeight(s){this.preferredSize.height!==s&&(this.preferredSize.height=s,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(s){this.preferredHeight=s}setPreferredSize(s,a){(this.preferredSize.width!==s||this.preferredSize.height!==a)&&(this.preferredSize.set(s,a),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(s){this.s=s.scale,this.baseSize.set(s.baseWidth,s.baseHeight),this.preferredSize.set(s.preferredWidth,s.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return jn}},de={ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},xB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",UB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,src.a*opacity);}",FB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=(dst.rgb+src.rgb)*0.5;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",LB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.xy,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",zB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=mix(step(0.0,b)*(1.0-min(vec3(1.0),(1.0-a)/max(b,1e-9))),vec3(1.0),step(1.0,a));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",JB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=step(0.0,a)*mix(min(vec3(1.0),a/max(1.0-b,1e-9)),vec3(1.0),step(1.0,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",jB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",IB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=abs(dst.rgb-src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",KB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb/max(src.rgb,1e-9);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",QB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-2.0*dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",XB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb,1.0);vec3 b=min(src.rgb,1.0);vec3 c=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",YB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=step(1.0,dst.rgb+src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",PB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.x,a.yz));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",VB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",ZB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=src.rgb*max(1.0-dst.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",qB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",wB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",WB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb+src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",kB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(2.0*src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",$B="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.xy,b.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",eE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",tE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-abs(1.0-dst.rgb-src.rgb),0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",nE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,opacity);}",aE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=2.0*src.rgb*dst.rgb;vec3 b=1.0-2.0*(1.0-src.rgb)*(1.0-dst.rgb);vec3 c=mix(a,b,step(0.5,dst.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",sE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 c=mix(mix(src2,dst.rgb,step(0.5*dst.rgb,src.rgb)),max(src2-1.0,vec3(0.0)),step(dst.rgb,src2-1.0));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",iE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb*dst.rgb/max(1.0-src.rgb,1e-9),1.0);vec3 c=mix(a,src.rgb,step(1.0,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",lE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.x,b.y,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",rE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-min(dst.rgb*src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",oE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 d=dst.rgb+(src2-1.0);vec3 w=step(0.5,src.rgb);vec3 a=dst.rgb-(1.0-src2)*dst.rgb*(1.0-dst.rgb);vec3 b=mix(d*(sqrt(dst.rgb)-dst.rgb),d*dst.rgb*((16.0*dst.rgb-12.0)*dst.rgb+3.0),w*(1.0-step(0.25,dst.rgb)));vec3 c=mix(a,b,w);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",uE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return src;}",cE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",fE="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=mix(max(1.0-min((1.0-dst.rgb)/(2.0*src.rgb),1.0),0.0),min(dst.rgb/(2.0*(1.0-src.rgb)),1.0),step(0.5,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",dE=new Map([[de.ADD,xB],[de.ALPHA,UB],[de.AVERAGE,FB],[de.COLOR,LB],[de.COLOR_BURN,zB],[de.COLOR_DODGE,JB],[de.DARKEN,jB],[de.DIFFERENCE,IB],[de.DIVIDE,KB],[de.DST,null],[de.EXCLUSION,QB],[de.HARD_LIGHT,XB],[de.HARD_MIX,YB],[de.HUE,PB],[de.INVERT,VB],[de.INVERT_RGB,ZB],[de.LIGHTEN,qB],[de.LINEAR_BURN,wB],[de.LINEAR_DODGE,WB],[de.LINEAR_LIGHT,kB],[de.LUMINOSITY,$B],[de.MULTIPLY,eE],[de.NEGATION,tE],[de.NORMAL,nE],[de.OVERLAY,aE],[de.PIN_LIGHT,sE],[de.REFLECT,iE],[de.SATURATION,lE],[de.SCREEN,rE],[de.SOFT_LIGHT,oE],[de.SRC,uE],[de.SUBTRACT,cE],[de.VIVID_LIGHT,fE]]),hE=class extends Qo{constructor(s,a=1){super(),this._blendFunction=s,this.opacity=new Ze(a)}getOpacity(){return this.opacity.value}setOpacity(s){this.opacity.value=s}get blendFunction(){return this._blendFunction}set blendFunction(s){this._blendFunction=s,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(s){this.blendFunction=s}getShaderCode(){return dE.get(this.blendFunction)}},Jo=class extends Qo{constructor(s,a,{attributes:l=Aa.NONE,blendFunction:r=de.NORMAL,defines:u=new Map,uniforms:f=new Map,extensions:d=null,vertexShader:p=null}={}){super(),this.name=s,this.renderer=null,this.attributes=l,this.fragmentShader=a,this.vertexShader=p,this.defines=u,this.uniforms=f,this.extensions=d,this.blendMode=new hE(r),this.blendMode.addEventListener("change",h=>this.setChanged()),this._inputColorSpace=jo,this._outputColorSpace=Td}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(s){this._inputColorSpace=s,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(s){this._outputColorSpace=s,this.setChanged()}set mainScene(s){}set mainCamera(s){}getName(){return this.name}setRenderer(s){this.renderer=s}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(s){this.attributes=s,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(s){this.fragmentShader=s,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(s){this.vertexShader=s,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(s,a=us){}update(s,a,l){}setSize(s,a){}initialize(s,a,l){}dispose(){for(const s of Object.keys(this)){const a=this[s];(a instanceof os||a instanceof Zs||a instanceof rl||a instanceof Qt)&&this[s].dispose()}}},eh=class extends Qt{constructor(s,a,l=null){super("RenderPass",s,a),this.needsSwap=!1,this.clearPass=new $d,this.overrideMaterialManager=l===null?null:new od(l),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(s){this.scene=s}set mainCamera(s){this.camera=s}get renderToScreen(){return super.renderToScreen}set renderToScreen(s){super.renderToScreen=s,this.clearPass.renderToScreen=s}get overrideMaterial(){const s=this.overrideMaterialManager;return s!==null?s.material:null}set overrideMaterial(s){const a=this.overrideMaterialManager;s!==null?a!==null?a.setMaterial(s):this.overrideMaterialManager=new od(s):a!==null&&(a.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(s){this.overrideMaterial=s}get clear(){return this.clearPass.enabled}set clear(s){this.clearPass.enabled=s}getSelection(){return this.selection}setSelection(s){this.selection=s}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(s){this.ignoreBackground=s}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(s){this.skipShadowMapUpdate=s}getClearPass(){return this.clearPass}render(s,a,l,r,u){const f=this.scene,d=this.camera,p=this.selection,h=d.layers.mask,m=f.background,B=s.shadowMap.autoUpdate,v=this.renderToScreen?null:a;p!==null&&d.layers.set(p.getLayer()),this.skipShadowMapUpdate&&(s.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(f.background=null),this.clearPass.enabled&&this.clearPass.render(s,a),s.setRenderTarget(v),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(s,f,d):s.render(f,d),d.layers.mask=h,f.background=m,s.shadowMap.autoUpdate=B}},Xs={DEFAULT:0,ESKIL:1},pE=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,mE="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",AE=class extends ni{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Ze(null),normalBuffer:new Ze(null),texelSize:new Ze(new Me)},blending:Xo,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:pE,vertexShader:mE})}set depthBuffer(s){this.uniforms.depthBuffer.value=s}set depthPacking(s){this.defines.DEPTH_PACKING=s.toFixed(0),this.needsUpdate=!0}setDepthBuffer(s,a=us){this.depthBuffer=s,this.depthPacking=a}set normalBuffer(s){this.uniforms.normalBuffer.value=s,s!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(s){this.normalBuffer=s}setTexelSize(s,a){this.uniforms.texelSize.value.set(s,a)}setSize(s,a){this.uniforms.texelSize.value.set(1/s,1/a)}},vE=class extends Qt{constructor({normalBuffer:s=null,resolutionScale:a=.5,width:l=is.AUTO_SIZE,height:r=is.AUTO_SIZE,resolutionX:u=l,resolutionY:f=r}={}){super("DepthDownsamplingPass");const d=new AE;d.normalBuffer=s,this.fullscreenMaterial=d,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new os(1,1,{minFilter:ks,magFilter:ks,depthBuffer:!1,type:eA}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const p=this.resolution=new is(this,u,f,a);p.addEventListener("change",h=>this.setSize(p.baseWidth,p.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(s,a=us){this.fullscreenMaterial.depthBuffer=s,this.fullscreenMaterial.depthPacking=a}render(s,a,l,r,u){s.setRenderTarget(this.renderToScreen?null:this.renderTarget),s.render(this.scene,this.camera)}setSize(s,a){const l=this.resolution;l.setBaseSize(s,a),this.renderTarget.setSize(l.width,l.height),this.fullscreenMaterial.setSize(s,a)}initialize(s,a,l){const r=s.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},BE=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,EE=class extends Jo{constructor({blendFunction:s,eskil:a=!1,technique:l=a?Xs.ESKIL:Xs.DEFAULT,offset:r=.5,darkness:u=.5}={}){super("VignetteEffect",BE,{blendFunction:s,defines:new Map([["VIGNETTE_TECHNIQUE",l.toFixed(0)]]),uniforms:new Map([["offset",new Ze(r)],["darkness",new Ze(u)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(s){this.technique!==s&&(this.defines.set("VIGNETTE_TECHNIQUE",s.toFixed(0)),this.setChanged())}get eskil(){return this.technique===Xs.ESKIL}set eskil(s){this.technique=s?Xs.ESKIL:Xs.DEFAULT}getTechnique(){return this.technique}setTechnique(s){this.technique=s}get offset(){return this.uniforms.get("offset").value}set offset(s){this.uniforms.get("offset").value=s}getOffset(){return this.offset}setOffset(s){this.offset=s}get darkness(){return this.uniforms.get("darkness").value}set darkness(s){this.uniforms.get("darkness").value=s}getDarkness(){return this.darkness}setDarkness(s){this.darkness=s}},CE=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth=1.0-depth;
#endif
return depth;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,gE="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",yE=class extends ni{constructor(s,a,l,r,u=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Io.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Ze(null),depthBuffer:new Ze(null),resolution:new Ze(new Me),texelSize:new Ze(new Me),cameraNear:new Ze(.3),cameraFar:new Ze(1e3),aspect:new Ze(1),time:new Ze(0)},blending:Xo,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:u}),s&&this.setShaderParts(s),a&&this.setDefines(a),l&&this.setUniforms(l),this.copyCameraSettings(r)}set inputBuffer(s){this.uniforms.inputBuffer.value=s}setInputBuffer(s){this.uniforms.inputBuffer.value=s}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(s){this.uniforms.depthBuffer.value=s}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(s){this.defines.DEPTH_PACKING=s.toFixed(0),this.needsUpdate=!0}setDepthBuffer(s,a=us){this.depthBuffer=s,this.depthPacking=a}setShaderData(s){this.setShaderParts(s.shaderParts),this.setDefines(s.defines),this.setUniforms(s.uniforms),this.setExtensions(s.extensions)}setShaderParts(s){return this.fragmentShader=CE.replace(ge.FRAGMENT_HEAD,s.get(ge.FRAGMENT_HEAD)||"").replace(ge.FRAGMENT_MAIN_UV,s.get(ge.FRAGMENT_MAIN_UV)||"").replace(ge.FRAGMENT_MAIN_IMAGE,s.get(ge.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=gE.replace(ge.VERTEX_HEAD,s.get(ge.VERTEX_HEAD)||"").replace(ge.VERTEX_MAIN_SUPPORT,s.get(ge.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(s){for(const a of s.entries())this.defines[a[0]]=a[1];return this.needsUpdate=!0,this}setUniforms(s){for(const a of s.entries())this.uniforms[a[0]]=a[1];return this}setExtensions(s){this.extensions={};for(const a of s)this.extensions[a]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(s){this.encodeOutput!==s&&(s?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(s){return this.encodeOutput}setOutputEncodingEnabled(s){this.encodeOutput=s}get time(){return this.uniforms.time.value}set time(s){this.uniforms.time.value=s}setDeltaTime(s){this.uniforms.time.value+=s}adoptCameraSettings(s){this.copyCameraSettings(s)}copyCameraSettings(s){s&&(this.uniforms.cameraNear.value=s.near,this.uniforms.cameraFar.value=s.far,s instanceof as?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(s,a){const l=this.uniforms;l.resolution.value.set(s,a),l.texelSize.value.set(1/s,1/a),l.aspect.value=s/a}static get Section(){return ge}};function ud(s,a,l){for(const r of a){const u="$1"+s+r.charAt(0).toUpperCase()+r.slice(1),f=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const d of l.entries())d[1]!==null&&l.set(d[0],d[1].replace(f,u))}}function SE(s,a,l){let r=a.getFragmentShader(),u=a.getVertexShader();const f=r!==void 0&&/mainImage/.test(r),d=r!==void 0&&/mainUv/.test(r);if(l.attributes|=a.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${a.name})`);if(d&&(l.attributes&Aa.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${a.name})`);if(!f&&!d)throw new Error(`Could not find mainImage or mainUv function (${a.name})`);{const p=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,h=l.shaderParts;let m=h.get(ge.FRAGMENT_HEAD)||"",B=h.get(ge.FRAGMENT_MAIN_UV)||"",v=h.get(ge.FRAGMENT_MAIN_IMAGE)||"",E=h.get(ge.VERTEX_HEAD)||"",C=h.get(ge.VERTEX_MAIN_SUPPORT)||"";const R=new Set,G=new Set;if(d&&(B+=`	${s}MainUv(UV);
`,l.uvTransformation=!0),u!==null&&/mainSupport/.test(u)){const y=/mainSupport *\([\w\s]*?uv\s*?\)/.test(u);C+=`	${s}MainSupport(`,C+=y?`vUv);
`:`);
`;for(const _ of u.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const x of _[1].split(/\s*,\s*/))l.varyings.add(x),R.add(x),G.add(x);for(const _ of u.matchAll(p))G.add(_[1])}for(const y of r.matchAll(p))G.add(y[1]);for(const y of a.defines.keys())G.add(y.replace(/\([\w\s,]*\)/g,""));for(const y of a.uniforms.keys())G.add(y);G.delete("while"),G.delete("for"),G.delete("if"),a.uniforms.forEach((y,_)=>l.uniforms.set(s+_.charAt(0).toUpperCase()+_.slice(1),y)),a.defines.forEach((y,_)=>l.defines.set(s+_.charAt(0).toUpperCase()+_.slice(1),y));const O=new Map([["fragment",r],["vertex",u]]);ud(s,G,l.defines),ud(s,G,O),r=O.get("fragment"),u=O.get("vertex");const S=a.blendMode;if(l.blendModes.set(S.blendFunction,S),f){a.inputColorSpace!==null&&a.inputColorSpace!==l.colorSpace&&(v+=a.inputColorSpace===Kt?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),a.outputColorSpace!==Td?l.colorSpace=a.outputColorSpace:a.inputColorSpace!==null&&(l.colorSpace=a.inputColorSpace);const y=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;v+=`${s}MainImage(color0, UV, `,(l.attributes&Aa.DEPTH)!==0&&y.test(r)&&(v+="depth, ",l.readDepth=!0),v+=`color1);
	`;const _=s+"BlendOpacity";l.uniforms.set(_,S.opacity),v+=`color0 = blend${S.blendFunction}(color0, color1, ${_});

	`,m+=`uniform float ${_};

`}if(m+=r+`
`,u!==null&&(E+=u+`
`),h.set(ge.FRAGMENT_HEAD,m),h.set(ge.FRAGMENT_MAIN_UV,B),h.set(ge.FRAGMENT_MAIN_IMAGE,v),h.set(ge.VERTEX_HEAD,E),h.set(ge.VERTEX_MAIN_SUPPORT,C),a.extensions!==null)for(const y of a.extensions)l.extensions.add(y)}}var TE=class extends Qt{constructor(s,...a){super("EffectPass"),this.fullscreenMaterial=new yE(null,null,null,s),this.listener=l=>this.handleEvent(l),this.effects=[],this.setEffects(a),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(s){for(const a of this.effects)a.mainScene=s}set mainCamera(s){this.fullscreenMaterial.copyCameraSettings(s);for(const a of this.effects)a.mainCamera=s}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(s){this.fullscreenMaterial.encodeOutput=s}get dithering(){return this.fullscreenMaterial.dithering}set dithering(s){const a=this.fullscreenMaterial;a.dithering=s,a.needsUpdate=!0}setEffects(s){for(const a of this.effects)a.removeEventListener("change",this.listener);this.effects=s.sort((a,l)=>l.attributes-a.attributes);for(const a of this.effects)a.addEventListener("change",this.listener)}updateMaterial(){const s=new NB;let a=0;for(const d of this.effects)if(d.blendMode.blendFunction===de.DST)s.attributes|=d.getAttributes()&Aa.DEPTH;else{if((s.attributes&d.getAttributes()&Aa.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${d.name})`);SE("e"+a++,d,s)}let l=s.shaderParts.get(ge.FRAGMENT_HEAD),r=s.shaderParts.get(ge.FRAGMENT_MAIN_IMAGE),u=s.shaderParts.get(ge.FRAGMENT_MAIN_UV);const f=/\bblend\b/g;for(const d of s.blendModes.values())l+=d.getShaderCode().replace(f,`blend${d.blendFunction}`)+`
`;(s.attributes&Aa.DEPTH)!==0?(s.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,s.colorSpace===Kt&&(r+=`color0 = sRGBToLinear(color0);
	`),s.uvTransformation?(u=`vec2 transformedUv = vUv;
`+u,s.defines.set("UV","transformedUv")):s.defines.set("UV","vUv"),s.shaderParts.set(ge.FRAGMENT_HEAD,l),s.shaderParts.set(ge.FRAGMENT_MAIN_IMAGE,r),s.shaderParts.set(ge.FRAGMENT_MAIN_UV,u);for(const[d,p]of s.shaderParts)p!==null&&s.shaderParts.set(d,p.trim().replace(/^#/,`
#`));this.skipRendering=a===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(s)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(s,a=us){this.fullscreenMaterial.depthBuffer=s,this.fullscreenMaterial.depthPacking=a;for(const l of this.effects)l.setDepthTexture(s,a)}render(s,a,l,r,u){for(const f of this.effects)f.update(s,a,r);if(!this.skipRendering||this.renderToScreen){const f=this.fullscreenMaterial;f.inputBuffer=a.texture,f.time+=r*this.timeScale,s.setRenderTarget(this.renderToScreen?null:l),s.render(this.scene,this.camera)}}setSize(s,a){this.fullscreenMaterial.setSize(s,a);for(const l of this.effects)l.setSize(s,a)}initialize(s,a,l){this.renderer=s;for(const r of this.effects)r.initialize(s,a,l);this.updateMaterial(),l!==void 0&&l!==Ws&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const s of this.effects)s.removeEventListener("change",this.listener),s.dispose()}handleEvent(s){switch(s.type){case"change":this.recompile();break}}},ME=class extends Qt{constructor(s,a,{renderTarget:l,resolutionScale:r=1,width:u=is.AUTO_SIZE,height:f=is.AUTO_SIZE,resolutionX:d=u,resolutionY:p=f}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new eh(s,a,new $m);const h=this.renderPass;h.ignoreBackground=!0,h.skipShadowMapUpdate=!0;const m=h.getClearPass();m.overrideClearColor=new Nt(7829503),m.overrideClearAlpha=1,this.renderTarget=l,this.renderTarget===void 0&&(this.renderTarget=new os(1,1,{minFilter:ks,magFilter:ks}),this.renderTarget.texture.name="NormalPass.Target");const B=this.resolution=new is(this,d,p,r);B.addEventListener("change",v=>this.setSize(B.baseWidth,B.baseHeight))}set mainScene(s){this.renderPass.mainScene=s}set mainCamera(s){this.renderPass.mainCamera=s}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(s){this.resolution.scale=s}render(s,a,l,r,u){const f=this.renderToScreen?null:this.renderTarget;this.renderPass.render(s,f,f)}setSize(s,a){const l=this.resolution;l.setBaseSize(s,a),this.renderTarget.setSize(l.width,l.height)}};function ws(s,a,l){return a in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}new Me;new Me;function th(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var Ht=function s(a,l,r){var u=this;th(this,s),ws(this,"dot2",function(f,d){return u.x*f+u.y*d}),ws(this,"dot3",function(f,d,p){return u.x*f+u.y*d+u.z*p}),this.x=a,this.y=l,this.z=r},bE=[new Ht(1,1,0),new Ht(-1,1,0),new Ht(1,-1,0),new Ht(-1,-1,0),new Ht(1,0,1),new Ht(-1,0,1),new Ht(1,0,-1),new Ht(-1,0,-1),new Ht(0,1,1),new Ht(0,-1,1),new Ht(0,1,-1),new Ht(0,-1,-1)],cd=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],fd=new Array(512),dd=new Array(512),RE=function(a){a>0&&a<1&&(a*=65536),a=Math.floor(a),a<256&&(a|=a<<8);for(var l=0;l<256;l++){var r;l&1?r=cd[l]^a&255:r=cd[l]^a>>8&255,fd[l]=fd[l+256]=r,dd[l]=dd[l+256]=bE[r%12]}};RE(0);function DE(s){if(typeof s=="number")s=Math.abs(s);else if(typeof s=="string"){var a=s;s=0;for(var l=0;l<a.length;l++)s=(s+(l+1)*(a.charCodeAt(l)%96))%2147483647}return s===0&&(s=311),s}function hd(s){var a=DE(s);return function(){var l=a*48271%2147483647;return a=l,l/2147483647}}var GE=function s(a){var l=this;th(this,s),ws(this,"seed",0),ws(this,"init",function(r){l.seed=r,l.value=hd(r)}),ws(this,"value",hd(this.seed)),this.init(a)};new GE(Math.random());const HE=U.createContext(null),pd=s=>(s.getAttributes()&2)===2,OE=U.memo(U.forwardRef(({children:s,camera:a,scene:l,resolutionScale:r,enabled:u=!0,renderPriority:f=1,autoClear:d=!0,depthBuffer:p,enableNormalPass:h,stencilBuffer:m,multisampling:B=8,frameBufferType:v=nA},E)=>{const{gl:C,scene:R,camera:G,size:O}=_t(),S=l||R,y=a||G,[_,x,L]=U.useMemo(()=>{const P=new _B(C,{depthBuffer:p,stencilBuffer:m,multisampling:B,frameBufferType:v});P.addPass(new eh(S,y));let Y=null,j=null;return h&&(j=new ME(S,y),j.enabled=!1,P.addPass(j),r!==void 0&&(Y=new vE({normalBuffer:j.texture,resolutionScale:r}),Y.enabled=!1,P.addPass(Y))),[P,j,Y]},[y,C,p,m,B,v,S,h,r]);U.useEffect(()=>_?.setSize(O.width,O.height),[_,O]),fs((P,Y)=>{if(u){const j=C.autoClear;C.autoClear=d,m&&!d&&C.clearStencil(),_.render(Y),C.autoClear=j}},u?f:0);const F=U.useRef(null);U.useLayoutEffect(()=>{const P=[],Y=F.current.__r3f;if(Y&&_){const j=Y.children;for(let te=0;te<j.length;te++){const je=j[te].object;if(je instanceof Jo){const ee=[je];if(!pd(je)){let De=null;for(;(De=j[te+1]?.object)instanceof Jo&&!pd(De);)ee.push(De),te++}const me=new TE(y,...ee);P.push(me)}else je instanceof Qt&&P.push(je)}for(const te of P)_?.addPass(te);x&&(x.enabled=!0),L&&(L.enabled=!0)}return()=>{for(const j of P)_?.removePass(j);x&&(x.enabled=!1),L&&(L.enabled=!1)}},[_,s,y,x,L]),U.useEffect(()=>{const P=C.toneMapping;return C.toneMapping=Ad,()=>{C.toneMapping=P}},[C]);const W=U.useMemo(()=>({composer:_,normalPass:x,downSamplingPass:L,resolutionScale:r,camera:y,scene:S}),[_,x,L,r,y,S]);return U.useImperativeHandle(E,()=>_,[_]),Z.jsx(HE.Provider,{value:W,children:Z.jsx("group",{ref:F,children:s})})}));let _E=0;const md=new WeakMap,NE=(s,a)=>function({blendFunction:l=a?.blendFunction,opacity:r=a?.opacity,...u}){let f=md.get(s);if(!f){const h=`@react-three/postprocessing/${s.name}-${_E++}`;Kd({[h]:s}),md.set(s,f=h)}const d=_t(h=>h.camera),p=$a.useMemo(()=>[...a?.args??[],...u.args??[{...a,...u}]],[JSON.stringify(u)]);return Z.jsx(f,{camera:d,"blendMode-blendFunction":l,"blendMode-opacity-value":r,...u,args:p})},xE=NE(EE);function nh(s){const a=$s(l=>l.lenis);U.useEffect(()=>{if(a)return a.on("scroll",s),()=>{a.off("scroll",s)}},[a,s])}function In(s,a,l){return(1-l)*s+l*a}const ti=[{name:"mission",camera:{x:0,y:80,z:350},lookAt:{x:0,y:20,z:0},roverRotation:0},{name:"robotic-arm",camera:{x:150,y:80,z:200},lookAt:{x:50,y:40,z:0},roverRotation:-.5,joints:{arm_a_to_arm_b:-.4,arm_b_to_arm_c:1.2,arm_c_to_arm_d:-.8}},{name:"mobility",camera:{x:-100,y:30,z:250},lookAt:{x:0,y:-20,z:0},roverRotation:.3},{name:"chassis",camera:{x:0,y:150,z:300},lookAt:{x:0,y:0,z:0},roverRotation:0},{name:"spi",camera:{x:80,y:60,z:180},lookAt:{x:20,y:20,z:0},roverRotation:-.8},{name:"spa",camera:{x:100,y:40,z:200},lookAt:{x:30,y:10,z:0},roverRotation:-.6},{name:"astrobiology",camera:{x:60,y:80,z:220},lookAt:{x:0,y:30,z:0},roverRotation:-.4},{name:"autonomy",camera:{x:0,y:120,z:350},lookAt:{x:0,y:0,z:0},roverRotation:0},{name:"esw",camera:{x:-80,y:60,z:200},lookAt:{x:0,y:20,z:0},roverRotation:.5},{name:"teleop",camera:{x:50,y:100,z:280},lookAt:{x:0,y:20,z:0},roverRotation:-.2},{name:"drone",camera:{x:0,y:180,z:400},lookAt:{x:0,y:50,z:0},roverRotation:0},{name:"power",camera:{x:-60,y:80,z:220},lookAt:{x:0,y:30,z:0},roverRotation:.6},{name:"ehw",camera:{x:100,y:50,z:180},lookAt:{x:20,y:20,z:0},roverRotation:-.7},{name:"comms",camera:{x:0,y:100,z:300},lookAt:{x:0,y:40,z:0},roverRotation:0}],Qn=ti.length,Je={orbitControls:!1,currentSection:0,landscape:{x:-770,y:-60,z:300,rotationY:-.87,scale:125},rover:{scale:1,rotationY:-Math.PI/3},joints:{}};let es=null,ts=null;function UE({orbitEnabled:s}){const{camera:a}=_t(),l=U.useRef(0),r=$s(h=>h.headerHeight),[u,f]=U.useState(0),d=U.useRef(new Ne);U.useEffect(()=>{const h=()=>f(window.innerHeight);return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const p=U.useCallback(({scroll:h})=>{l.current=h},[]);return nh(p),fs(()=>{if(s||!u)return;const h=l.current,m=u*Qn,v=Math.max(0,(h-r)/(m-u))*(Qn-1),E=Math.floor(v),C=v-E,R=ti[Math.min(E,Qn-1)],G=ti[Math.min(E+1,Qn-1)];Je.currentSection=E;const O=In(R.camera.x,G.camera.x,C),S=In(R.camera.y,G.camera.y,C),y=In(R.camera.z,G.camera.z,C);a.position.set(O,S,y),d.current.set(In(R.lookAt.x,G.lookAt.x,C),In(R.lookAt.y,G.lookAt.y,C),In(R.lookAt.z,G.lookAt.z,C)),a.lookAt(d.current)}),null}function FE({onLoaded:s}){const a=U.useRef(null),l=U.useRef(0),r=$s(m=>m.headerHeight),[u,f]=U.useState(0),[d,p]=U.useState(null);U.useEffect(()=>{const m=()=>f(window.innerHeight);return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),U.useEffect(()=>{const m=new iA;m.packages={mrover:"/urdf"},m.load("/urdf/rover/rover.urdf",B=>{B.rotation.x=-Math.PI/2,B.traverse(E=>{E instanceof pl&&(E.castShadow=!0,E.receiveShadow=!0,E.material instanceof hl&&(E.material.roughness=Math.min(E.material.roughness,.7)))}),es=B;const v=B;ts&&v.joints&&Object.entries(v.joints).forEach(([E,C])=>{if(C.jointType==="revolute"||C.jointType==="continuous"||C.jointType==="prismatic"){const R=C.limit?.lower??-Math.PI,G=C.limit?.upper??Math.PI,O=Array.isArray(C.jointValue)?C.jointValue[0]:C.jointValue??0;Je.joints[E]=O,ts.add(Je.joints,E,R,G).onChange(S=>{C.setJointValue(S)})}}),p(B),s?.()})},[]);const h=U.useCallback(({scroll:m})=>{l.current=m},[]);return nh(h),fs(()=>{if(!a.current||!u||!es)return;const m=l.current,B=u*Qn,E=Math.max(0,(m-r)/(B-u))*(Qn-1),C=Math.floor(E),R=E-C,G=ti[Math.min(C,Qn-1)],O=ti[Math.min(C+1,Qn-1)],S=In(G.roverRotation,O.roverRotation,R);if(a.current.rotation.y=S+Je.rover.rotationY,a.current.scale.setScalar(Je.rover.scale),es.joints){const y=G.joints||{},_=O.joints||{};new Set([...Object.keys(y),...Object.keys(_)]).forEach(L=>{const F=es.joints[L];if(F){const W=y[L]??0,P=_[L]??0,Y=In(W,P,R);F.setJointValue(Y)}})}}),d?Z.jsx("group",{ref:a,children:Z.jsx("primitive",{object:d})}):null}function LE(){const{scene:s}=Al("/models/mars_landscape_m.glb"),a=U.useRef(null);return U.useEffect(()=>{s.traverse(l=>{l instanceof pl&&(l.receiveShadow=!0,l.castShadow=!0,l.material instanceof hl&&(l.material.roughness=.85,l.material.metalness=.05))})},[s]),fs(()=>{a.current&&(a.current.position.set(Je.landscape.x,Je.landscape.y,Je.landscape.z),a.current.rotation.y=Je.landscape.rotationY,a.current.scale.setScalar(Je.landscape.scale))}),Z.jsx("group",{ref:a,children:Z.jsx("primitive",{object:s})})}function zE({enabled:s}){return s?Z.jsx(EB,{makeDefault:!0}):null}function JE(){const{scene:s}=_t();return U.useEffect(()=>(s.background=new Nt(657416),s.fog=new sA(1709072,25e-5),()=>{s.background=null,s.fog=null}),[s]),null}function jE({orbitEnabled:s,onRoverLoaded:a}){return Z.jsxs(Z.Fragment,{children:[Z.jsx(JE,{}),Z.jsx(yB,{radius:800,depth:150,count:5e3,factor:6,fade:!0,speed:.3}),Z.jsx("ambientLight",{intensity:.4,color:16771286}),Z.jsx("directionalLight",{position:[200,300,150],intensity:2.2,color:16772829,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-far":800,"shadow-camera-left":-200,"shadow-camera-right":200,"shadow-camera-top":200,"shadow-camera-bottom":-200}),Z.jsx("directionalLight",{position:[-100,150,200],intensity:.8,color:16772829}),Z.jsx("directionalLight",{position:[-150,80,-100],intensity:.3,color:14535867}),Z.jsx("hemisphereLight",{args:[16772829,5583650,.5]}),Z.jsx(UE,{orbitEnabled:s}),Z.jsx(zE,{enabled:s}),Z.jsx(U.Suspense,{fallback:null,children:Z.jsx(LE,{})}),Z.jsx(U.Suspense,{fallback:null,children:Z.jsx(FE,{onLoaded:a})}),Z.jsx(OE,{multisampling:0,children:Z.jsx(xE,{darkness:.35,offset:.3})})]})}function IE({onProgress:s,roverLoaded:a}){const{progress:l}=Tv();return U.useEffect(()=>{const r=a?l:Math.min(l*.8,80);s(r)},[l,a,s]),null}function KE({progress:s,visible:a,onSkip:l}){return a?Z.jsxs("div",{style:{position:"fixed",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#0a0808",zIndex:100},children:[Z.jsx("div",{style:{width:48,height:48,border:"3px solid rgba(255, 140, 0, 0.2)",borderTop:"3px solid #FF8C00",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:24}}),Z.jsx("div",{style:{color:"#FF8C00",fontSize:14,fontFamily:"monospace",marginBottom:16},children:"Loading 3D Scene..."}),Z.jsx("div",{style:{width:200,height:4,background:"rgba(255, 140, 0, 0.2)",borderRadius:2,overflow:"hidden"},children:Z.jsx("div",{style:{width:`${s}%`,height:"100%",background:"#FF8C00",transition:"width 0.3s ease"}})}),Z.jsxs("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:12,fontFamily:"monospace",marginTop:8},children:[Math.round(s),"%"]}),Z.jsx("button",{onClick:l,style:{marginTop:32,padding:"10px 20px",background:"transparent",border:"1px solid rgba(255, 140, 0, 0.5)",borderRadius:6,color:"rgba(255, 255, 255, 0.7)",fontSize:13,cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:r=>{r.currentTarget.style.borderColor="#FF8C00",r.currentTarget.style.color="#FF8C00"},onMouseOut:r=>{r.currentTarget.style.borderColor="rgba(255, 140, 0, 0.5)",r.currentTarget.style.color="rgba(255, 255, 255, 0.7)"},children:"Disable WebGL"}),Z.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]}):null}function QE(){const[s,a]=U.useState(!1),[l,r]=U.useState(!0),[u,f]=U.useState(!1),[d,p]=U.useState(0),[h,m]=U.useState(!1),B=U.useCallback(()=>{f(!0)},[]),v=U.useCallback(C=>{p(C),C>=100&&u&&setTimeout(()=>r(!1),300)},[u]),E=U.useCallback(()=>{m(!0),r(!1)},[]);return U.useEffect(()=>{d>=100&&u&&setTimeout(()=>r(!1),300)},[d,u]),U.useEffect(()=>{const C=new aA;C.add(Je,"orbitControls").name("Orbit Controls").onChange(O=>{a(O)}),C.add(Je,"currentSection").name("Current Section").listen().disable();const R=C.addFolder("Landscape");R.add(Je.landscape,"x",-1e3,1e3),R.add(Je.landscape,"y",-500,500),R.add(Je.landscape,"z",-1e3,1e3),R.add(Je.landscape,"rotationY",-Math.PI,Math.PI).name("rotation Y"),R.add(Je.landscape,"scale",1,300);const G=C.addFolder("Rover");return G.add(Je.rover,"scale",.1,5),G.add(Je.rover,"rotationY",-Math.PI,Math.PI).name("rotation Y"),ts=C.addFolder("Joints"),ts.close(),es?.joints&&Object.entries(es.joints).forEach(([O,S])=>{if(S.jointType==="revolute"||S.jointType==="continuous"||S.jointType==="prismatic"){const y=S.limit?.lower??-Math.PI,_=S.limit?.upper??Math.PI,x=Array.isArray(S.jointValue)?S.jointValue[0]:S.jointValue??0;Je.joints[O]=x,ts.add(Je.joints,O,y,_).onChange(L=>{S.setJointValue(L)})}}),()=>{C.destroy(),ts=null}},[]),h?Z.jsx("div",{style:{position:"fixed",inset:0,zIndex:0,background:"linear-gradient(135deg, #0a0808 0%, #1a1410 50%, #0a0808 100%)"},children:Z.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"url(/images/KIWI_Landscape_URC.png)",backgroundSize:"cover",backgroundPosition:"center",opacity:.15}})}):Z.jsxs(Z.Fragment,{children:[Z.jsx(KE,{progress:d,visible:l,onSkip:E}),Z.jsx("div",{style:{position:"fixed",inset:0,pointerEvents:s?"auto":"none",zIndex:0,opacity:l?0:1,transition:"opacity 0.5s ease"},children:Z.jsxs(Ev,{gl:{antialias:!0,alpha:!1,toneMapping:vd,toneMappingExposure:1.5},camera:{fov:50,near:.1,far:1e4,position:[0,100,400]},shadows:!0,dpr:[1,2],children:[Z.jsx(IE,{onProgress:v,roverLoaded:u}),Z.jsx(U.Suspense,{fallback:null,children:Z.jsx(jE,{orbitEnabled:s,onRoverLoaded:B})})]})})]})}function kE(){const s=$s(l=>l.setLenis),a=$s(l=>l.setHeaderHeight);return U.useEffect(()=>{wi.registerPlugin(eo),eo.defaults({markers:!1});const l=document.querySelector("header");if(l){const f=l.offsetHeight;a(f),document.documentElement.style.setProperty("--header-height",`${f}px`)}window.scrollTo(0,0);const r=new lA({duration:1.2,easing:f=>Math.min(1,1.001-Math.pow(2,-10*f)),smoothWheel:!0});s(r),r.on("scroll",eo.update);const u=f=>r.raf(f*1e3);return wi.ticker.add(u),wi.ticker.lagSmoothing(0),()=>{r.destroy(),s(null),wi.ticker.remove(u)}},[s,a]),Z.jsx(QE,{})}export{kE as SceneManager};
