import{j as me,W as rh,R as lh,O as Ri,P as gs,S as or,b as Zo,V as cv,c as fv,B as dv,d as hv,e as Cs,f as Tt,N as oh,g as uh,h as dd,C as _n,i as ys,k as zn,l as $e,m as Qe,n as pv,T as mv,o as Wr,p as Cl,q as vv,r as yu,s as ch,M as xi,I as Av,t as Hn,u as ds,v as Su,Q as cl,w as ls,x as os,y as gv,z as Bv,E as Nu,F as ar,H as ka,J as na,K as Ev,X as Cv,D as yv,Y as fl,Z as Sv,_ as Mv,$ as fh,a0 as Tv,a1 as bv,a2 as Di,a3 as Rv,a4 as dh,a5 as Dv,a6 as _v,a7 as Hv,a8 as Jt,a9 as ur,aa as Mu,ab as xv,ac as Ca,ad as Gv,ae as ir,af as Uv,ag as yl,ah as hs,ai as Ov,aj as Fu,ak as Nv,al as Fv,am as Iv,an as Lv,ao as zv,a as Vo,ap as wv,aq as Jv,ar as jv,as as Kv,at as Pv,au as hh,av as Qv,aw as ea,ax as hd,ay as pd,az as md,aA as ph,aB as Xv,aC as Yv,aD as Zv,aE as mh,aF as mn,aG as ta,aH as ps,aI as Vv,aJ as vh,aK as xn,aL as dl,aM as qv,aN as kv,aO as Wv,aP as $v,aQ as Ah,L as eA,aR as vd,aS as Wa,aT as tA,aU as nA,aV as aA,aW as iA,aX as sA,aY as rA,aZ as lA,a_ as oA,a$ as uA,b0 as Ms,b1 as Iu,b2 as gh,b3 as we,b4 as $r,b5 as cA,b6 as Ad,G as fA,b7 as dA,U as hA}from"./lil-gui.esm.bnDMTh-g.js";import{u as cr}from"./store.BY4-JZ-6.js";import{a as Lu,g as Bh,e as ms,r as J}from"./index.BDe0eYEM.js";import{L as pA}from"./lenis.Dhw3rTjO.js";import{g as el}from"./index.DKtf60Sy.js";import{S as qo}from"./ScrollTrigger.BWsqEc1I.js";var ko={exports:{}},Ba={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd;function mA(){return gd||(gd=1,Ba.ConcurrentRoot=1,Ba.ContinuousEventPriority=8,Ba.DefaultEventPriority=32,Ba.DiscreteEventPriority=2,Ba.IdleEventPriority=268435456,Ba.LegacyRoot=0,Ba.NoEventPriority=0),Ba}var Bd;function vA(){return Bd||(Bd=1,ko.exports=mA()),ko.exports}var ol=vA(),Wo={exports:{}},$o={},eu={exports:{}},tu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function AA(){if(Ed)return tu;Ed=1;var a=Lu();function n(A,B){return A===B&&(A!==0||1/A===1/B)||A!==A&&B!==B}var s=typeof Object.is=="function"?Object.is:n,r=a.useState,o=a.useEffect,c=a.useLayoutEffect,f=a.useDebugValue;function p(A,B){var y=B(),M=r({inst:{value:y,getSnapshot:B}}),G=M[0].inst,x=M[1];return c(function(){G.value=y,G.getSnapshot=B,h(G)&&x({inst:G})},[A,y,B]),o(function(){return h(G)&&x({inst:G}),A(function(){h(G)&&x({inst:G})})},[A]),f(y),y}function h(A){var B=A.getSnapshot;A=A.value;try{var y=B();return!s(A,y)}catch{return!0}}function m(A,B){return B()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:p;return tu.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:g,tu}var Cd;function gA(){return Cd||(Cd=1,eu.exports=AA()),eu.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd;function BA(){if(yd)return $o;yd=1;var a=Lu(),n=gA();function s(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:s,o=n.useSyncExternalStore,c=a.useRef,f=a.useEffect,p=a.useMemo,h=a.useDebugValue;return $o.useSyncExternalStoreWithSelector=function(m,g,A,B,y){var M=c(null);if(M.current===null){var G={hasValue:!1,value:null};M.current=G}else G=M.current;M=p(function(){function R(L){if(!T){if(T=!0,F=L,L=B(L),y!==void 0&&G.hasValue){var se=G.value;if(y(se,L))return j=se}return j=L}if(se=j,r(F,L))return se;var I=B(L);return y!==void 0&&y(se,I)?(F=L,se):(F=L,j=I)}var T=!1,F,j,P=A===void 0?null:A;return[function(){return R(g())},P===null?void 0:function(){return R(P())}]},[g,A,B,y]);var x=o(m,M[0],M[1]);return f(function(){G.hasValue=!0,G.value=x},[x]),h(x),x},$o}var Sd;function EA(){return Sd||(Sd=1,Wo.exports=BA()),Wo.exports}var CA=EA();const yA=Bh(CA),Md=a=>{let n;const s=new Set,r=(m,g)=>{const A=typeof m=="function"?m(n):m;if(!Object.is(A,n)){const B=n;n=g??(typeof A!="object"||A===null)?A:Object.assign({},n,A),s.forEach(y=>y(n,B))}},o=()=>n,p={setState:r,getState:o,getInitialState:()=>h,subscribe:m=>(s.add(m),()=>s.delete(m))},h=n=a(r,o,p);return p},SA=(a=>a?Md(a):Md),{useSyncExternalStoreWithSelector:MA}=yA,TA=a=>a;function bA(a,n=TA,s){const r=MA(a.subscribe,a.getState,a.getInitialState,n,s);return ms.useDebugValue(r),r}const Td=(a,n)=>{const s=SA(a),r=(o,c=n)=>bA(s,o,c);return Object.assign(r,s),r},Eh=((a,n)=>a?Td(a,n):Td),RA=a=>typeof a=="object"&&typeof a.then=="function",Ti=[];function Ch(a,n,s=(r,o)=>r===o){if(a===n)return!0;if(!a||!n)return!1;const r=a.length;if(n.length!==r)return!1;for(let o=0;o<r;o++)if(!s(a[o],n[o]))return!1;return!0}function yh(a,n=null,s=!1,r={}){n===null&&(n=[a]);for(const c of Ti)if(Ch(n,c.keys,c.equal)){if(s)return;if(Object.prototype.hasOwnProperty.call(c,"error"))throw c.error;if(Object.prototype.hasOwnProperty.call(c,"response"))return r.lifespan&&r.lifespan>0&&(c.timeout&&clearTimeout(c.timeout),c.timeout=setTimeout(c.remove,r.lifespan)),c.response;if(!s)throw c.promise}const o={keys:n,equal:r.equal,remove:()=>{const c=Ti.indexOf(o);c!==-1&&Ti.splice(c,1)},promise:(RA(a)?a:a(...n)).then(c=>{o.response=c,r.lifespan&&r.lifespan>0&&(o.timeout=setTimeout(o.remove,r.lifespan))}).catch(c=>o.error=c)};if(Ti.push(o),!s)throw o.promise}const DA=(a,n,s)=>yh(a,n,!1,s),_A=(a,n,s)=>void yh(a,n,!0,s),HA=a=>{if(a===void 0||a.length===0)Ti.splice(0,Ti.length);else{const n=Ti.find(s=>Ch(a,s.keys,s.equal));n&&n.remove()}};var nu={exports:{}},au={exports:{}},iu={exports:{}},su={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd;function xA(){return bd||(bd=1,(function(a){function n(Y,ce){var he=Y.length;Y.push(ce);e:for(;0<he;){var ve=he-1>>>1,pe=Y[ve];if(0<o(pe,ce))Y[ve]=ce,Y[he]=pe,he=ve;else break e}}function s(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ce=Y[0],he=Y.pop();if(he!==ce){Y[0]=he;e:for(var ve=0,pe=Y.length,Se=pe>>>1;ve<Se;){var Ae=2*(ve+1)-1,xe=Y[Ae],De=Ae+1,ct=Y[De];if(0>o(xe,he))De<pe&&0>o(ct,xe)?(Y[ve]=ct,Y[De]=he,ve=De):(Y[ve]=xe,Y[Ae]=he,ve=Ae);else if(De<pe&&0>o(ct,he))Y[ve]=ct,Y[De]=he,ve=De;else break e}}return ce}function o(Y,ce){var he=Y.sortIndex-ce.sortIndex;return he!==0?he:Y.id-ce.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var h=[],m=[],g=1,A=null,B=3,y=!1,M=!1,G=!1,x=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function F(Y){for(var ce=s(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=Y)r(m),ce.sortIndex=ce.expirationTime,n(h,ce);else break;ce=s(m)}}function j(Y){if(G=!1,F(Y),!M)if(s(h)!==null)M=!0,re();else{var ce=s(m);ce!==null&&ye(j,ce.startTime-Y)}}var P=!1,L=-1,se=5,I=-1;function K(){return!(a.unstable_now()-I<se)}function Q(){if(P){var Y=a.unstable_now();I=Y;var ce=!0;try{e:{M=!1,G&&(G=!1,R(L),L=-1),y=!0;var he=B;try{t:{for(F(Y),A=s(h);A!==null&&!(A.expirationTime>Y&&K());){var ve=A.callback;if(typeof ve=="function"){A.callback=null,B=A.priorityLevel;var pe=ve(A.expirationTime<=Y);if(Y=a.unstable_now(),typeof pe=="function"){A.callback=pe,F(Y),ce=!0;break t}A===s(h)&&r(h),F(Y)}else r(h);A=s(h)}if(A!==null)ce=!0;else{var Se=s(m);Se!==null&&ye(j,Se.startTime-Y),ce=!1}}break e}finally{A=null,B=he,y=!1}ce=void 0}}finally{ce?le():P=!1}}}var le;if(typeof T=="function")le=function(){T(Q)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ie=Ee.port2;Ee.port1.onmessage=Q,le=function(){ie.postMessage(null)}}else le=function(){x(Q,0)};function re(){P||(P=!0,le())}function ye(Y,ce){L=x(function(){Y(a.unstable_now())},ce)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Y){Y.callback=null},a.unstable_continueExecution=function(){M||y||(M=!0,re())},a.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<Y?Math.floor(1e3/Y):5},a.unstable_getCurrentPriorityLevel=function(){return B},a.unstable_getFirstCallbackNode=function(){return s(h)},a.unstable_next=function(Y){switch(B){case 1:case 2:case 3:var ce=3;break;default:ce=B}var he=B;B=ce;try{return Y()}finally{B=he}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var he=B;B=Y;try{return ce()}finally{B=he}},a.unstable_scheduleCallback=function(Y,ce,he){var ve=a.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ve+he:ve):he=ve,Y){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=he+pe,Y={id:g++,callback:ce,priorityLevel:Y,startTime:he,expirationTime:pe,sortIndex:-1},he>ve?(Y.sortIndex=he,n(m,Y),s(h)===null&&Y===s(m)&&(G?(R(L),L=-1):G=!0,ye(j,he-ve))):(Y.sortIndex=pe,n(h,Y),M||y||(M=!0,re())),Y},a.unstable_shouldYield=K,a.unstable_wrapCallback=function(Y){var ce=B;return function(){var he=B;B=ce;try{return Y.apply(this,arguments)}finally{B=he}}}})(su)),su}var Rd;function Sh(){return Rd||(Rd=1,iu.exports=xA()),iu.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function GA(){return Dd||(Dd=1,(function(a){a.exports=function(n){function s(e,t,i,l){return new Rp(e,t,i,l)}function r(){}function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return e===null||typeof e!="object"?null:(e=Gf&&e[Gf]||e["@@iterator"],typeof e=="function"?e:null)}function f(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Up?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ji:return"Fragment";case Ji:return"Portal";case mo:return"Profiler";case _f:return"StrictMode";case Ao:return"Suspense";case go:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fa:return(e.displayName||"Context")+".Provider";case Hf:return(e._context.displayName||"Context")+".Consumer";case vo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bo:return t=e.displayName||null,t!==null?t:f(e.type)||"Memo";case Ia:t=e._payload,e=e._init;try{return f(e(t))}catch{}}return null}function p(e){if(Eo===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Eo=t&&t[1]||"",Uf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eo+e+Uf}function h(e,t){if(!e||Co)return"";Co=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(He){var ue=He}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(He){ue=He}e.call(oe.prototype)}}else{try{throw Error()}catch(He){ue=He}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(He){if(He&&ue&&typeof He.stack=="string")return[He.stack,ue.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var H=E.split(`
`),X=S.split(`
`);for(u=l=0;l<H.length&&!H[l].includes("DetermineComponentFrameRoot");)l++;for(;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;if(l===H.length||u===X.length)for(l=H.length-1,u=X.length-1;1<=l&&0<=u&&H[l]!==X[u];)u--;for(;1<=l&&0<=u;l--,u--)if(H[l]!==X[u]){if(l!==1||u!==1)do if(l--,u--,0>u||H[l]!==X[u]){var te=`
`+H[l].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=l&&0<=u);break}}}finally{Co=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?p(i):""}function m(e){switch(e.tag){case 26:case 27:case 5:return p(e.type);case 16:return p("Lazy");case 13:return p("Suspense");case 19:return p("SuspenseList");case 0:case 15:return e=h(e.type,!1),e;case 11:return e=h(e.type.render,!1),e;case 1:return e=h(e.type,!0),e;default:return""}}function g(e){try{var t="";do t+=m(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function A(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function B(e){if(A(e)!==e)throw Error(o(188))}function y(e){var t=e.alternate;if(!t){if(t=A(e),t===null)throw Error(o(188));return t!==e?null:e}for(var i=e,l=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){i=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return B(u),e;if(d===l)return B(u),t;d=d.sibling}throw Error(o(188))}if(i.return!==l.return)i=u,l=d;else{for(var E=!1,S=u.child;S;){if(S===i){E=!0,i=u,l=d;break}if(S===l){E=!0,l=u,i=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===i){E=!0,i=d,l=u;break}if(S===l){E=!0,l=d,i=u;break}S=S.sibling}if(!E)throw Error(o(189))}}if(i.alternate!==l)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:t}function M(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=M(e),t!==null)return t;e=e.sibling}return null}function G(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(e.tag!==4&&(t=G(e),t!==null))return t;e=e.sibling}return null}function x(e){return{current:e}}function R(e){0>Pi||(e.current=Ro[Pi],Ro[Pi]=null,Pi--)}function T(e,t){Pi++,Ro[Pi]=e.current,e.current=t}function F(e){return e>>>=0,e===0?32:31-(Zm(e)/Vm|0)|0}function j(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function P(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,E=e.warmLanes;e=e.finishedLanes!==0;var S=i&134217727;return S!==0?(i=S&~u,i!==0?l=j(i):(d&=S,d!==0?l=j(d):e||(E=S&~E,E!==0&&(l=j(E))))):(S=i&~u,S!==0?l=j(S):d!==0?l=j(d):e||(E=i&~E,E!==0&&(l=j(E)))),l===0?0:t!==0&&t!==l&&(t&u)===0&&(u=l&-l,E=t&-t,u>=E||u===32&&(E&4194176)!==0)?t:l}function L(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function se(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I(){var e=Gr;return Gr<<=1,(Gr&4194176)===0&&(Gr=128),e}function K(){var e=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),e}function Q(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function le(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,i,l,u,d){var E=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var S=e.entanglements,H=e.expirationTimes,X=e.hiddenUpdates;for(i=E&~i;0<i;){var te=31-cn(i),oe=1<<te;S[te]=0,H[te]=-1;var ue=X[te];if(ue!==null)for(X[te]=null,te=0;te<ue.length;te++){var He=ue[te];He!==null&&(He.lane&=-536870913)}i&=~oe}l!==0&&ie(e,l,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~t))}function ie(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-cn(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194218}function re(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-cn(i),u=1<<l;u&t|e[l]&t&&(e[l]|=t),i&=~u}}function ye(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Y(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ws,e,void 0,(e.current.flags&128)===128)}catch{}}function ce(e){if(typeof ev=="function"&&tv(e),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(ws,e)}catch{}}function he(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}function ve(e,t){if(typeof e=="object"&&e!==null){var i=sd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:g(t)},sd.set(e,t),t)}return{value:e,source:t,stack:g(t)}}function pe(e,t){Xi[Yi++]=Fr,Xi[Yi++]=Nr,Nr=e,Fr=t}function Se(e,t,i){En[Cn++]=ha,En[Cn++]=pa,En[Cn++]=hi,hi=e;var l=ha;e=pa;var u=32-cn(l)-1;l&=~(1<<u),i+=1;var d=32-cn(t)+u;if(30<d){var E=u-u%5;d=(l&(1<<E)-1).toString(32),l>>=E,u-=E,ha=1<<32-cn(t)+u|i<<u|l,pa=d+e}else ha=1<<d|i<<u|l,pa=e}function Ae(e){e.return!==null&&(pe(e,1),Se(e,1,0))}function xe(e){for(;e===Nr;)Nr=Xi[--Yi],Xi[Yi]=null,Fr=Xi[--Yi],Xi[Yi]=null;for(;e===hi;)hi=En[--Cn],En[Cn]=null,pa=En[--Cn],En[Cn]=null,ha=En[--Cn],En[Cn]=null}function De(e,t){T(za,t),T(Js,e),T(xt,null),e=Fp(t),R(xt),T(xt,e)}function ct(){R(xt),R(Js),R(za)}function Ue(e){e.memoizedState!==null&&T(Ir,e);var t=xt.current,i=Ip(t,e.type);t!==i&&(T(Js,e),T(xt,i))}function Ut(e){Js.current===e&&(R(xt),R(Js)),Ir.current===e&&(R(Ir),da?di._currentValue=Ki:di._currentValue2=Ki)}function St(e){var t=Error(o(418,""));throw Gn(ve(t,e)),Ho}function Ui(e,t){if(!gn)throw Error(o(175));Hm(e.stateNode,e.type,e.memoizedProps,t,e)||St(e)}function Oi(e){for(Xt=e.return;Xt;)switch(Xt.tag){case 3:case 27:Vn=!0;return;case 5:case 13:Vn=!1;return;default:Xt=Xt.return}}function wn(e){if(!gn||e!==Xt)return!1;if(!je)return Oi(e),je=!0,!1;var t=!1;if(zt?e.tag!==3&&e.tag!==27&&(e.tag!==5||Zf(e.type)&&!xr(e.type,e.memoizedProps))&&(t=!0):e.tag!==3&&(e.tag!==5||Zf(e.type)&&!xr(e.type,e.memoizedProps))&&(t=!0),t&&wt&&St(e),Oi(e),e.tag===13){if(!gn)throw Error(o(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));wt=Um(e)}else wt=Xt?Xf(e.stateNode):null;return!0}function Jn(){gn&&(wt=Xt=null,je=!1)}function Gn(e){Fn===null?Fn=[e]:Fn.push(e)}function jn(){for(var e=Zi,t=xo=Zi=0;t<e;){var i=yn[t];yn[t++]=null;var l=yn[t];yn[t++]=null;var u=yn[t];yn[t++]=null;var d=yn[t];if(yn[t++]=null,l!==null&&u!==null){var E=l.pending;E===null?u.next=u:(u.next=E.next,E.next=u),l.pending=u}d!==0&&ei(i,u,d)}}function aa(e,t,i,l){yn[Zi++]=e,yn[Zi++]=t,yn[Zi++]=i,yn[Zi++]=l,xo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $a(e,t,i,l){return aa(e,t,i,l),ia(e)}function en(e,t){return aa(e,null,null,t),ia(e)}function ei(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var u=!1,d=e.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;u&&t!==null&&e.tag===3&&(d=e.stateNode,u=31-cn(i),d=d.hiddenUpdates,e=d[u],e===null?d[u]=[t]:e.push(t),t.lane=i|536870912)}function ia(e){if(50<qs)throw qs=0,Yo=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}function Zt(e){e!==Vi&&e.next===null&&(Vi===null?Lr=Vi=e:Vi=Vi.next=e),zr=!0,Go||(Go=!0,bs(Ni))}function Kn(e,t){if(!Uo&&zr){Uo=!0;do for(var i=!1,l=Lr;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-cn(42|e)+1)-1,d&=u&~(E&~S),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(i=!0,Ma(l,d))}else d=ze,d=P(l,l===st?d:0),(d&3)===0||L(l,d)||(i=!0,Ma(l,d));l=l.next}while(i);Uo=!1}}function Ni(){zr=Go=!1;var e=0;qi!==0&&(Qp()&&(e=qi),qi=0);for(var t=Nn(),i=null,l=Lr;l!==null;){var u=l.next,d=sa(l,t);d===0?(l.next=null,i===null?Lr=u:i.next=u,u===null&&(Vi=i)):(i=l,(e!==0||(d&3)!==0)&&(zr=!0)),l=u}Kn(e)}function sa(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-cn(d),S=1<<E,H=u[E];H===-1?((S&i)===0||(S&l)!==0)&&(u[E]=se(S,t)):H<=t&&(e.expiredLanes|=S),d&=~S}if(t=st,i=ze,i=P(e,e===t?i:0),l=e.callbackNode,i===0||e===t&&rt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Do(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||L(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&Do(l),ye(i)){case 2:case 8:i=Wm;break;case 32:i=_o;break;case 268435456:i=$m;break;default:i=_o}return l=Pn.bind(null,e),i=Or(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&Do(l),e.callbackPriority=2,e.callbackNode=null,2}function Pn(e,t){var i=e.callbackNode;if(ui()&&e.callbackNode!==i)return null;var l=ze;return l=P(e,e===st?l:0),l===0?null:(of(e,l,t),sa(e,Nn()),e.callbackNode!=null&&e.callbackNode===i?Pn.bind(null,e):null)}function Ma(e,t){if(ui())return null;of(e,t,!0)}function bs(e){kp?Wp(function(){(tt&6)!==0?Or(id,e):e()}):Or(id,e)}function Ta(){return qi===0&&(qi=I()),qi}function ba(e,t){if(js===null){var i=js=[];Oo=0,ki=Ta(),Wi={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Oo++,t.then(ra,ra),t}function ra(){if(--Oo===0&&js!==null){Wi!==null&&(Wi.status="fulfilled");var e=js;js=null,ki=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Rs(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),l}function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ti(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ot(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function it(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=ia(e),ei(e,null,i),t}return aa(e,l,t,i),ia(e)}function vn(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194176)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,re(e,i)}}function D(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var E={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?u=d=E:d=d.next=E,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function q(){if(No){var e=Wi;if(e!==null)throw e}}function fe(e,t,i,l){No=!1;var u=e.updateQueue;wa=!1;var d=u.firstBaseUpdate,E=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var H=S,X=H.next;H.next=null,E===null?d=X:E.next=X,E=H;var te=e.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==E&&(S===null?te.firstBaseUpdate=X:S.next=X,te.lastBaseUpdate=H))}if(d!==null){var oe=u.baseState;E=0,te=X=H=null,S=d;do{var ue=S.lane&-536870913,He=ue!==S.lane;if(He?(ze&ue)===ue:(l&ue)===ue){ue!==0&&ue===ki&&(No=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Tn=e,ks=S;ue=t;var yi=i;switch(ks.tag){case 1:if(Tn=ks.payload,typeof Tn=="function"){oe=Tn.call(yi,oe,ue);break e}oe=Tn;break e;case 3:Tn.flags=Tn.flags&-65537|128;case 0:if(Tn=ks.payload,ue=typeof Tn=="function"?Tn.call(yi,oe,ue):Tn,ue==null)break e;oe=po({},oe,ue);break e;case 2:wa=!0}}ue=S.callback,ue!==null&&(e.flags|=64,He&&(e.flags|=8192),He=u.callbacks,He===null?u.callbacks=[ue]:He.push(ue))}else He={lane:ue,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(X=te=He,H=oe):te=te.next=He,E|=ue;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;He=S,S=He.next,He.next=null,u.lastBaseUpdate=He,u.shared.pending=null}}while(!0);te===null&&(H=oe),u.baseState=H,u.firstBaseUpdate=X,u.lastBaseUpdate=te,d===null&&(u.shared.lanes=0),Ka|=E,e.lanes=E,e.memoizedState=oe}}function Ie(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function ee(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Ie(i[e],t)}function Bt(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var u=i[l];if(!nv.call(t,u)||!dn(e[u],t[u]))return!1}return!0}function tn(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ni(){}function ai(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(ni,ni),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ks?Error(o(483)):e;default:if(typeof t.status=="string")t.then(ni,ni);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ks?Error(o(483)):e}throw $i=t,Ks}}function Vt(){if($i===null)throw Error(o(459));var e=$i;return $i=null,e}function Nt(e){var t=Ps;return Ps+=1,es===null&&(es=[]),ai(es,e,t)}function nn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function An(e,t){throw t.$$typeof===Hp?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qn(e){var t=e._init;return t(e._payload)}function la(e){function t(U,_){if(e){var N=U.deletions;N===null?(U.deletions=[_],U.flags|=16):N.push(_)}}function i(U,_){if(!e)return null;for(;_!==null;)t(U,_),_=_.sibling;return null}function l(U){for(var _=new Map;U!==null;)U.key!==null?_.set(U.key,U):_.set(U.index,U),U=U.sibling;return _}function u(U,_){return U=Na(U,_),U.index=0,U.sibling=null,U}function d(U,_,N){return U.index=N,e?(N=U.alternate,N!==null?(N=N.index,N<_?(U.flags|=33554434,_):N):(U.flags|=33554434,_)):(U.flags|=1048576,_)}function E(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function S(U,_,N,W){return _===null||_.tag!==6?(_=co(N,U.mode,W),_.return=U,_):(_=u(_,N),_.return=U,_)}function H(U,_,N,W){var Be=N.type;return Be===ji?te(U,_,N.props.children,W,N.key):_!==null&&(_.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Ia&&Qn(Be)===_.type)?(_=u(_,N.props),nn(_,N),_.return=U,_):(_=Dr(N.type,N.key,N.props,null,U.mode,W),nn(_,N),_.return=U,_)}function X(U,_,N,W){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=fo(N,U.mode,W),_.return=U,_):(_=u(_,N.children||[]),_.return=U,_)}function te(U,_,N,W,Be){return _===null||_.tag!==7?(_=ci(N,U.mode,W,Be),_.return=U,_):(_=u(_,N),_.return=U,_)}function oe(U,_,N){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=co(""+_,U.mode,N),_.return=U,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _r:return N=Dr(_.type,_.key,_.props,null,U.mode,N),nn(N,_),N.return=U,N;case Ji:return _=fo(_,U.mode,N),_.return=U,_;case Ia:var W=_._init;return _=W(_._payload),oe(U,_,N)}if(Hr(_)||c(_))return _=ci(_,U.mode,N,null),_.return=U,_;if(typeof _.then=="function")return oe(U,Nt(_),N);if(_.$$typeof===Fa)return oe(U,yr(U,_),N);An(U,_)}return null}function ue(U,_,N,W){var Be=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return Be!==null?null:S(U,_,""+N,W);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _r:return N.key===Be?H(U,_,N,W):null;case Ji:return N.key===Be?X(U,_,N,W):null;case Ia:return Be=N._init,N=Be(N._payload),ue(U,_,N,W)}if(Hr(N)||c(N))return Be!==null?null:te(U,_,N,W,null);if(typeof N.then=="function")return ue(U,_,Nt(N),W);if(N.$$typeof===Fa)return ue(U,_,yr(U,N),W);An(U,N)}return null}function He(U,_,N,W,Be){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(N)||null,S(_,U,""+W,Be);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _r:return U=U.get(W.key===null?N:W.key)||null,H(_,U,W,Be);case Ji:return U=U.get(W.key===null?N:W.key)||null,X(_,U,W,Be);case Ia:var lt=W._init;return W=lt(W._payload),He(U,_,N,W,Be)}if(Hr(W)||c(W))return U=U.get(N)||null,te(_,U,W,Be,null);if(typeof W.then=="function")return He(U,_,N,Nt(W),Be);if(W.$$typeof===Fa)return He(U,_,N,yr(_,W),Be);An(_,W)}return null}function Tn(U,_,N,W){for(var Be=null,lt=null,Me=_,Ke=_=0,_t=null;Me!==null&&Ke<N.length;Ke++){Me.index>Ke?(_t=Me,Me=null):_t=Me.sibling;var Pe=ue(U,Me,N[Ke],W);if(Pe===null){Me===null&&(Me=_t);break}e&&Me&&Pe.alternate===null&&t(U,Me),_=d(Pe,_,Ke),lt===null?Be=Pe:lt.sibling=Pe,lt=Pe,Me=_t}if(Ke===N.length)return i(U,Me),je&&pe(U,Ke),Be;if(Me===null){for(;Ke<N.length;Ke++)Me=oe(U,N[Ke],W),Me!==null&&(_=d(Me,_,Ke),lt===null?Be=Me:lt.sibling=Me,lt=Me);return je&&pe(U,Ke),Be}for(Me=l(Me);Ke<N.length;Ke++)_t=He(Me,U,Ke,N[Ke],W),_t!==null&&(e&&_t.alternate!==null&&Me.delete(_t.key===null?Ke:_t.key),_=d(_t,_,Ke),lt===null?Be=_t:lt.sibling=_t,lt=_t);return e&&Me.forEach(function(Qa){return t(U,Qa)}),je&&pe(U,Ke),Be}function ks(U,_,N,W){if(N==null)throw Error(o(151));for(var Be=null,lt=null,Me=_,Ke=_=0,_t=null,Pe=N.next();Me!==null&&!Pe.done;Ke++,Pe=N.next()){Me.index>Ke?(_t=Me,Me=null):_t=Me.sibling;var Qa=ue(U,Me,Pe.value,W);if(Qa===null){Me===null&&(Me=_t);break}e&&Me&&Qa.alternate===null&&t(U,Me),_=d(Qa,_,Ke),lt===null?Be=Qa:lt.sibling=Qa,lt=Qa,Me=_t}if(Pe.done)return i(U,Me),je&&pe(U,Ke),Be;if(Me===null){for(;!Pe.done;Ke++,Pe=N.next())Pe=oe(U,Pe.value,W),Pe!==null&&(_=d(Pe,_,Ke),lt===null?Be=Pe:lt.sibling=Pe,lt=Pe);return je&&pe(U,Ke),Be}for(Me=l(Me);!Pe.done;Ke++,Pe=N.next())Pe=He(Me,U,Ke,Pe.value,W),Pe!==null&&(e&&Pe.alternate!==null&&Me.delete(Pe.key===null?Ke:Pe.key),_=d(Pe,_,Ke),lt===null?Be=Pe:lt.sibling=Pe,lt=Pe);return e&&Me.forEach(function(uv){return t(U,uv)}),je&&pe(U,Ke),Be}function yi(U,_,N,W){if(typeof N=="object"&&N!==null&&N.type===ji&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case _r:e:{for(var Be=N.key;_!==null;){if(_.key===Be){if(Be=N.type,Be===ji){if(_.tag===7){i(U,_.sibling),W=u(_,N.props.children),W.return=U,U=W;break e}}else if(_.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Ia&&Qn(Be)===_.type){i(U,_.sibling),W=u(_,N.props),nn(W,N),W.return=U,U=W;break e}i(U,_);break}else t(U,_);_=_.sibling}N.type===ji?(W=ci(N.props.children,U.mode,W,N.key),W.return=U,U=W):(W=Dr(N.type,N.key,N.props,null,U.mode,W),nn(W,N),W.return=U,U=W)}return E(U);case Ji:e:{for(Be=N.key;_!==null;){if(_.key===Be)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){i(U,_.sibling),W=u(_,N.children||[]),W.return=U,U=W;break e}else{i(U,_);break}else t(U,_);_=_.sibling}W=fo(N,U.mode,W),W.return=U,U=W}return E(U);case Ia:return Be=N._init,N=Be(N._payload),yi(U,_,N,W)}if(Hr(N))return Tn(U,_,N,W);if(c(N)){if(Be=c(N),typeof Be!="function")throw Error(o(150));return N=Be.call(N),ks(U,_,N,W)}if(typeof N.then=="function")return yi(U,_,Nt(N),W);if(N.$$typeof===Fa)return yi(U,_,yr(U,N),W);An(U,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,_!==null&&_.tag===6?(i(U,_.sibling),W=u(_,N),W.return=U,U=W):(i(U,_),W=co(N,U.mode,W),W.return=U,U=W),E(U)):i(U,_)}return function(U,_,N,W){try{Ps=0;var Be=yi(U,_,N,W);return es=null,Be}catch(Me){if(Me===Ks)throw Me;var lt=s(29,Me,null,U.mode);return lt.lanes=W,lt.return=U,lt}finally{}}}function vr(e,t){e=ga,T(Jr,e),T(ts,t),ga=e|t.baseLanes}function Ds(){T(Jr,ga),T(ts,ts.current)}function Da(){ga=Jr.current,R(ts),R(Jr)}function Xn(e){var t=e.alternate;T(Mt,Mt.current&1),T(Sn,e),qn===null&&(t===null||ts.current!==null||t.memoizedState!==null)&&(qn=e)}function _a(e){if(e.tag===22){if(T(Mt,Mt.current),T(Sn,e),qn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(qn=e)}}else qt()}function qt(){T(Mt,Mt.current),T(Sn,Sn.current)}function be(e){R(Sn),qn===e&&(qn=null),R(Mt)}function ii(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Mo(i)||To(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ft(){throw Error(o(321))}function v(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!dn(e[i],t[i]))return!1;return!0}function C(e,t,i,l,u,d){return Ja=d,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Re.H=e===null||e.memoizedState===null?vi:ja,mi=!1,d=i(l,u),mi=!1,ns&&(d=O(t,i,l,u)),b(e),d}function b(e){Re.H=kn;var t=et!==null&&et.next!==null;if(Ja=0,Ct=et=Ge=null,jr=!1,Qs=0,as=null,t)throw Error(o(300));e===null||Rt||(e=e.dependencies,e!==null&&Cr(e)&&(Rt=!0))}function O(e,t,i,l){Ge=e;var u=0;do{if(ns&&(as=null),Qs=0,ns=!1,25<=u)throw Error(o(301));if(u+=1,Ct=et=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Re.H=Ai,d=t(i,l)}while(ns);return d}function w(){var e=Re.H,t=e.useState()[0];return t=typeof t.then=="function"?ae(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Ge.flags|=1024),t}function z(){var e=Kr!==0;return Kr=0,e}function $(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function V(e){if(jr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}jr=!1}Ja=0,Ct=et=Ge=null,ns=!1,Qs=Kr=0,as=null}function k(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ge.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Z(){if(et===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=Ct===null?Ge.memoizedState:Ct.next;if(t!==null)Ct=t,et=e;else{if(e===null)throw Ge.alternate===null?Error(o(467)):Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ge.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function ae(e){var t=Qs;return Qs+=1,as===null&&(as=[]),e=ai(as,e,t),t=Ge,(Ct===null?t.memoizedState:Ct.next)===null&&(t=t.alternate,Re.H=t===null||t.memoizedState===null?vi:ja),e}function ne(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ae(e);if(e.$$typeof===Fa)return It(e)}throw Error(o(438,String(e)))}function nt(e){var t=null,i=Ge.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=Ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Io(),Ge.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=Gp;return t.index++,i}function de(e,t){return typeof t=="function"?t(e):t}function ge(e){var t=Z();return Te(t,et,e)}function Te(e,t,i){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=i;var u=e.baseQueue,d=l.pending;if(d!==null){if(u!==null){var E=u.next;u.next=d.next,d.next=E}t.baseQueue=u=d,l.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var S=E=null,H=null,X=t,te=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(ze&oe)===oe:(Ja&oe)===oe){var ue=X.revertLane;if(ue===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===ki&&(te=!0);else if((Ja&ue)===ue){X=X.next,ue===ki&&(te=!0);continue}else oe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(S=H=oe,E=d):H=H.next=oe,Ge.lanes|=ue,Ka|=ue;oe=X.action,mi&&i(d,oe),d=X.hasEagerState?X.eagerState:i(d,oe)}else ue={lane:oe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},H===null?(S=H=ue,E=d):H=H.next=ue,Ge.lanes|=oe,Ka|=oe;X=X.next}while(X!==null&&X!==t);if(H===null?E=d:H.next=S,!dn(d,e.memoizedState)&&(Rt=!0,te&&(i=Wi,i!==null)))throw i;e.memoizedState=d,e.baseState=E,e.baseQueue=H,l.lastRenderedState=d}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function _e(e){var t=Z(),i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var l=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var E=u=u.next;do d=e(d,E.action),E=E.next;while(E!==u);dn(d,t.memoizedState)||(Rt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,l]}function Ye(e,t,i){var l=Ge,u=Z(),d=je;if(d){if(i===void 0)throw Error(o(407));i=i()}else i=t();var E=!dn((et||u).memoizedState,i);if(E&&(u.memoizedState=i,Rt=!0),u=u.queue,bl(bt.bind(null,l,u,e),[e]),u.getSnapshot!==t||E||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Fi(9,ht.bind(null,l,u,i,t),{destroy:void 0},null),st===null)throw Error(o(349));d||(Ja&60)!==0||Ve(l,t,i)}return i}function Ve(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ge.updateQueue,t===null?(t=Io(),Ge.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function ht(e,t,i,l){t.value=i,t.getSnapshot=l,qe(t)&&an(e)}function bt(e,t,i){return i(function(){qe(t)&&an(e)})}function qe(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!dn(e,i)}catch{return!0}}function an(e){var t=en(e,2);t!==null&&Qt(t,e,2)}function ke(e){var t=k();if(typeof e=="function"){var i=e;if(e=i(),mi){ce(!0);try{i()}finally{ce(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:e},t}function At(e,t,i,l){return e.baseState=i,Te(e,et,typeof l=="function"?l:de)}function Un(e,t,i,l,u){if(Br(e))throw Error(o(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Re.T!==null?i(!0):d.isTransition=!1,l(d),i=t.pending,i===null?(d.next=t.pending=d,Ha(t,d)):(d.next=i.next,t.pending=i.next=d)}}function Ha(e,t){var i=t.action,l=t.payload,u=e.state;if(t.isTransition){var d=Re.T,E={};Re.T=E;try{var S=i(u,l),H=Re.S;H!==null&&H(E,S),Kt(e,t,S)}catch(X){Et(e,t,X)}finally{Re.T=d}}else try{d=i(u,l),Kt(e,t,d)}catch(X){Et(e,t,X)}}function Kt(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Ze(e,t,l)},function(l){return Et(e,t,l)}):Ze(e,t,i)}function Ze(e,t,i){t.status="fulfilled",t.value=i,at(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Ha(e,i)))}function Et(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,at(t),t=t.next;while(t!==l)}e.action=null}function at(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Je(e,t){return t}function Pt(e,t){if(je){var i=st.formState;if(i!==null){e:{var l=Ge;if(je){if(wt){var u=Sm(wt,Vn);if(u){wt=Xf(u),l=Mm(u);break e}}St(l)}l=!1}l&&(t=i[0])}}i=k(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Je,lastRenderedState:t},i.queue=l,i=vc.bind(null,Ge,l),l.dispatch=i,l=ke(!1);var d=Hl.bind(null,Ge,!1,l.queue);return l=k(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,i=Un.bind(null,Ge,u,d,i),u.dispatch=i,l.memoizedState=e,[t,i,!1]}function Yn(e){var t=Z();return Ft(t,et,e)}function Ft(e,t,i){t=Te(e,t,Je)[0],e=ge(de)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?ae(t):t;var l=Z(),u=l.queue,d=u.dispatch;return i!==l.memoizedState&&(Ge.flags|=2048,Fi(9,Zn.bind(null,u,i),{destroy:void 0},null)),[t,d,e]}function Zn(e,t){e.action=t}function nc(e){var t=Z(),i=et;if(i!==null)return Ft(t,i,e);Z(),t=t.memoizedState,i=Z();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function Fi(e,t,i,l){return e={tag:e,create:t,inst:i,deps:l,next:null},t=Ge.updateQueue,t===null&&(t=Io(),Ge.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function ac(){return Z().memoizedState}function Ar(e,t,i,l){var u=k();Ge.flags|=e,u.memoizedState=Fi(1|t,i,{destroy:void 0},l===void 0?null:l)}function gr(e,t,i,l){var u=Z();l=l===void 0?null:l;var d=u.memoizedState.inst;et!==null&&l!==null&&v(l,et.memoizedState.deps)?u.memoizedState=Fi(t,i,d,l):(Ge.flags|=e,u.memoizedState=Fi(1|t,i,d,l))}function ic(e,t){Ar(8390656,8,e,t)}function bl(e,t){gr(2048,8,e,t)}function sc(e,t){return gr(4,2,e,t)}function rc(e,t){return gr(4,4,e,t)}function lc(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oc(e,t,i){i=i!=null?i.concat([e]):null,gr(4,4,lc.bind(null,t,e),i)}function Rl(){}function uc(e,t){var i=Z();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&v(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function cc(e,t){var i=Z();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&v(t,l[1]))return l[0];if(l=e(),mi){ce(!0);try{e()}finally{ce(!1)}}return i.memoizedState=[l,t],l}function Dl(e,t,i){return i===void 0||(Ja&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=lf(),Ge.lanes|=e,Ka|=e,i)}function fc(e,t,i,l){return dn(i,t)?i:ts.current!==null?(e=Dl(e,i,l),dn(e,t)||(Rt=!0),e):(Ja&42)===0?(Rt=!0,e.memoizedState=i):(e=lf(),Ge.lanes|=e,Ka|=e,t)}function dc(e,t,i,l,u){var d=fi();Wt(d!==0&&8>d?d:8);var E=Re.T,S={};Re.T=S,Hl(e,!1,t,i);try{var H=u(),X=Re.S;if(X!==null&&X(S,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var te=Rs(H,l);_s(e,t,te,on(e))}else _s(e,t,l,on(e))}catch(oe){_s(e,t,{then:function(){},status:"rejected",reason:oe},on())}finally{Wt(d),Re.T=E}}function hc(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ki,baseState:Ki,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:Ki},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _l(){return It(di)}function pc(){return Z().memoizedState}function mc(){return Z().memoizedState}function cp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=on();e=Ot(i);var l=it(t,e,i);l!==null&&(Qt(l,t,i),vn(l,t,i)),t={cache:Kl()},e.payload=t;return}t=t.return}}function fp(e,t,i){var l=on();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Br(e)?Ac(t,i):(i=$a(e,t,i,l),i!==null&&(Qt(i,e,l),gc(i,t,l)))}function vc(e,t,i){var l=on();_s(e,t,i,l)}function _s(e,t,i,l){var u={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Br(e))Ac(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var E=t.lastRenderedState,S=d(E,i);if(u.hasEagerState=!0,u.eagerState=S,dn(S,E))return aa(e,t,u,0),st===null&&jn(),!1}catch{}finally{}if(i=$a(e,t,u,l),i!==null)return Qt(i,e,l),gc(i,t,l),!0}return!1}function Hl(e,t,i,l){if(l={lane:2,revertLane:Ta(),action:l,hasEagerState:!1,eagerState:null,next:null},Br(e)){if(t)throw Error(o(479))}else t=$a(e,i,l,2),t!==null&&Qt(t,e,2)}function Br(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function Ac(e,t){ns=jr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function gc(e,t,i){if((i&4194176)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,re(e,i)}}function xl(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:po({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}function Bc(e,t,i,l,u,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):t.prototype&&t.prototype.isPureReactComponent?!Bt(i,l)||!Bt(u,d):!0}function Ec(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function si(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=po({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function Er(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Cc(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Gl(e,t,i){return i=Ot(i),i.tag=3,i.payload={element:null},i.callback=function(){Er(e,t)},i}function yc(e){return e=Ot(e),e.tag=3,e}function Sc(e,t,i,l){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var d=l.value;e.payload=function(){return u(d)},e.callback=function(){Cc(t,i,l)}}var E=i.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Cc(t,i,l),typeof u!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function dp(e,t,i,l,u){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&xs(t,i,u,!0),i=Sn.current,i!==null){switch(i.tag){case 13:return qn===null?ro():i.alternate===null&&vt===0&&(vt=3),i.flags&=-257,i.flags|=65536,i.lanes=u,l===wr?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),oo(e,l,u)),!1;case 22:return i.flags|=65536,l===wr?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),oo(e,l,u)),!1}throw Error(o(435,i.tag))}return oo(e,l,u),ro(),!1}if(je)return t=Sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Ho&&(e=Error(o(422),{cause:l}),Gn(ve(e,i)))):(l!==Ho&&(t=Error(o(423),{cause:l}),Gn(ve(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=ve(l,i),u=Gl(e.stateNode,l,u),D(e,u),vt!==4&&(vt=2)),!1;var d=Error(o(520),{cause:l});if(d=ve(d,i),Ys===null?Ys=[d]:Ys.push(d),vt!==4&&(vt=2),t===null)return!0;l=ve(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Gl(i.stateNode,l,e),D(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pa===null||!Pa.has(d))))return i.flags|=65536,u&=-u,i.lanes|=u,u=yc(u),Sc(u,e,i,l),D(i,u),!1}i=i.return}while(i!==null);return!1}function Ht(e,t,i,l){t.child=e===null?rd(t,null,i,l):pi(t,e.child,i,l)}function Mc(e,t,i,l,u){i=i.render;var d=t.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return ri(t),l=C(e,t,i,E,d,u),S=z(),e!==null&&!Rt?($(e,t,u),oa(e,t,u)):(je&&S&&Ae(t),t.flags|=1,Ht(e,t,l,u),t.child)}function Tc(e,t,i,l,u){if(e===null){var d=i.type;return typeof d=="function"&&!uo(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,bc(e,t,d,l,u)):(e=Dr(i.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!wl(e,u)){var E=d.memoizedProps;if(i=i.compare,i=i!==null?i:Bt,i(E,l)&&e.ref===t.ref)return oa(e,t,u)}return t.flags|=1,e=Na(d,l),e.ref=t.ref,e.return=t,t.child=e}function bc(e,t,i,l,u){if(e!==null){var d=e.memoizedProps;if(Bt(d,l)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=l=d,wl(e,u))(e.flags&131072)!==0&&(Rt=!0);else return t.lanes=e.lanes,oa(e,t,u)}return Ul(e,t,i,l,u)}function Rc(e,t,i){var l=t.pendingProps,u=l.children,d=(t.stateNode._pendingVisibility&2)!==0,E=e!==null?e.memoizedState:null;if(Hs(e,t),l.mode==="hidden"||d){if((t.flags&128)!==0){if(l=E!==null?E.baseLanes|i:i,e!==null){for(u=t.child=e.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;t.childLanes=d&~l}else t.childLanes=0,t.child=null;return Dc(e,t,l,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sr(t,E!==null?E.cachePool:null),E!==null?vr(t,E):Ds(),_a(t);else return t.lanes=t.childLanes=536870912,Dc(e,t,E!==null?E.baseLanes|i:i,i)}else E!==null?(Sr(t,E.cachePool),vr(t,E),qt(),t.memoizedState=null):(e!==null&&Sr(t,null),Ds(),qt());return Ht(e,t,u,i),t.child}function Dc(e,t,i,l){var u=Pl();return u=u===null?null:{parent:da?pt._currentValue:pt._currentValue2,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Sr(t,null),Ds(),_a(t),e!==null&&xs(e,t,l,!0),null}function Hs(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(o(284));(e===null||e.ref!==i)&&(t.flags|=2097664)}}function Ul(e,t,i,l,u){return ri(t),i=C(e,t,i,l,void 0,u),l=z(),e!==null&&!Rt?($(e,t,u),oa(e,t,u)):(je&&l&&Ae(t),t.flags|=1,Ht(e,t,i,u),t.child)}function _c(e,t,i,l,u,d){return ri(t),t.updateQueue=null,i=O(t,l,i,u),b(e),l=z(),e!==null&&!Rt?($(e,t,d),oa(e,t,d)):(je&&l&&Ae(t),t.flags|=1,Ht(e,t,i,d),t.child)}function Hc(e,t,i,l,u){if(ri(t),t.stateNode===null){var d=Qi,E=i.contextType;typeof E=="object"&&E!==null&&(d=It(E)),d=new i(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Ra(t),E=i.contextType,d.context=typeof E=="object"&&E!==null?It(E):Qi,d.state=t.memoizedState,E=i.getDerivedStateFromProps,typeof E=="function"&&(xl(t,i,E,l),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Lo.enqueueReplaceState(d,d.state,null),fe(t,l,d,u),q(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var S=t.memoizedProps,H=si(i,S);d.props=H;var X=d.context,te=i.contextType;E=Qi,typeof te=="object"&&te!==null&&(E=It(te));var oe=i.getDerivedStateFromProps;te=typeof oe=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||X!==E)&&Ec(t,d,l,E),wa=!1;var ue=t.memoizedState;d.state=ue,fe(t,l,d,u),q(),X=t.memoizedState,S||ue!==X||wa?(typeof oe=="function"&&(xl(t,i,oe,l),X=t.memoizedState),(H=wa||Bc(t,i,H,l,ue,X,E))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=X),d.props=l,d.state=X,d.context=E,l=H):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,ti(e,t),E=t.memoizedProps,te=si(i,E),d.props=te,oe=t.pendingProps,ue=d.context,X=i.contextType,H=Qi,typeof X=="object"&&X!==null&&(H=It(X)),S=i.getDerivedStateFromProps,(X=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==oe||ue!==H)&&Ec(t,d,l,H),wa=!1,ue=t.memoizedState,d.state=ue,fe(t,l,d,u),q();var He=t.memoizedState;E!==oe||ue!==He||wa||e!==null&&e.dependencies!==null&&Cr(e.dependencies)?(typeof S=="function"&&(xl(t,i,S,l),He=t.memoizedState),(te=wa||Bc(t,i,te,l,ue,He,H)||e!==null&&e.dependencies!==null&&Cr(e.dependencies))?(X||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,He,H),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,He,H)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&ue===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ue===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=He),d.props=l,d.state=He,d.context=H,l=te):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&ue===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&ue===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Hs(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=pi(t,e.child,null,u),t.child=pi(t,null,i,u)):Ht(e,t,i,u),t.memoizedState=d.state,e=t.child):e=oa(e,t,u),e}function xc(e,t,i,l){return Jn(),t.flags|=256,Ht(e,t,i,l),t.child}function Ol(e){return{baseLanes:e,cachePool:Ic()}}function Nl(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Mn),e}function Gc(e,t,i){var l=t.pendingProps,u=!1,d=(t.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(Mt.current&2)!==0),E&&(u=!0,t.flags&=-129),E=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(u?Xn(t):qt(),je){var S=wt,H;(H=S)&&(S=_m(S,Vn),S!==null?(t.memoizedState={dehydrated:S,treeContext:hi!==null?{id:ha,overflow:pa}:null,retryLane:536870912},H=s(18,null,null,0),H.stateNode=S,H.return=t,t.child=H,Xt=t,wt=null,H=!0):H=!1),H||St(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return To(S)?t.lanes=16:t.lanes=536870912,null;be(t)}return S=l.children,l=l.fallback,u?(qt(),u=t.mode,S=Il({mode:"hidden",children:S},u),l=ci(l,u,i,null),S.return=t,l.return=t,S.sibling=l,t.child=S,u=t.child,u.memoizedState=Ol(i),u.childLanes=Nl(e,E,i),t.memoizedState=zo,l):(Xn(t),Fl(t,S))}if(H=e.memoizedState,H!==null&&(S=H.dehydrated,S!==null)){if(d)t.flags&256?(Xn(t),t.flags&=-257,t=Ll(e,t,i)):t.memoizedState!==null?(qt(),t.child=e.child,t.flags|=128,t=null):(qt(),u=l.fallback,S=t.mode,l=Il({mode:"visible",children:l.children},S),u=ci(u,S,i,null),u.flags|=2,l.return=t,u.return=t,l.sibling=u,t.child=l,pi(t,e.child,null,i),l=t.child,l.memoizedState=Ol(i),l.childLanes=Nl(e,E,i),t.memoizedState=zo,t=u);else if(Xn(t),To(S))E=Cm(S).digest,l=Error(o(419)),l.stack="",l.digest=E,Gn({value:l,source:null,stack:null}),t=Ll(e,t,i);else if(Rt||xs(e,t,i,!1),E=(i&e.childLanes)!==0,Rt||E){if(E=st,E!==null){if(l=i&-i,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|i))!==0?0:l,l!==0&&l!==H.retryLane)throw H.retryLane=l,en(e,l),Qt(E,e,l),od}Mo(S)||ro(),t=Ll(e,t,i)}else Mo(S)?(t.flags|=128,t.child=e.child,t=Mp.bind(null,e),ym(S,t),t=null):(e=H.treeContext,gn&&(wt=bm(S),Xt=t,je=!0,Fn=null,Vn=!1,e!==null&&(En[Cn++]=ha,En[Cn++]=pa,En[Cn++]=hi,ha=e.id,pa=e.overflow,hi=t)),t=Fl(t,l.children),t.flags|=4096);return t}return u?(qt(),u=l.fallback,S=t.mode,H=e.child,d=H.sibling,l=Na(H,{mode:"hidden",children:l.children}),l.subtreeFlags=H.subtreeFlags&31457280,d!==null?u=Na(d,u):(u=ci(u,S,i,null),u.flags|=2),u.return=t,l.return=t,l.sibling=u,t.child=l,l=u,u=t.child,S=e.child.memoizedState,S===null?S=Ol(i):(H=S.cachePool,H!==null?(d=da?pt._currentValue:pt._currentValue2,H=H.parent!==d?{parent:d,pool:d}:H):H=Ic(),S={baseLanes:S.baseLanes|i,cachePool:H}),u.memoizedState=S,u.childLanes=Nl(e,E,i),t.memoizedState=zo,l):(Xn(t),i=e.child,e=i.sibling,i=Na(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(E=t.deletions,E===null?(t.deletions=[e],t.flags|=16):E.push(e)),t.child=i,t.memoizedState=null,i)}function Fl(e,t){return t=Il({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Il(e,t){return Sf(e,t,0,null)}function Ll(e,t,i){return pi(t,e.child,null,i),e=Fl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uc(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Jl(e.return,t,i)}function zl(e,t,i,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=u)}function Oc(e,t,i){var l=t.pendingProps,u=l.revealOrder,d=l.tail;if(Ht(e,t,l.children,i),l=Mt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uc(e,i,t);else if(e.tag===19)Uc(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(T(Mt,l),u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&ii(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),zl(t,!1,u,i,d);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ii(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}zl(t,!0,i,null,d);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oa(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ka|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(xs(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,i=Na(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Na(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function wl(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Cr(e)))}function hp(e,t,i){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),xa(t,pt,e.memoizedState.cache),Jn();break;case 27:case 5:Ue(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:xa(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Xn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Gc(e,t,i):(Xn(t),e=oa(e,t,i),e!==null?e.sibling:null);Xn(t);break;case 19:var u=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(xs(e,t,i,!1),l=(i&t.childLanes)!==0),u){if(l)return Oc(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),T(Mt,Mt.current),l)break;return null;case 22:case 23:return t.lanes=0,Rc(e,t,i);case 24:xa(t,pt,e.memoizedState.cache)}return oa(e,t,i)}function Nc(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Rt=!0;else{if(!wl(e,i)&&(t.flags&128)===0)return Rt=!1,hp(e,t,i);Rt=(e.flags&131072)!==0}else Rt=!1,je&&(t.flags&1048576)!==0&&Se(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,u=l._init;if(l=u(l._payload),t.type=l,typeof l=="function")uo(l)?(e=si(l,e),t.tag=1,t=Hc(null,t,l,e,i)):(t.tag=0,t=Ul(null,t,l,e,i));else{if(l!=null){if(u=l.$$typeof,u===vo){t.tag=11,t=Mc(null,t,l,e,i);break e}else if(u===Bo){t.tag=14,t=Tc(null,t,l,e,i);break e}}throw t=f(l)||l,Error(o(306,t,""))}}return t;case 0:return Ul(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,u=si(l,t.pendingProps),Hc(e,t,l,u,i);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(o(387));var d=t.pendingProps;u=t.memoizedState,l=u.element,ti(e,t),fe(t,d,null,i);var E=t.memoizedState;if(d=E.cache,xa(t,pt,d),d!==u.cache&&jl(t,[pt],i,!0),q(),d=E.element,gn&&u.isDehydrated)if(u={element:d,isDehydrated:!1,cache:E.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=xc(e,t,d,i);break e}else if(d!==l){l=ve(Error(o(424)),t),Gn(l),t=xc(e,t,d,i);break e}else for(gn&&(wt=Tm(t.stateNode.containerInfo),Xt=t,je=!0,Fn=null,Vn=!0),i=rd(t,null,d,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Jn(),d===l){t=oa(e,t,i);break e}Ht(e,t,d,i)}t=t.child}return t;case 26:if(Bn)return Hs(e,t),e===null?(i=qf(t.type,null,t.pendingProps,null))?t.memoizedState=i:je||(t.stateNode=Jm(t.type,t.pendingProps,za.current,t)):t.memoizedState=qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(zt)return Ue(t),e===null&&zt&&je&&(l=t.stateNode=nd(t.type,t.pendingProps,za.current,xt.current,!1),Xt=t,Vn=!0,wt=Yf(l)),l=t.pendingProps.children,e!==null||je?Ht(e,t,l,i):t.child=pi(t,null,l,i),Hs(e,t),t.child;case 5:return e===null&&je&&(Lm(t.type,t.pendingProps,xt.current),(u=l=wt)&&(l=Rm(l,t.type,t.pendingProps,Vn),l!==null?(t.stateNode=l,Xt=t,wt=Yf(l),Vn=!1,u=!0):u=!1),u||St(t)),Ue(t),u=t.type,d=t.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,xr(u,d)?l=null:E!==null&&xr(u,E)&&(t.flags|=32),t.memoizedState!==null&&(u=C(e,t,w,null,null,i),da?di._currentValue=u:di._currentValue2=u),Hs(e,t),Ht(e,t,l,i),t.child;case 6:return e===null&&je&&(zm(t.pendingProps,xt.current),(e=i=wt)&&(i=Dm(i,t.pendingProps,Vn),i!==null?(t.stateNode=i,Xt=t,wt=null,e=!0):e=!1),e||St(t)),null;case 13:return Gc(e,t,i);case 4:return De(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=pi(t,null,l,i):Ht(e,t,l,i),t.child;case 11:return Mc(e,t,t.type,t.pendingProps,i);case 7:return Ht(e,t,t.pendingProps,i),t.child;case 8:return Ht(e,t,t.pendingProps.children,i),t.child;case 12:return Ht(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,xa(t,t.type,l.value),Ht(e,t,l.children,i),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ri(t),u=It(u),l=l(u),t.flags|=1,Ht(e,t,l,i),t.child;case 14:return Tc(e,t,t.type,t.pendingProps,i);case 15:return bc(e,t,t.type,t.pendingProps,i);case 19:return Oc(e,t,i);case 22:return Rc(e,t,i);case 24:return ri(t),l=It(pt),e===null?(u=Pl(),u===null&&(u=st,d=Kl(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=i),u=d),t.memoizedState={parent:l,cache:u},Ra(t),xa(t,pt,u)):((e.lanes&i)!==0&&(ti(e,t),fe(t,null,null,i),q()),u=e.memoizedState,d=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),xa(t,pt,l)):(l=d.cache,xa(t,pt,l),l!==u.cache&&jl(t,[pt],i,!0))),Ht(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function xa(e,t,i){da?(T(Pr,t._currentValue),t._currentValue=i):(T(Pr,t._currentValue2),t._currentValue2=i)}function ua(e){var t=Pr.current;da?e._currentValue=t:e._currentValue2=t,R(Pr)}function Jl(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function jl(e,t,i,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var E=u.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=u;for(var H=0;H<t.length;H++)if(S.context===t[H]){d.lanes|=i,S=d.alternate,S!==null&&(S.lanes|=i),Jl(d.return,i,e),l||(E=null);break e}d=S.next}}else if(u.tag===18){if(E=u.return,E===null)throw Error(o(341));E.lanes|=i,d=E.alternate,d!==null&&(d.lanes|=i),Jl(E,i,e),E=null}else E=u.child;if(E!==null)E.return=u;else for(E=u;E!==null;){if(E===e){E=null;break}if(u=E.sibling,u!==null){u.return=E.return,E=u;break}E=E.return}u=E}}function xs(e,t,i,l){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var E=u.alternate;if(E===null)throw Error(o(387));if(E=E.memoizedProps,E!==null){var S=u.type;dn(u.pendingProps.value,E.value)||(e!==null?e.push(S):e=[S])}}else if(u===Ir.current){if(E=u.alternate,E===null)throw Error(o(387));E.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(di):e=[di])}u=u.return}e!==null&&jl(t,e,i,l),t.flags|=262144}function Cr(e){for(e=e.firstContext;e!==null;){var t=e.context;if(!dn(da?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function ri(e){gi=e,ma=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function It(e){return Fc(gi,e)}function yr(e,t){return gi===null&&ri(e),Fc(e,t)}function Fc(e,t){var i=da?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:i,next:null},ma===null){if(e===null)throw Error(o(308));ma=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ma=ma.next=t;return i}function Kl(){return{controller:new iv,data:new Map,refCount:0}}function Gs(e){e.refCount--,e.refCount===0&&sv(rv,function(){e.controller.abort()})}function Pl(){var e=Bi.current;return e!==null?e:st.pooledCache}function Sr(e,t){t===null?T(Bi,Bi.current):T(Bi,t.pool)}function Ic(){var e=Pl();return e===null?null:{parent:da?pt._currentValue:pt._currentValue2,pool:e}}function sn(e){e.flags|=4}function Lc(e,t){if(e!==null&&e.child===t.child)return!1;if((t.flags&16)!==0)return!0;for(e=t.child;e!==null;){if((e.flags&13878)!==0||(e.subtreeFlags&13878)!==0)return!0;e=e.sibling}return!1}function Ql(e,t,i,l){if(Lt)for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)yo(e,i.stateNode);else if(!(i.tag===4||zt&&i.tag===27)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}else if(La)for(var u=t.child;u!==null;){if(u.tag===5){var d=u.stateNode;i&&l&&(d=Pf(d,u.type,u.memoizedProps)),yo(e,d)}else if(u.tag===6)d=u.stateNode,i&&l&&(d=Qf(d,u.memoizedProps)),yo(e,d);else if(u.tag!==4){if(u.tag===22&&u.memoizedState!==null)d=u.child,d!==null&&(d.return=u),Ql(e,u,!0,!0);else if(u.child!==null){u.child.return=u,u=u.child;continue}}if(u===t)break;for(;u.sibling===null;){if(u.return===null||u.return===t)return;u=u.return}u.sibling.return=u.return,u=u.sibling}}function zc(e,t,i,l){if(La)for(var u=t.child;u!==null;){if(u.tag===5){var d=u.stateNode;i&&l&&(d=Pf(d,u.type,u.memoizedProps)),jf(e,d)}else if(u.tag===6)d=u.stateNode,i&&l&&(d=Qf(d,u.memoizedProps)),jf(e,d);else if(u.tag!==4){if(u.tag===22&&u.memoizedState!==null)d=u.child,d!==null&&(d.return=u),zc(e,u,!(u.memoizedProps!==null&&u.memoizedProps.mode==="manual"),!0);else if(u.child!==null){u.child.return=u,u=u.child;continue}}if(u===t)break;for(;u.sibling===null;){if(u.return===null||u.return===t)return;u=u.return}u.sibling.return=u.return,u=u.sibling}}function wc(e,t){if(La&&Lc(e,t)){e=t.stateNode;var i=e.containerInfo,l=Jf();zc(l,t,!1,!1),e.pendingChildren=l,sn(t),Em(i,l)}}function Xl(e,t,i,l){if(Lt)e.memoizedProps!==l&&sn(t);else if(La){var u=e.stateNode,d=e.memoizedProps;if((e=Lc(e,t))||d!==l){var E=xt.current;d=Bm(u,i,d,l,!e,null),d===u?t.stateNode=u:(Nf(d,i,l,E)&&sn(t),t.stateNode=d,e?Ql(d,t,!1,!1):sn(t))}else t.stateNode=u}}function Yl(e,t,i){if(Yp(t,i)){if(e.flags|=16777216,!Lf(t,i))if(df())e.flags|=8192;else throw $i=wr,Fo}else e.flags&=-16777217}function Jc(e,t){if(Km(t)){if(e.flags|=16777216,!td(t))if(df())e.flags|=8192;else throw $i=wr,Fo}else e.flags&=-16777217}function Mr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?K():536870912,e.lanes|=t,rs|=t)}function Us(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags&31457280,l|=u.flags&31457280,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function pp(e,t,i){var l=t.pendingProps;switch(xe(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ua(pt),ct(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(wn(t)?sn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fn!==null&&(io(Fn),Fn=null))),wc(e,t),dt(t),null;case 26:if(Bn){i=t.type;var u=t.memoizedState;return e===null?(sn(t),u!==null?(dt(t),Jc(t,u)):(dt(t),Yl(t,i,l))):u?u!==e.memoizedState?(sn(t),dt(t),Jc(t,u)):(dt(t),t.flags&=-16777217):(Lt?e.memoizedProps!==l&&sn(t):Xl(e,t,i,l),dt(t),Yl(t,i,l)),null}case 27:if(zt){if(Ut(t),i=za.current,u=t.type,e!==null&&t.stateNode!=null)Lt?e.memoizedProps!==l&&sn(t):Xl(e,t,u,l);else{if(!l){if(t.stateNode===null)throw Error(o(166));return dt(t),null}e=xt.current,wn(t)?Ui(t,e):(e=nd(u,l,i,e,!0),t.stateNode=e,sn(t))}return dt(t),null}case 5:if(Ut(t),i=t.type,e!==null&&t.stateNode!=null)Xl(e,t,i,l);else{if(!l){if(t.stateNode===null)throw Error(o(166));return dt(t),null}e=xt.current,wn(t)?Ui(t,e):(u=wp(i,l,za.current,e,t),Ql(u,t,!1,!1),t.stateNode=u,Nf(u,i,l,e)&&sn(t))}return dt(t),Yl(t,t.type,t.pendingProps),null;case 6:if(e&&t.stateNode!=null)i=e.memoizedProps,Lt?i!==l&&sn(t):La&&(i!==l?(t.stateNode=Ff(l,za.current,xt.current,t),sn(t)):t.stateNode=e.stateNode);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=za.current,i=xt.current,wn(t)){if(!gn)throw Error(o(176));if(e=t.stateNode,i=t.memoizedProps,l=null,u=Xt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}xm(e,i,t,l)||St(t)}else t.stateNode=Ff(l,e,i,t)}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=wn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(!gn)throw Error(o(344));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Gm(u,t)}else Jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),u=!1}else Fn!==null&&(io(Fn),Fn=null),u=!0;if(!u)return t.flags&256?(be(t),t):(be(t),null)}if(be(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Mr(t,t.updateQueue),dt(t),null;case 4:return ct(),wc(e,t),e===null&&Kp(t.stateNode.containerInfo),dt(t),null;case 10:return ua(t.type),dt(t),null;case 19:if(R(Mt),u=t.memoizedState,u===null)return dt(t),null;if(l=(t.flags&128)!==0,d=u.rendering,d===null)if(l)Us(u,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ii(e),d!==null){for(t.flags|=128,Us(u,!1),e=d.updateQueue,t.updateQueue=e,Mr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)yf(i,e),i=i.sibling;return T(Mt,Mt.current&1|2),t.child}e=e.sibling}u.tail!==null&&Nn()>Zs&&(t.flags|=128,l=!0,Us(u,!1),t.lanes=4194304)}else{if(!l)if(e=ii(d),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Mr(t,e),Us(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!je)return dt(t),null}else 2*Nn()-u.renderingStartTime>Zs&&i!==536870912&&(t.flags|=128,l=!0,Us(u,!1),t.lanes=4194304);u.isBackwards?(d.sibling=t.child,t.child=d):(e=u.last,e!==null?e.sibling=d:t.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Nn(),t.sibling=null,e=Mt.current,T(Mt,l?e&1|2:e&1),t):(dt(t),null);case 22:case 23:return be(t),Da(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(i&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),i=t.updateQueue,i!==null&&Mr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&R(Bi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ua(pt),dt(t),null;case 25:return null}throw Error(o(156,t.tag))}function mp(e,t){switch(xe(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ua(pt),ct(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ut(t),null;case 13:if(be(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Mt),null;case 4:return ct(),null;case 10:return ua(t.type),null;case 22:case 23:return be(t),Da(),e!==null&&R(Bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ua(pt),null;case 25:return null;default:return null}}function jc(e,t){switch(xe(t),t.tag){case 3:ua(pt),ct();break;case 26:case 27:case 5:Ut(t);break;case 4:ct();break;case 13:be(t);break;case 19:R(Mt);break;case 10:ua(t.type);break;case 22:case 23:be(t),Da(),e!==null&&R(Bi);break;case 24:ua(pt)}}function Os(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var u=l.next;i=u;do{if((i.tag&e)===e){l=void 0;var d=i.create,E=i.inst;l=d(),E.destroy=l}i=i.next}while(i!==u)}}catch(S){We(t,t.return,S)}}function Ga(e,t,i){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&e)===e){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,u=t;var H=i;try{S()}catch(X){We(u,H,X)}}}l=l.next}while(l!==d)}}catch(X){We(t,t.return,X)}}function Kc(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{ee(t,i)}catch(l){We(e,e.return,l)}}}function Pc(e,t,i){i.props=si(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){We(e,t,l)}}function li(e,t){try{var i=e.ref;if(i!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var u=Is(l);break;default:u=l}typeof i=="function"?e.refCleanup=i(u):i.current=u}}catch(d){We(e,t,d)}}function rn(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(u){We(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){We(e,t,u)}else i.current=null}function Qc(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{om(l,t,i,e)}catch(u){We(e,e.return,u)}}function Xc(e,t,i){try{um(e.stateNode,e.type,i,t,e)}catch(l){We(e,e.return,l)}}function Yc(e){return e.tag===5||e.tag===3||(Bn?e.tag===26:!1)||(zt?e.tag===27:!1)||e.tag===4}function Zl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&(!zt||e.tag!==27)&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?fm(i,e,t):rm(i,e);else if(!(l===4||zt&&l===27)&&(e=e.child,e!==null))for(Vl(e,t,i),e=e.sibling;e!==null;)Vl(e,t,i),e=e.sibling}function Tr(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?cm(i,e,t):sm(i,e);else if(!(l===4||zt&&l===27)&&(e=e.child,e!==null))for(Tr(e,t,i),e=e.sibling;e!==null;)Tr(e,t,i),e=e.sibling}function Zc(e,t,i){e=e.containerInfo;try{Kf(e,i)}catch(l){We(t,t.return,l)}}function vp(e,t){for(Lp(e.containerInfo),Dt=t;Dt!==null;)if(e=Dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Dt=t;else for(;Dt!==null;){e=Dt;var i=e.alternate;switch(t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&i!==null){t=void 0;var l=e,u=i.memoizedProps;i=i.memoizedState;var d=l.stateNode;try{var E=si(l.type,u,l.elementType===l.type);t=d.getSnapshotBeforeUpdate(E,i),d.__reactInternalSnapshotBeforeUpdate=t}catch(S){We(l,l.return,S)}}break;case 3:(t&1024)!==0&&Lt&&gm(e.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,Dt=t;break}Dt=e.return}return E=fd,fd=!1,E}function Vc(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:ca(e,i),l&4&&Os(5,i);break;case 1:if(ca(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(S){We(i,i.return,S)}else{var u=si(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){We(i,i.return,S)}}l&64&&Kc(i),l&512&&li(i,i.return);break;case 3:if(ca(e,i),l&64&&(l=i.updateQueue,l!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=Is(i.child.stateNode);break;case 1:e=i.child.stateNode}try{ee(l,e)}catch(S){We(i,i.return,S)}}break;case 26:if(Bn){ca(e,i),l&512&&li(i,i.return);break}case 27:case 5:ca(e,i),t===null&&l&4&&Qc(i),l&512&&li(i,i.return);break;case 12:ca(e,i);break;case 13:ca(e,i),l&4&&kc(e,i);break;case 22:if(u=i.memoizedState!==null||va,!u){t=t!==null&&t.memoizedState!==null||mt;var d=va,E=mt;va=u,(mt=t)&&!E?Ua(e,i,(i.subtreeFlags&8772)!==0):ca(e,i),va=d,mt=E}l&512&&(i.memoizedProps.mode==="manual"?li(i,i.return):rn(i,i.return));break;default:ca(e,i)}}function qc(e){var t=e.alternate;t!==null&&(e.alternate=null,qc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function On(e,t,i){for(i=i.child;i!==null;)ql(e,t,i),i=i.sibling}function ql(e,t,i){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ws,i)}catch{}switch(i.tag){case 26:if(Bn){mt||rn(i,t),On(e,t,i),i.memoizedState?Wf(i.memoizedState):i.stateNode&&ed(i.stateNode);break}case 27:if(zt){mt||rn(i,t);var l=yt,u=hn;yt=i.stateNode,On(e,t,i),Ym(i.stateNode),yt=l,hn=u;break}case 5:mt||rn(i,t);case 6:if(Lt){if(l=yt,u=hn,yt=null,On(e,t,i),yt=l,hn=u,yt!==null)if(hn)try{hm(yt,i.stateNode)}catch(d){We(i,t,d)}else try{dm(yt,i.stateNode)}catch(d){We(i,t,d)}}else On(e,t,i);break;case 18:Lt&&yt!==null&&(hn?Im(yt,i.stateNode):Fm(yt,i.stateNode));break;case 4:Lt?(l=yt,u=hn,yt=i.stateNode.containerInfo,hn=!0,On(e,t,i),yt=l,hn=u):(La&&Zc(i.stateNode,i,Jf()),On(e,t,i));break;case 0:case 11:case 14:case 15:mt||Ga(2,i,t),mt||Ga(4,i,t),On(e,t,i);break;case 1:mt||(rn(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Pc(i,t,l)),On(e,t,i);break;case 21:On(e,t,i);break;case 22:mt||rn(i,t),mt=(l=mt)||i.memoizedState!==null,On(e,t,i),mt=l;break;default:On(e,t,i)}}function kc(e,t){if(gn&&t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nm(e)}catch(i){We(t,t.return,i)}}function Ap(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cd),t;default:throw Error(o(435,e.tag))}}function kl(e,t){var i=Ap(e);t.forEach(function(l){var u=Tp.bind(null,e,l);i.has(l)||(i.add(l),l.then(u,u))})}function kt(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var u=i[l],d=e,E=t;if(Lt){var S=E;e:for(;S!==null;){switch(S.tag){case 27:case 5:yt=S.stateNode,hn=!1;break e;case 3:yt=S.stateNode.containerInfo,hn=!0;break e;case 4:yt=S.stateNode.containerInfo,hn=!0;break e}S=S.return}if(yt===null)throw Error(o(160));ql(d,E,u),yt=null,hn=!1}else ql(d,E,u);d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Wc(t,e),t=t.sibling}function Wc(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kt(t,e),ln(e),l&4&&(Ga(3,e,e.return),Os(3,e),Ga(5,e,e.return));break;case 1:kt(t,e),ln(e),l&512&&(mt||i===null||rn(i,i.return)),l&64&&va&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:if(Bn){var u=In;kt(t,e),ln(e),l&512&&(mt||i===null||rn(i,i.return)),l&4&&(l=i!==null?i.memoizedState:null,t=e.memoizedState,i===null?t===null?e.stateNode===null?e.stateNode=wm(u,e.type,e.memoizedProps,e):$f(u,e.type,e.stateNode):e.stateNode=kf(u,t,e.memoizedProps):l!==t?(l===null?i.stateNode!==null&&ed(i.stateNode):Wf(l),t===null?$f(u,e.type,e.stateNode):kf(u,t,e.memoizedProps)):t===null&&e.stateNode!==null&&Xc(e,e.memoizedProps,i.memoizedProps));break}case 27:if(zt&&l&4&&e.alternate===null){u=e.stateNode;var d=e.memoizedProps;try{Qm(u),Xm(e.type,d,u,e)}catch(te){We(e,e.return,te)}}case 5:if(kt(t,e),ln(e),l&512&&(mt||i===null||rn(i,i.return)),Lt){if(e.flags&32){t=e.stateNode;try{wf(t)}catch(te){We(e,e.return,te)}}l&4&&e.stateNode!=null&&(t=e.memoizedProps,Xc(e,t,i!==null?i.memoizedProps:t)),l&1024&&(wo=!0)}break;case 6:if(kt(t,e),ln(e),l&4&&Lt){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,i=i!==null?i.memoizedProps:l,t=e.stateNode;try{lm(t,i,l)}catch(te){We(e,e.return,te)}}break;case 3:if(Bn?(jm(),u=In,In=bo(t.containerInfo),kt(t,e),In=u):kt(t,e),ln(e),l&4){if(Lt&&gn&&i!==null&&i.memoizedState.isDehydrated)try{Om(t.containerInfo)}catch(te){We(e,e.return,te)}if(La){l=t.containerInfo,i=t.pendingChildren;try{Kf(l,i)}catch(te){We(e,e.return,te)}}}wo&&(wo=!1,$c(e));break;case 4:Bn?(i=In,In=bo(e.stateNode.containerInfo),kt(t,e),ln(e),In=i):(kt(t,e),ln(e)),l&4&&La&&Zc(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:kt(t,e),ln(e);break;case 13:kt(t,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Po=Nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kl(e,l)));break;case 22:l&512&&(mt||i===null||rn(i,i.return)),u=e.memoizedState!==null;var E=i!==null&&i.memoizedState!==null,S=va,H=mt;if(va=S||u,mt=H||E,kt(t,e),mt=H,va=S,ln(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,l&8192&&(t._visibility=u?t._visibility&-2:t._visibility|1,u&&(t=va||mt,i===null||E||t||Ii(e)),Lt&&(e.memoizedProps===null||e.memoizedProps.mode!=="manual"))){e:if(i=null,Lt)for(t=e;;){if(t.tag===5||Bn&&t.tag===26||zt&&t.tag===27){if(i===null){E=i=t;try{d=E.stateNode,u?pm(d):vm(E.stateNode,E.memoizedProps)}catch(te){We(E,E.return,te)}}}else if(t.tag===6){if(i===null){E=t;try{var X=E.stateNode;u?mm(X):Am(X,E.memoizedProps)}catch(te){We(E,E.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,kl(e,i))));break;case 19:kt(t,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,kl(e,l)));break;case 21:break;default:kt(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{if(Lt&&(!zt||e.tag!==27)){e:{for(var i=e.return;i!==null;){if(Yc(i)){var l=i;break e}i=i.return}throw Error(o(160))}switch(l.tag){case 27:if(zt){var u=l.stateNode,d=Zl(e);Tr(e,d,u);break}case 5:var E=l.stateNode;l.flags&32&&(wf(E),l.flags&=-33);var S=Zl(e);Tr(e,S,E);break;case 3:case 4:var H=l.stateNode.containerInfo,X=Zl(e);Vl(e,X,H);break;default:throw Error(o(161))}}}catch(te){We(e,e.return,te)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $c(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$c(t),t.tag===5&&t.flags&1024&&qp(t.stateNode),e=e.sibling}}function ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vc(e,t.alternate,t),t=t.sibling}function Ii(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ga(4,t,t.return),Ii(t);break;case 1:rn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Pc(t,t.return,i),Ii(t);break;case 26:case 27:case 5:rn(t,t.return),Ii(t);break;case 22:rn(t,t.return),t.memoizedState===null&&Ii(t);break;default:Ii(t)}e=e.sibling}}function Ua(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,d=t,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ua(u,d,i),Os(4,d);break;case 1:if(Ua(u,d,i),l=d,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(X){We(l,l.return,X)}if(l=d,u=l.updateQueue,u!==null){var S=l.stateNode;try{var H=u.shared.hiddenCallbacks;if(H!==null)for(u.shared.hiddenCallbacks=null,u=0;u<H.length;u++)Ie(H[u],S)}catch(X){We(l,l.return,X)}}i&&E&64&&Kc(d),li(d,d.return);break;case 26:case 27:case 5:Ua(u,d,i),i&&l===null&&E&4&&Qc(d),li(d,d.return);break;case 12:Ua(u,d,i);break;case 13:Ua(u,d,i),i&&E&4&&kc(u,d);break;case 22:d.memoizedState===null&&Ua(u,d,i),li(d,d.return);break;default:Ua(u,d,i)}t=t.sibling}}function Wl(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Gs(i))}function $l(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gs(e))}function Oa(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ef(e,t,i,l),t=t.sibling}function ef(e,t,i,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Oa(e,t,i,l),u&2048&&Os(9,t);break;case 3:Oa(e,t,i,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gs(e)));break;case 12:if(u&2048){Oa(e,t,i,l),e=t.stateNode;try{var d=t.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){We(t,t.return,H)}}else Oa(e,t,i,l);break;case 23:break;case 22:d=t.stateNode,t.memoizedState!==null?d._visibility&4?Oa(e,t,i,l):Ns(e,t):d._visibility&4?Oa(e,t,i,l):(d._visibility|=4,Li(e,t,i,l,(t.subtreeFlags&10256)!==0)),u&2048&&Wl(t.alternate,t);break;case 24:Oa(e,t,i,l),u&2048&&$l(t.alternate,t);break;default:Oa(e,t,i,l)}}function Li(e,t,i,l,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,E=t,S=i,H=l,X=E.flags;switch(E.tag){case 0:case 11:case 15:Li(d,E,S,H,u),Os(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&4?Li(d,E,S,H,u):Ns(d,E):(te._visibility|=4,Li(d,E,S,H,u)),u&&X&2048&&Wl(E.alternate,E);break;case 24:Li(d,E,S,H,u),u&&X&2048&&$l(E.alternate,E);break;default:Li(d,E,S,H,u)}t=t.sibling}}function Ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,u=l.flags;switch(l.tag){case 22:Ns(i,l),u&2048&&Wl(l.alternate,l);break;case 24:Ns(i,l),u&2048&&$l(l.alternate,l);break;default:Ns(i,l)}t=t.sibling}}function oi(e){if(e.subtreeFlags&is)for(e=e.child;e!==null;)tf(e),e=e.sibling}function tf(e){switch(e.tag){case 26:oi(e),e.flags&is&&(e.memoizedState!==null?Pm(In,e.memoizedState,e.memoizedProps):zf(e.type,e.memoizedProps));break;case 5:oi(e),e.flags&is&&zf(e.type,e.memoizedProps);break;case 3:case 4:if(Bn){var t=In;In=bo(e.stateNode.containerInfo),oi(e),In=t}else oi(e);break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=is,is=16777216,oi(e),is=t):oi(e));break;default:oi(e)}}function nf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];Dt=l,sf(l,e)}nf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)af(e),e=e.sibling}function af(e){switch(e.tag){case 0:case 11:case 15:Fs(e),e.flags&2048&&Ga(9,e,e.return);break;case 3:Fs(e);break;case 12:Fs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,br(e)):Fs(e);break;default:Fs(e)}}function br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];Dt=l,sf(l,e)}nf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ga(8,t,t.return),br(t);break;case 22:i=t.stateNode,i._visibility&4&&(i._visibility&=-5,br(t));break;default:br(t)}e=e.sibling}}function sf(e,t){for(;Dt!==null;){var i=Dt;switch(i.tag){case 0:case 11:case 15:Ga(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gs(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Dt=l;else e:for(i=e;Dt!==null;){l=Dt;var u=l.sibling,d=l.return;if(qc(l),l===i){Dt=null;break e}if(u!==null){u.return=d,Dt=u;break e}Dt=d}}}function eo(e){var t=If(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(o(364));return t}if(e=$p(e),e===null)throw Error(o(362));return e.stateNode.current}function to(e,t){var i=e.tag;switch(t.$$typeof){case Qr:if(e.type===t.value)return!0;break;case Xr:e:{for(t=t.value,e=[e,0],i=0;i<e.length;){var l=e[i++],u=l.tag,d=e[i++],E=t[d];if(u!==5&&u!==26&&u!==27||!zs(l)){for(;E!=null&&to(l,E);)d++,E=t[d];if(d===t.length){t=!0;break e}else for(l=l.child;l!==null;)e.push(l,d),l=l.sibling}}t=!1}return t;case Yr:if((i===5||i===26||i===27)&&nm(e.stateNode,t.value))return!0;break;case Vr:if((i===5||i===6||i===26||i===27)&&(e=tm(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case Zr:if((i===5||i===26||i===27)&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function no(e){switch(e.$$typeof){case Qr:return"<"+(f(e.value)||"Unknown")+">";case Xr:return":has("+(no(e)||"")+")";case Yr:return'[role="'+e.value+'"]';case Vr:return'"'+e.value+'"';case Zr:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function rf(e,t){var i=[];e=[e,0];for(var l=0;l<e.length;){var u=e[l++],d=u.tag,E=e[l++],S=t[E];if(d!==5&&d!==26&&d!==27||!zs(u)){for(;S!=null&&to(u,S);)E++,S=t[E];if(E===t.length)i.push(u);else for(u=u.child;u!==null;)e.push(u,E),u=u.sibling}}return i}function ao(e,t){if(!Ls)throw Error(o(363));e=eo(e),e=rf(e,t),t=[],e=Array.from(e);for(var i=0;i<e.length;){var l=e[i++],u=l.tag;if(u===5||u===26||u===27)zs(l)||t.push(l.stateNode);else for(l=l.child;l!==null;)e.push(l),l=l.sibling}return t}function on(){if((tt&2)!==0&&ze!==0)return ze&-ze;if(Re.T!==null){var e=ki;return e!==0?e:Ta()}return Pp()}function lf(){Mn===0&&(Mn=(ze&536870912)===0||je?I():536870912);var e=Sn.current;return e!==null&&(e.flags|=32),Mn}function Qt(e,t,i){(e===st&&rt===2||e.cancelPendingCommit!==null)&&(zi(e,0),fa(e,ze,Mn,!1)),le(e,i),((tt&2)===0||e!==st)&&(e===st&&((tt&2)===0&&(Ei|=i),vt===4&&fa(e,ze,Mn,!1)),Zt(e))}function of(e,t,i){if((tt&6)!==0)throw Error(o(327));var l=!i&&(t&60)===0&&(t&e.expiredLanes)===0||L(e,t),u=l?Ep(e,t):lo(e,t,!0),d=l;do{if(u===0){ss&&!l&&fa(e,t,0,!1);break}else if(u===6)fa(e,t,0,!Aa);else{if(i=e.current.alternate,d&&!gp(i)){u=lo(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){t=E;e:{var S=e;u=Ys;var H=gn&&S.current.memoizedState.isDehydrated;if(H&&(zi(S,E).flags|=256),E=lo(S,E,!1),E!==2){if(Jo&&!H){S.errorRecoveryDisabledLanes|=d,Ei|=d,u=4;break e}d=Wn,Wn=u,d!==null&&io(d)}u=E}if(d=!1,u!==2)continue}}if(u===1){zi(e,0),fa(e,t,0,!0);break}e:{switch(l=e,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194176)===t){fa(l,t,Mn,!Aa);break e}break;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(o(329))}if(l.finishedWork=i,l.finishedLanes=t,(t&62914560)===t&&(d=Po+300-Nn(),10<d)){if(fa(l,t,Mn,!Aa),P(l,0)!==0)break e;l.timeoutHandle=Jp(uf.bind(null,l,i,Wn,qr,Ko,t,Mn,Ei,rs,Aa,2,-0,0),d);break e}uf(l,i,Wn,qr,Ko,t,Mn,Ei,rs,Aa,0,-0,0)}}break}while(!0);Zt(e)}function io(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function uf(e,t,i,l,u,d,E,S,H,X,te,oe,ue){var He=t.subtreeFlags;if((He&8192||(He&16785408)===16785408)&&(Zp(),tf(t),t=Vp(),t!==null)){e.cancelPendingCommit=t(gf.bind(null,e,i,l,u,E,S,H,1,oe,ue)),fa(e,d,E,!X);return}gf(e,i,l,u,E,S,H,te,oe,ue)}function gp(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var u=i[l],d=u.getSnapshot;u=u.value;try{if(!dn(d(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fa(e,t,i,l){t&=~jo,t&=~Ei,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var d=31-cn(u),E=1<<d;l[d]=-1,u&=~E}i!==0&&ie(e,i,t)}function cf(){return(tt&6)===0?(Kn(0),!1):!0}function so(){if(Ne!==null){if(rt===0)var e=Ne.return;else e=Ne,ma=gi=null,V(e),es=null,Ps=0,e=Ne;for(;e!==null;)jc(e.alternate,e),e=e.return;Ne=null}}function zi(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;i!==So&&(e.timeoutHandle=So,jp(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),so(),st=e,Ne=i=Na(e.current,null),ze=t,rt=0,pn=null,Aa=!1,ss=L(e,t),Jo=!1,rs=Mn=jo=Ei=Ka=vt=0,Wn=Ys=null,Ko=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-cn(l),d=1<<u;t|=e[u],l&=~d}return ga=t,jn(),i}function ff(e,t){Ge=null,Re.H=kn,t===Ks?(t=Vt(),rt=3):t===Fo?(t=Vt(),rt=4):rt=t===od?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pn=t,Ne===null&&(vt=1,Er(e,ve(t,e.current)))}function df(){var e=Sn.current;return e===null?!0:(ze&4194176)===ze?qn===null:(ze&62914560)===ze||(ze&536870912)!==0?e===qn:!1}function hf(){var e=Re.H;return Re.H=kn,e===null?kn:e}function pf(){var e=Re.A;return Re.A=lv,e}function ro(){vt=4,Aa||(ze&4194176)!==ze&&Sn.current!==null||(ss=!0),(Ka&134217727)===0&&(Ei&134217727)===0||st===null||fa(st,ze,Mn,!1)}function lo(e,t,i){var l=tt;tt|=2;var u=hf(),d=pf();(st!==e||ze!==t)&&(qr=null,zi(e,t)),t=!1;var E=vt;e:do try{if(rt!==0&&Ne!==null){var S=Ne,H=pn;switch(rt){case 8:so(),E=6;break e;case 3:case 2:case 6:Sn.current===null&&(t=!0);var X=rt;if(rt=0,pn=null,wi(e,S,H,X),i&&ss){E=0;break e}break;default:X=rt,rt=0,pn=null,wi(e,S,H,X)}}Bp(),E=vt;break}catch(te){ff(e,te)}while(!0);return t&&e.shellSuspendCounter++,ma=gi=null,tt=l,Re.H=u,Re.A=d,Ne===null&&(st=null,ze=0,jn()),E}function Bp(){for(;Ne!==null;)mf(Ne)}function Ep(e,t){var i=tt;tt|=2;var l=hf(),u=pf();st!==e||ze!==t?(qr=null,Zs=Nn()+500,zi(e,t)):ss=L(e,t);e:do try{if(rt!==0&&Ne!==null){t=Ne;var d=pn;t:switch(rt){case 1:rt=0,pn=null,wi(e,t,d,1);break;case 2:if(tn(d)){rt=0,pn=null,vf(t);break}t=function(){rt===2&&st===e&&(rt=7),Zt(e)},d.then(t,t);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:tn(d)?(rt=0,pn=null,vf(t)):(rt=0,pn=null,wi(e,t,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var S=Ne,H=S.type,X=S.pendingProps;if(E?td(E):Lf(H,X)){rt=0,pn=null;var te=S.sibling;if(te!==null)Ne=te;else{var oe=S.return;oe!==null?(Ne=oe,Rr(oe)):Ne=null}break t}}rt=0,pn=null,wi(e,t,d,5);break;case 6:rt=0,pn=null,wi(e,t,d,6);break;case 8:so(),vt=6;break e;default:throw Error(o(462))}}Cp();break}catch(ue){ff(e,ue)}while(!0);return ma=gi=null,Re.H=l,Re.A=u,tt=i,Ne!==null?0:(st=null,ze=0,jn(),vt)}function Cp(){for(;Ne!==null&&!qm();)mf(Ne)}function mf(e){var t=Nc(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?Rr(e):Ne=t}function vf(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=_c(i,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=_c(i,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:V(t);default:jc(i,t),t=Ne=yf(t,ga),t=Nc(i,t,ga)}e.memoizedProps=e.pendingProps,t===null?Rr(e):Ne=t}function wi(e,t,i,l){ma=gi=null,V(t),es=null,Ps=0;var u=t.return;try{if(dp(e,u,t,i,ze)){vt=1,Er(e,ve(i,e.current)),Ne=null;return}}catch(d){if(u!==null)throw Ne=u,d;vt=1,Er(e,ve(i,e.current)),Ne=null;return}t.flags&32768?(je||l===1?e=!0:ss||(ze&536870912)!==0?e=!1:(Aa=e=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Af(t,e)):Rr(t)}function Rr(e){var t=e;do{if((t.flags&32768)!==0){Af(t,Aa);return}e=t.return;var i=pp(t.alternate,t,ga);if(i!==null){Ne=i;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);vt===0&&(vt=5)}function Af(e,t){do{var i=mp(e.alternate,e);if(i!==null){i.flags&=32767,Ne=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=i}while(e!==null);vt=6,Ne=null}function gf(e,t,i,l,u,d,E,S,H,X){var te=Re.T,oe=fi();try{Wt(2),Re.T=null,yp(e,t,i,l,oe,u,d,E,S,H,X)}finally{Re.T=te,Wt(oe)}}function yp(e,t,i,l,u,d,E,S){do ui();while(Ci!==null);if((tt&6)!==0)throw Error(o(327));var H=e.finishedWork;if(l=e.finishedLanes,H===null)return null;if(e.finishedWork=null,e.finishedLanes=0,H===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var X=H.lanes|H.childLanes;if(X|=xo,Ee(e,l,X,d,E,S),e===st&&(Ne=st=null,ze=0),(H.subtreeFlags&10256)===0&&(H.flags&10256)===0||kr||(kr=!0,Qo=X,Xo=i,bp(_o,function(){return ui(),null})),i=(H.flags&15990)!==0,(H.subtreeFlags&15990)!==0||i?(i=Re.T,Re.T=null,d=fi(),Wt(2),E=tt,tt|=4,vp(e,H),Wc(H,e),zp(e.containerInfo),e.current=H,Vc(e,H.alternate,H),km(),tt=E,Wt(d),Re.T=i):e.current=H,kr?(kr=!1,Ci=e,Vs=l):Bf(e,X),X=e.pendingLanes,X===0&&(Pa=null),Y(H.stateNode),Zt(e),t!==null)for(u=e.onRecoverableError,H=0;H<t.length;H++)X=t[H],u(X.value,{componentStack:X.stack});return(Vs&3)!==0&&ui(),X=e.pendingLanes,(l&4194218)!==0&&(X&42)!==0?e===Yo?qs++:(qs=0,Yo=e):qs=0,Kn(0),null}function Bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Gs(t)))}function ui(){if(Ci!==null){var e=Ci,t=Qo;Qo=0;var i=ye(Vs),l=32>i?32:i;i=Re.T;var u=fi();try{if(Wt(l),Re.T=null,Ci===null)var d=!1;else{l=Xo,Xo=null;var E=Ci,S=Vs;if(Ci=null,Vs=0,(tt&6)!==0)throw Error(o(331));var H=tt;if(tt|=4,af(E.current),ef(E,E.current,S,l),tt=H,Kn(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ws,E)}catch{}d=!0}return d}finally{Wt(u),Re.T=i,Bf(e,t)}}return!1}function Ef(e,t,i){t=ve(i,t),t=Gl(e.stateNode,t,2),e=it(e,t,2),e!==null&&(le(e,2),Zt(e))}function We(e,t,i){if(e.tag===3)Ef(e,e,i);else for(;t!==null;){if(t.tag===3){Ef(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pa===null||!Pa.has(l))){e=ve(i,e),i=yc(2),l=it(t,i,2),l!==null&&(Sc(i,l,t,e),le(l,2),Zt(l));break}}t=t.return}}function oo(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new ov;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(i)||(Jo=!0,u.add(i),e=Sp.bind(null,e,t,i),t.then(e,e))}function Sp(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,st===e&&(ze&i)===i&&(vt===4||vt===3&&(ze&62914560)===ze&&300>Nn()-Po?(tt&2)===0&&zi(e,0):jo|=i,rs===ze&&(rs=0)),Zt(e)}function Cf(e,t){t===0&&(t=K()),e=en(e,t),e!==null&&(le(e,t),Zt(e))}function Mp(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Cf(e,i)}function Tp(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Cf(e,i)}function bp(e,t){return Or(e,t)}function Rp(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Na(e,t){var i=e.alternate;return i===null?(i=s(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&31457280,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function yf(e,t){e.flags&=31457282;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Dr(e,t,i,l,u,d){var E=0;if(l=e,typeof e=="function")uo(e)&&(E=1);else if(typeof e=="string")E=Bn&&zt?Vf(e,i,xt.current)?26:ad(e)?27:5:Bn?Vf(e,i,xt.current)?26:5:zt&&ad(e)?27:5;else e:switch(e){case ji:return ci(i.children,u,d,t);case _f:E=8,u|=24;break;case mo:return e=s(12,i,t,u|2),e.elementType=mo,e.lanes=d,e;case Ao:return e=s(13,i,t,u),e.elementType=Ao,e.lanes=d,e;case go:return e=s(19,i,t,u),e.elementType=go,e.lanes=d,e;case xf:return Sf(i,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xp:case Fa:E=10;break e;case Hf:E=9;break e;case vo:E=11;break e;case Bo:E=14;break e;case Ia:E=16,l=null;break e}E=29,i=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=s(E,i,t,u),t.elementType=e,t.type=l,t.lanes=d,t}function ci(e,t,i,l){return e=s(7,e,l,t),e.lanes=i,e}function Sf(e,t,i,l){e=s(22,e,l,t),e.elementType=xf,e.lanes=i;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=u._current;if(d===null)throw Error(o(456));if((u._pendingVisibility&2)===0){var E=en(d,2);E!==null&&(u._pendingVisibility|=2,Qt(E,d,2))}},attach:function(){var d=u._current;if(d===null)throw Error(o(456));if((u._pendingVisibility&2)!==0){var E=en(d,2);E!==null&&(u._pendingVisibility&=-3,Qt(E,d,2))}}};return e.stateNode=u,e}function co(e,t,i){return e=s(6,e,null,t),e.lanes=i,e}function fo(e,t,i){return t=s(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dp(e,t,i,l,u,d,E,S){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=So,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Q(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q(0),this.hiddenUpdates=Q(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Mf(e,t,i,l,u,d,E,S,H,X,te,oe){return e=new Dp(e,t,i,E,S,H,X,oe),t=1,d===!0&&(t|=24),d=s(3,null,null,t),e.current=d,d.stateNode=e,t=Kl(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:t},Ra(d),e}function Tf(e){return e?(e=Qi,e):Qi}function bf(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(t),e=e!==null?M(e):null,e===null?null:Is(e.stateNode)}function Rf(e,t,i,l,u,d){u=Tf(u),l.context===null?l.context=u:l.pendingContext=u,l=Ot(t),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=it(e,l,t),i!==null&&(Qt(i,e,t),vn(i,e,t))}function Df(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ho(e,t){Df(e,t),(e=e.alternate)&&Df(e,t)}var Oe={},_p=Lu(),un=Sh(),po=Object.assign,Hp=Symbol.for("react.element"),_r=Symbol.for("react.transitional.element"),Ji=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),_f=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),xp=Symbol.for("react.provider"),Hf=Symbol.for("react.consumer"),Fa=Symbol.for("react.context"),vo=Symbol.for("react.forward_ref"),Ao=Symbol.for("react.suspense"),go=Symbol.for("react.suspense_list"),Bo=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),xf=Symbol.for("react.offscreen"),Gp=Symbol.for("react.memo_cache_sentinel"),Gf=Symbol.iterator,Up=Symbol.for("react.client.reference"),Re=_p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Eo,Uf,Co=!1,Hr=Array.isArray,Op=n.rendererVersion,Np=n.rendererPackageName,Of=n.extraDevToolsConfig,Is=n.getPublicInstance,Fp=n.getRootHostContext,Ip=n.getChildHostContext,Lp=n.prepareForCommit,zp=n.resetAfterCommit,wp=n.createInstance,yo=n.appendInitialChild,Nf=n.finalizeInitialChildren,xr=n.shouldSetTextContent,Ff=n.createTextInstance,Jp=n.scheduleTimeout,jp=n.cancelTimeout,So=n.noTimeout,da=n.isPrimaryRenderer;n.warnsIfNotActing;var Lt=n.supportsMutation,La=n.supportsPersistence,gn=n.supportsHydration,If=n.getInstanceFromNode;n.beforeActiveInstanceBlur,n.afterActiveInstanceBlur;var Kp=n.preparePortalMount;n.prepareScopeUpdate,n.getInstanceFromScope;var Wt=n.setCurrentUpdatePriority,fi=n.getCurrentUpdatePriority,Pp=n.resolveUpdatePriority;n.resolveEventType,n.resolveEventTimeStamp;var Qp=n.shouldAttemptEagerTransition,Xp=n.detachDeletedInstance;n.requestPostPaintCallback;var Yp=n.maySuspendCommit,Lf=n.preloadInstance,Zp=n.startSuspendingCommit,zf=n.suspendInstance,Vp=n.waitForCommitToBeReady,Ki=n.NotPendingTransition,di=n.HostTransitionContext,qp=n.resetFormInstance;n.bindToConsole;var kp=n.supportsMicrotasks,Wp=n.scheduleMicrotask,Ls=n.supportsTestSelectors,$p=n.findFiberRoot,em=n.getBoundingRect,tm=n.getTextContent,zs=n.isHiddenSubtree,nm=n.matchAccessibilityRole,am=n.setFocusIfFocusable,im=n.setupIntersectionObserver,sm=n.appendChild,rm=n.appendChildToContainer,lm=n.commitTextUpdate,om=n.commitMount,um=n.commitUpdate,cm=n.insertBefore,fm=n.insertInContainerBefore,dm=n.removeChild,hm=n.removeChildFromContainer,wf=n.resetTextContent,pm=n.hideInstance,mm=n.hideTextInstance,vm=n.unhideInstance,Am=n.unhideTextInstance,gm=n.clearContainer,Bm=n.cloneInstance,Jf=n.createContainerChildSet,jf=n.appendChildToContainerChildSet,Em=n.finalizeContainerChildren,Kf=n.replaceContainerChildren,Pf=n.cloneHiddenInstance,Qf=n.cloneHiddenTextInstance,Mo=n.isSuspenseInstancePending,To=n.isSuspenseInstanceFallback,Cm=n.getSuspenseInstanceFallbackErrorDetails,ym=n.registerSuspenseInstanceRetry,Sm=n.canHydrateFormStateMarker,Mm=n.isFormStateMarkerMatching,Xf=n.getNextHydratableSibling,Yf=n.getFirstHydratableChild,Tm=n.getFirstHydratableChildWithinContainer,bm=n.getFirstHydratableChildWithinSuspenseInstance,Rm=n.canHydrateInstance,Dm=n.canHydrateTextInstance,_m=n.canHydrateSuspenseInstance,Hm=n.hydrateInstance,xm=n.hydrateTextInstance,Gm=n.hydrateSuspenseInstance,Um=n.getNextHydratableInstanceAfterSuspenseInstance,Om=n.commitHydratedContainer,Nm=n.commitHydratedSuspenseInstance,Fm=n.clearSuspenseBoundary,Im=n.clearSuspenseBoundaryFromContainer,Zf=n.shouldDeleteUnhydratedTailInstances;n.diffHydratedPropsForDevWarnings,n.diffHydratedTextForDevWarnings,n.describeHydratableInstanceForDevWarnings;var Lm=n.validateHydratableInstance,zm=n.validateHydratableTextInstance,Bn=n.supportsResources,Vf=n.isHostHoistableType,bo=n.getHoistableRoot,qf=n.getResource,kf=n.acquireResource,Wf=n.releaseResource,wm=n.hydrateHoistable,$f=n.mountHoistable,ed=n.unmountHoistable,Jm=n.createHoistableInstance,jm=n.prepareToCommitHoistables,Km=n.mayResourceSuspendCommit,td=n.preloadResource,Pm=n.suspendResource,zt=n.supportsSingletons,nd=n.resolveSingletonInstance,Qm=n.clearSingleton,Xm=n.acquireSingletonInstance,Ym=n.releaseSingletonInstance,ad=n.isHostSingletonType,Ro=[],Pi=-1,Qi={},cn=Math.clz32?Math.clz32:F,Zm=Math.log,Vm=Math.LN2,Gr=128,Ur=4194304,Or=un.unstable_scheduleCallback,Do=un.unstable_cancelCallback,qm=un.unstable_shouldYield,km=un.unstable_requestPaint,Nn=un.unstable_now,id=un.unstable_ImmediatePriority,Wm=un.unstable_UserBlockingPriority,_o=un.unstable_NormalPriority,$m=un.unstable_IdlePriority,ev=un.log,tv=un.unstable_setDisableYieldValue,ws=null,fn=null,dn=typeof Object.is=="function"?Object.is:he,sd=new WeakMap,Xi=[],Yi=0,Nr=null,Fr=0,En=[],Cn=0,hi=null,ha=1,pa="",xt=x(null),Js=x(null),za=x(null),Ir=x(null),Xt=null,wt=null,je=!1,Fn=null,Vn=!1,Ho=Error(o(519)),yn=[],Zi=0,xo=0,Lr=null,Vi=null,Go=!1,zr=!1,Uo=!1,qi=0,js=null,Oo=0,ki=0,Wi=null,wa=!1,No=!1,nv=Object.prototype.hasOwnProperty,Ks=Error(o(460)),Fo=Error(o(474)),wr={then:function(){}},$i=null,es=null,Ps=0,pi=la(!0),rd=la(!1),ts=x(null),Jr=x(0),Sn=x(null),qn=null,Mt=x(0),Ja=0,Ge=null,et=null,Ct=null,jr=!1,ns=!1,mi=!1,Kr=0,Qs=0,as=null,av=0,Io=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},kn={readContext:It,use:ne,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft};kn.useCacheRefresh=ft,kn.useMemoCache=ft,kn.useHostTransitionStatus=ft,kn.useFormState=ft,kn.useActionState=ft,kn.useOptimistic=ft;var vi={readContext:It,use:ne,useCallback:function(e,t){return k().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:ic,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Ar(4194308,4,lc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ar(4194308,4,e,t)},useInsertionEffect:function(e,t){Ar(4,2,e,t)},useMemo:function(e,t){var i=k();t=t===void 0?null:t;var l=e();if(mi){ce(!0);try{e()}finally{ce(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=k();if(i!==void 0){var u=i(t);if(mi){ce(!0);try{i(t)}finally{ce(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=fp.bind(null,Ge,e),[l.memoizedState,e]},useRef:function(e){var t=k();return e={current:e},t.memoizedState=e},useState:function(e){e=ke(e);var t=e.queue,i=vc.bind(null,Ge,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Rl,useDeferredValue:function(e,t){var i=k();return Dl(i,e,t)},useTransition:function(){var e=ke(!1);return e=dc.bind(null,Ge,e.queue,!0,!1),k().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=Ge,u=k();if(je){if(i===void 0)throw Error(o(407));i=i()}else{if(i=t(),st===null)throw Error(o(349));(ze&60)!==0||Ve(l,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,ic(bt.bind(null,l,d,e),[e]),l.flags|=2048,Fi(9,ht.bind(null,l,d,i,t),{destroy:void 0},null),i},useId:function(){var e=k(),t=st.identifierPrefix;if(je){var i=pa,l=ha;i=(l&~(1<<32-cn(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=Kr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=av++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return k().memoizedState=cp.bind(null,Ge)}};vi.useMemoCache=nt,vi.useHostTransitionStatus=_l,vi.useFormState=Pt,vi.useActionState=Pt,vi.useOptimistic=function(e){var t=k();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Hl.bind(null,Ge,!0,i),i.dispatch=t,[e,t]};var ja={readContext:It,use:ne,useCallback:uc,useContext:It,useEffect:bl,useImperativeHandle:oc,useInsertionEffect:sc,useLayoutEffect:rc,useMemo:cc,useReducer:ge,useRef:ac,useState:function(){return ge(de)},useDebugValue:Rl,useDeferredValue:function(e,t){var i=Z();return fc(i,et.memoizedState,e,t)},useTransition:function(){var e=ge(de)[0],t=Z().memoizedState;return[typeof e=="boolean"?e:ae(e),t]},useSyncExternalStore:Ye,useId:pc};ja.useCacheRefresh=mc,ja.useMemoCache=nt,ja.useHostTransitionStatus=_l,ja.useFormState=Yn,ja.useActionState=Yn,ja.useOptimistic=function(e,t){var i=Z();return At(i,et,e,t)};var Ai={readContext:It,use:ne,useCallback:uc,useContext:It,useEffect:bl,useImperativeHandle:oc,useInsertionEffect:sc,useLayoutEffect:rc,useMemo:cc,useReducer:_e,useRef:ac,useState:function(){return _e(de)},useDebugValue:Rl,useDeferredValue:function(e,t){var i=Z();return et===null?Dl(i,e,t):fc(i,et.memoizedState,e,t)},useTransition:function(){var e=_e(de)[0],t=Z().memoizedState;return[typeof e=="boolean"?e:ae(e),t]},useSyncExternalStore:Ye,useId:pc};Ai.useCacheRefresh=mc,Ai.useMemoCache=nt,Ai.useHostTransitionStatus=_l,Ai.useFormState=nc,Ai.useActionState=nc,Ai.useOptimistic=function(e,t){var i=Z();return et!==null?At(i,et,e,t):(i.baseState=e,[e,i.queue.dispatch])};var Lo={isMounted:function(e){return(e=e._reactInternals)?A(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=on(),u=Ot(l);u.payload=t,i!=null&&(u.callback=i),t=it(e,u,l),t!==null&&(Qt(t,e,l),vn(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=on(),u=Ot(l);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=it(e,u,l),t!==null&&(Qt(t,e,l),vn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=on(),l=Ot(i);l.tag=2,t!=null&&(l.callback=t),t=it(e,l,i),t!==null&&(Qt(t,e,i),vn(t,e,i))}},ld=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},od=Error(o(461)),Rt=!1,zo={dehydrated:null,treeContext:null,retryLane:0},Pr=x(null),gi=null,ma=null,iv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},sv=un.unstable_scheduleCallback,rv=un.unstable_NormalPriority,pt={$$typeof:Fa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ud=Re.S;Re.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&ba(e,t),ud!==null&&ud(e,t)};var Bi=x(null),va=!1,mt=!1,wo=!1,cd=typeof WeakSet=="function"?WeakSet:Set,Dt=null,fd=!1,yt=null,hn=!1,In=null,is=8192,lv={getCacheForType:function(e){var t=It(pt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},Qr=0,Xr=1,Yr=2,Zr=3,Vr=4;if(typeof Symbol=="function"&&Symbol.for){var Xs=Symbol.for;Qr=Xs("selector.component"),Xr=Xs("selector.has_pseudo_class"),Yr=Xs("selector.role"),Zr=Xs("selector.test_id"),Vr=Xs("selector.text")}var ov=typeof WeakMap=="function"?WeakMap:Map,tt=0,st=null,Ne=null,ze=0,rt=0,pn=null,Aa=!1,ss=!1,Jo=!1,ga=0,vt=0,Ka=0,Ei=0,jo=0,Mn=0,rs=0,Ys=null,Wn=null,Ko=!1,Po=0,Zs=1/0,qr=null,Pa=null,kr=!1,Ci=null,Vs=0,Qo=0,Xo=null,qs=0,Yo=null;return Oe.attemptContinuousHydration=function(e){if(e.tag===13){var t=en(e,67108864);t!==null&&Qt(t,e,67108864),ho(e,67108864)}},Oe.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=on(),i=en(e,t);i!==null&&Qt(i,e,t),ho(e,t)}},Oe.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if(e=e.stateNode,e.current.memoizedState.isDehydrated){var t=j(e.pendingLanes);if(t!==0){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var i=1<<31-cn(t);e.entanglements[1]|=i,t&=~i}Zt(e),(tt&6)===0&&(Zs=Nn()+500,Kn(0))}}break;case 13:t=en(e,2),t!==null&&Qt(t,e,2),cf(),ho(e,2)}},Oe.batchedUpdates=function(e,t){return e(t)},Oe.createComponentSelector=function(e){return{$$typeof:Qr,value:e}},Oe.createContainer=function(e,t,i,l,u,d,E,S,H,X){return Mf(e,t,!1,null,i,l,d,E,S,H,X,null)},Oe.createHasPseudoClassSelector=function(e){return{$$typeof:Xr,value:e}},Oe.createHydrationContainer=function(e,t,i,l,u,d,E,S,H,X,te,oe,ue){return e=Mf(i,l,!0,e,u,d,S,H,X,te,oe,ue),e.context=Tf(null),i=e.current,l=on(),u=Ot(l),u.callback=t??null,it(i,u,l),e.current.lanes=l,le(e,l),Zt(e),e},Oe.createPortal=function(e,t,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ji,key:l==null?null:""+l,children:e,containerInfo:t,implementation:i}},Oe.createRoleSelector=function(e){return{$$typeof:Yr,value:e}},Oe.createTestNameSelector=function(e){return{$$typeof:Zr,value:e}},Oe.createTextSelector=function(e){return{$$typeof:Vr,value:e}},Oe.defaultOnCaughtError=function(e){console.error(e)},Oe.defaultOnRecoverableError=function(e){ld(e)},Oe.defaultOnUncaughtError=function(e){ld(e)},Oe.deferredUpdates=function(e){var t=Re.T,i=fi();try{return Wt(32),Re.T=null,e()}finally{Wt(i),Re.T=t}},Oe.discreteUpdates=function(e,t,i,l,u){var d=Re.T,E=fi();try{return Wt(2),Re.T=null,e(t,i,l,u)}finally{Wt(E),Re.T=d,tt===0&&(Zs=Nn()+500)}},Oe.findAllNodes=ao,Oe.findBoundingRects=function(e,t){if(!Ls)throw Error(o(363));t=ao(e,t),e=[];for(var i=0;i<t.length;i++)e.push(em(t[i]));for(t=e.length-1;0<t;t--){i=e[t];for(var l=i.x,u=l+i.width,d=i.y,E=d+i.height,S=t-1;0<=S;S--)if(t!==S){var H=e[S],X=H.x,te=X+H.width,oe=H.y,ue=oe+H.height;if(l>=X&&d>=oe&&u<=te&&E<=ue){e.splice(t,1);break}else if(l!==X||i.width!==H.width||ue<d||oe>E){if(!(d!==oe||i.height!==H.height||te<l||X>u)){X>l&&(H.width+=X-l,H.x=l),te<u&&(H.width=u-X),e.splice(t,1);break}}else{oe>d&&(H.height+=oe-d,H.y=d),ue<E&&(H.height=E-oe),e.splice(t,1);break}}}return e},Oe.findHostInstance=bf,Oe.findHostInstanceWithNoPortals=function(e){return e=y(e),e=e!==null?G(e):null,e===null?null:Is(e.stateNode)},Oe.findHostInstanceWithWarning=function(e){return bf(e)},Oe.flushPassiveEffects=ui,Oe.flushSyncFromReconciler=function(e){var t=tt;tt|=1;var i=Re.T,l=fi();try{if(Wt(2),Re.T=null,e)return e()}finally{Wt(l),Re.T=i,tt=t,(tt&6)===0&&Kn(0)}},Oe.flushSyncWork=cf,Oe.focusWithin=function(e,t){if(!Ls)throw Error(o(363));for(e=eo(e),t=rf(e,t),t=Array.from(t),e=0;e<t.length;){var i=t[e++],l=i.tag;if(!zs(i)){if((l===5||l===26||l===27)&&am(i.stateNode))return!0;for(i=i.child;i!==null;)t.push(i),i=i.sibling}}return!1},Oe.getFindAllNodesFailureDescription=function(e,t){if(!Ls)throw Error(o(363));var i=0,l=[];e=[eo(e),0];for(var u=0;u<e.length;){var d=e[u++],E=d.tag,S=e[u++],H=t[S];if((E!==5&&E!==26&&E!==27||!zs(d))&&(to(d,H)&&(l.push(no(H)),S++,S>i&&(i=S)),S<t.length))for(d=d.child;d!==null;)e.push(d,S),d=d.sibling}if(i<t.length){for(e=[];i<t.length;i++)e.push(no(t[i]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},Oe.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 27:case 5:return Is(e.child.stateNode);default:return e.child.stateNode}},Oe.injectIntoDevTools=function(){var e={bundleType:0,version:Op,rendererPackageName:Np,currentDispatcherRef:Re,findFiberByHostInstance:If,reconcilerVersion:"19.0.0"};if(Of!==null&&(e.rendererConfig=Of),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{ws=t.inject(e),fn=t}catch{}e=!!t.checkDCE}}return e},Oe.isAlreadyRendering=function(){return!1},Oe.observeVisibleRects=function(e,t,i,l){if(!Ls)throw Error(o(363));e=ao(e,t);var u=im(e,i,l).disconnect;return{disconnect:function(){u()}}},Oe.shouldError=function(){return null},Oe.shouldSuspend=function(){return!1},Oe.startHostTransition=function(e,t,i,l){if(e.tag!==5)throw Error(o(476));var u=hc(e).queue;dc(e,u,t,Ki,i===null?r:function(){var d=hc(e).next.queue;return _s(e,d,{},on()),i(l)})},Oe.updateContainer=function(e,t,i,l){var u=t.current,d=on();return Rf(u,d,e,t,i,l),d},Oe.updateContainerSync=function(e,t,i,l){return t.tag===0&&ui(),Rf(t.current,2,e,t,i,l),2},Oe},a.exports.default=a.exports,Object.defineProperty(a.exports,"__esModule",{value:!0})})(au)),au.exports}var _d;function UA(){return _d||(_d=1,nu.exports=GA()),nu.exports}var OA=UA();const NA=Bh(OA);var Hd=Sh();function zu(a,n,s){if(!a)return;if(s(a)===!0)return a;let r=n?a.return:a.child;for(;r;){const o=zu(r,n,s);if(o)return o;r=n?null:r.sibling}}function Mh(a){try{return Object.defineProperties(a,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return a}}const wu=Mh(J.createContext(null));class Th extends J.Component{render(){return J.createElement(wu.Provider,{value:this._reactInternals},this.props.children)}}function bh(){const a=J.useContext(wu);if(a===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=J.useId();return J.useMemo(()=>{for(const s of[a,a?.alternate]){if(!s)continue;const r=zu(s,!1,o=>{let c=o.memoizedState;for(;c;){if(c.memoizedState===n)return!0;c=c.next}});if(r)return r}},[a,n])}const FA=Symbol.for("react.context"),IA=a=>a!==null&&typeof a=="object"&&"$$typeof"in a&&a.$$typeof===FA;function LA(){const a=bh(),[n]=J.useState(()=>new Map);n.clear();let s=a;for(;s;){const r=s.type;IA(r)&&r!==wu&&!n.has(r)&&n.set(r,J.use(Mh(r))),s=s.return}return n}function zA(){const a=LA();return J.useMemo(()=>Array.from(a.keys()).reduce((n,s)=>r=>J.createElement(n,null,J.createElement(s.Provider,{...r,value:a.get(s)})),n=>J.createElement(Th,{...n})),[a])}function Rh(a){let n=a.root;for(;n.getState().previousRoot;)n=n.getState().previousRoot;return n}const Dh=a=>a&&a.isOrthographicCamera,wA=a=>a&&a.hasOwnProperty("current"),JA=a=>a!=null&&(typeof a=="string"||typeof a=="number"||a.isColor),pr=((a,n)=>typeof window<"u"&&(((a=window.document)==null?void 0:a.createElement)||((n=window.navigator)==null?void 0:n.product)==="ReactNative"))()?J.useLayoutEffect:J.useEffect;function Ju(a){const n=J.useRef(a);return pr(()=>void(n.current=a),[a]),n}function jA(){const a=bh(),n=zA();return J.useMemo(()=>({children:s})=>{const o=!!zu(a,!0,c=>c.type===J.StrictMode)?J.StrictMode:J.Fragment;return me.jsx(o,{children:me.jsx(n,{children:s})})},[a,n])}function KA({set:a}){return pr(()=>(a(new Promise(()=>null)),()=>a(!1)),[a]),null}const PA=(a=>(a=class extends J.Component{constructor(...s){super(...s),this.state={error:!1}}componentDidCatch(s){this.props.set(s)}render(){return this.state.error?null:this.props.children}},a.getDerivedStateFromError=()=>({error:!0}),a))();function _h(a){var n;const s=typeof window<"u"?(n=window.devicePixelRatio)!=null?n:2:1;return Array.isArray(a)?Math.min(Math.max(a[0],s),a[1]):a}function us(a){var n;return(n=a.__r3f)==null?void 0:n.root.getState()}const ut={obj:a=>a===Object(a)&&!ut.arr(a)&&typeof a!="function",fun:a=>typeof a=="function",str:a=>typeof a=="string",num:a=>typeof a=="number",boo:a=>typeof a=="boolean",und:a=>a===void 0,nul:a=>a===null,arr:a=>Array.isArray(a),equ(a,n,{arrays:s="shallow",objects:r="reference",strict:o=!0}={}){if(typeof a!=typeof n||!!a!=!!n)return!1;if(ut.str(a)||ut.num(a)||ut.boo(a))return a===n;const c=ut.obj(a);if(c&&r==="reference")return a===n;const f=ut.arr(a);if(f&&s==="reference")return a===n;if((f||c)&&a===n)return!0;let p;for(p in a)if(!(p in n))return!1;if(c&&s==="shallow"&&r==="shallow"){for(p in o?n:a)if(!ut.equ(a[p],n[p],{strict:o,objects:"reference"}))return!1}else for(p in o?n:a)if(a[p]!==n[p])return!1;if(ut.und(p)){if(f&&a.length===0&&n.length===0||c&&Object.keys(a).length===0&&Object.keys(n).length===0)return!0;if(a!==n)return!1}return!0}};function QA(a){const n={nodes:{},materials:{},meshes:{}};return a&&a.traverse(s=>{s.name&&(n.nodes[s.name]=s),s.material&&!n.materials[s.material.name]&&(n.materials[s.material.name]=s.material),s.isMesh&&!n.meshes[s.name]&&(n.meshes[s.name]=s)}),n}function XA(a){a.type!=="Scene"&&(a.dispose==null||a.dispose());for(const n in a){const s=a[n];s?.type!=="Scene"&&(s==null||s.dispose==null||s.dispose())}}const Hh=["children","key","ref"];function YA(a){const n={};for(const s in a)Hh.includes(s)||(n[s]=a[s]);return n}function hl(a,n,s,r){const o=a;let c=o?.__r3f;return c||(c={root:n,type:s,parent:null,children:[],props:YA(r),object:o,eventCount:0,handlers:{},isHidden:!1},o&&(o.__r3f=c)),c}function fr(a,n){if(!n.includes("-"))return{root:a,key:n,target:a[n]};if(n in a)return{root:a,key:n,target:a[n]};let s=a;const r=n.split("-");for(const o of r){if(typeof s!="object"||s===null){if(s!==void 0){const c=r.slice(r.indexOf(o)).join("-");return{root:s,key:c,target:void 0}}return{root:a,key:n,target:void 0}}n=o,a=s,s=s[n]}return{root:a,key:n,target:s}}const xd=/-\d+$/;function pl(a,n){if(ut.str(n.props.attach)){if(xd.test(n.props.attach)){const o=n.props.attach.replace(xd,""),{root:c,key:f}=fr(a.object,o);Array.isArray(c[f])||(c[f]=[])}const{root:s,key:r}=fr(a.object,n.props.attach);n.previousAttach=s[r],s[r]=n.object}else ut.fun(n.props.attach)&&(n.previousAttach=n.props.attach(a.object,n.object))}function ml(a,n){if(ut.str(n.props.attach)){const{root:s,key:r}=fr(a.object,n.props.attach),o=n.previousAttach;o===void 0?delete s[r]:s[r]=o}else n.previousAttach==null||n.previousAttach(a.object,n.object);delete n.previousAttach}const Tu=[...Hh,"args","dispose","attach","object","onUpdate","dispose"],Gd=new Map;function ZA(a){let n=Gd.get(a.constructor);try{n||(n=new a.constructor,Gd.set(a.constructor,n))}catch{}return n}function VA(a,n){const s={};for(const r in n)if(!Tu.includes(r)&&!ut.equ(n[r],a.props[r])){s[r]=n[r];for(const o in n)o.startsWith(`${r}-`)&&(s[o]=n[o])}for(const r in a.props){if(Tu.includes(r)||n.hasOwnProperty(r))continue;const{root:o,key:c}=fr(a.object,r);if(o.constructor&&o.constructor.length===0){const f=ZA(o);ut.und(f)||(s[c]=f[c])}else s[c]=0}return s}const qA=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],kA=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function $n(a,n){var s;const r=a.__r3f,o=r&&Rh(r).getState(),c=r?.eventCount;for(const p in n){let h=n[p];if(Tu.includes(p))continue;if(r&&kA.test(p)){typeof h=="function"?r.handlers[p]=h:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;continue}if(h===void 0)continue;let{root:m,key:g,target:A}=fr(a,p);if(A===void 0&&(typeof m!="object"||m===null))throw Error(`R3F: Cannot set "${p}". Ensure it is an object before setting "${g}".`);if(A instanceof dd&&h instanceof dd)A.mask=h.mask;else if(A instanceof _n&&JA(h))A.set(h);else if(A!==null&&typeof A=="object"&&typeof A.set=="function"&&typeof A.copy=="function"&&h!=null&&h.constructor&&A.constructor===h.constructor)A.copy(h);else if(A!==null&&typeof A=="object"&&typeof A.set=="function"&&Array.isArray(h))typeof A.fromArray=="function"?A.fromArray(h):A.set(...h);else if(A!==null&&typeof A=="object"&&typeof A.set=="function"&&typeof h=="number")typeof A.setScalar=="function"?A.setScalar(h):A.set(h);else{var f;m[g]=h,o&&!o.linear&&qA.includes(g)&&(f=m[g])!=null&&f.isTexture&&m[g].format===ys&&m[g].type===zn&&(m[g].colorSpace=Tt)}}if(r!=null&&r.parent&&o!=null&&o.internal&&(s=r.object)!=null&&s.isObject3D&&c!==r.eventCount){const p=r.object,h=o.internal.interaction.indexOf(p);h>-1&&o.internal.interaction.splice(h,1),r.eventCount&&p.raycast!==null&&o.internal.interaction.push(p)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&Ts(r),a}function Ts(a){var n;if(!a.parent)return;a.props.onUpdate==null||a.props.onUpdate(a.object);const s=(n=a.root)==null||n.getState==null?void 0:n.getState();s&&s.internal.frames===0&&s.invalidate()}function xh(a,n){a.manual||(Dh(a)?(a.left=n.width/-2,a.right=n.width/2,a.top=n.height/2,a.bottom=n.height/-2):a.aspect=n.width/n.height,a.updateProjectionMatrix())}const Yt=a=>a?.isObject3D;function tl(a){return(a.eventObject||a.object).uuid+"/"+a.index+a.instanceId}function Gh(a,n,s,r){const o=s.get(n);o&&(s.delete(n),s.size===0&&(a.delete(r),o.target.releasePointerCapture(r)))}function WA(a,n){const{internal:s}=a.getState();s.interaction=s.interaction.filter(r=>r!==n),s.initialHits=s.initialHits.filter(r=>r!==n),s.hovered.forEach((r,o)=>{(r.eventObject===n||r.object===n)&&s.hovered.delete(o)}),s.capturedMap.forEach((r,o)=>{Gh(s.capturedMap,n,r,o)})}function $A(a){function n(h){const{internal:m}=a.getState(),g=h.offsetX-m.initialClick[0],A=h.offsetY-m.initialClick[1];return Math.round(Math.sqrt(g*g+A*A))}function s(h){return h.filter(m=>["Move","Over","Enter","Out","Leave"].some(g=>{var A;return(A=m.__r3f)==null?void 0:A.handlers["onPointer"+g]}))}function r(h,m){const g=a.getState(),A=new Set,B=[],y=m?m(g.internal.interaction):g.internal.interaction;for(let R=0;R<y.length;R++){const T=us(y[R]);T&&(T.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(h,g);function M(R){const T=us(R);if(!T||!T.events.enabled||T.raycaster.camera===null)return[];if(T.raycaster.camera===void 0){var F;T.events.compute==null||T.events.compute(h,T,(F=T.previousRoot)==null?void 0:F.getState()),T.raycaster.camera===void 0&&(T.raycaster.camera=null)}return T.raycaster.camera?T.raycaster.intersectObject(R,!0):[]}let G=y.flatMap(M).sort((R,T)=>{const F=us(R.object),j=us(T.object);return!F||!j?R.distance-T.distance:j.events.priority-F.events.priority||R.distance-T.distance}).filter(R=>{const T=tl(R);return A.has(T)?!1:(A.add(T),!0)});g.events.filter&&(G=g.events.filter(G,g));for(const R of G){let T=R.object;for(;T;){var x;(x=T.__r3f)!=null&&x.eventCount&&B.push({...R,eventObject:T}),T=T.parent}}if("pointerId"in h&&g.internal.capturedMap.has(h.pointerId))for(let R of g.internal.capturedMap.get(h.pointerId).values())A.has(tl(R.intersection))||B.push(R.intersection);return B}function o(h,m,g,A){if(h.length){const B={stopped:!1};for(const y of h){let M=us(y.object);if(M||y.object.traverseAncestors(G=>{const x=us(G);if(x)return M=x,!1}),M){const{raycaster:G,pointer:x,camera:R,internal:T}=M,F=new $e(x.x,x.y,0).unproject(R),j=K=>{var Q,le;return(Q=(le=T.capturedMap.get(K))==null?void 0:le.has(y.eventObject))!=null?Q:!1},P=K=>{const Q={intersection:y,target:m.target};T.capturedMap.has(K)?T.capturedMap.get(K).set(y.eventObject,Q):T.capturedMap.set(K,new Map([[y.eventObject,Q]])),m.target.setPointerCapture(K)},L=K=>{const Q=T.capturedMap.get(K);Q&&Gh(T.capturedMap,y.eventObject,Q,K)};let se={};for(let K in m){let Q=m[K];typeof Q!="function"&&(se[K]=Q)}let I={...y,...se,pointer:x,intersections:h,stopped:B.stopped,delta:g,unprojectedPoint:F,ray:G.ray,camera:R,stopPropagation(){const K="pointerId"in m&&T.capturedMap.get(m.pointerId);if((!K||K.has(y.eventObject))&&(I.stopped=B.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(Q=>Q.eventObject===y.eventObject))){const Q=h.slice(0,h.indexOf(y));c([...Q,y])}},target:{hasPointerCapture:j,setPointerCapture:P,releasePointerCapture:L},currentTarget:{hasPointerCapture:j,setPointerCapture:P,releasePointerCapture:L},nativeEvent:m};if(A(I),B.stopped===!0)break}}}return h}function c(h){const{internal:m}=a.getState();for(const g of m.hovered.values())if(!h.length||!h.find(A=>A.object===g.object&&A.index===g.index&&A.instanceId===g.instanceId)){const B=g.eventObject.__r3f;if(m.hovered.delete(tl(g)),B!=null&&B.eventCount){const y=B.handlers,M={...g,intersections:h};y.onPointerOut==null||y.onPointerOut(M),y.onPointerLeave==null||y.onPointerLeave(M)}}}function f(h,m){for(let g=0;g<m.length;g++){const A=m[g].__r3f;A==null||A.handlers.onPointerMissed==null||A.handlers.onPointerMissed(h)}}function p(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>c([]);case"onLostPointerCapture":return m=>{const{internal:g}=a.getState();"pointerId"in m&&g.capturedMap.has(m.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(m.pointerId)&&(g.capturedMap.delete(m.pointerId),c([]))})}}return function(g){const{onPointerMissed:A,internal:B}=a.getState();B.lastEvent.current=g;const y=h==="onPointerMove",M=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",x=r(g,y?s:void 0),R=M?n(g):0;h==="onPointerDown"&&(B.initialClick=[g.offsetX,g.offsetY],B.initialHits=x.map(F=>F.eventObject)),M&&!x.length&&R<=2&&(f(g,B.interaction),A&&A(g)),y&&c(x);function T(F){const j=F.eventObject,P=j.__r3f;if(!(P!=null&&P.eventCount))return;const L=P.handlers;if(y){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const se=tl(F),I=B.hovered.get(se);I?I.stopped&&F.stopPropagation():(B.hovered.set(se,F),L.onPointerOver==null||L.onPointerOver(F),L.onPointerEnter==null||L.onPointerEnter(F))}L.onPointerMove==null||L.onPointerMove(F)}else{const se=L[h];se?(!M||B.initialHits.includes(j))&&(f(g,B.interaction.filter(I=>!B.initialHits.includes(I))),se(F)):M&&B.initialHits.includes(j)&&f(g,B.interaction.filter(I=>!B.initialHits.includes(I)))}}o(x,g,R,T)}}return{handlePointer:p}}const Ud=a=>!!(a!=null&&a.render),ju=J.createContext(null),eg=(a,n)=>{const s=Eh((p,h)=>{const m=new $e,g=new $e,A=new $e;function B(R=h().camera,T=g,F=h().size){const{width:j,height:P,top:L,left:se}=F,I=j/P;T.isVector3?A.copy(T):A.set(...T);const K=R.getWorldPosition(m).distanceTo(A);if(Dh(R))return{width:j/R.zoom,height:P/R.zoom,top:L,left:se,factor:1,distance:K,aspect:I};{const Q=R.fov*Math.PI/180,le=2*Math.tan(Q/2)*K,Ee=le*(j/P);return{width:Ee,height:le,top:L,left:se,factor:j/Ee,distance:K,aspect:I}}}let y;const M=R=>p(T=>({performance:{...T.performance,current:R}})),G=new Qe;return{set:p,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(R=1)=>a(h(),R),advance:(R,T)=>n(R,T,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new pv,pointer:G,mouse:G,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const R=h();y&&clearTimeout(y),R.performance.current!==R.performance.min&&M(R.performance.min),y=setTimeout(()=>M(h().performance.max),R.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:B},setEvents:R=>p(T=>({...T,events:{...T.events,...R}})),setSize:(R,T,F=0,j=0)=>{const P=h().camera,L={width:R,height:T,top:F,left:j};p(se=>({size:L,viewport:{...se.viewport,...B(P,g,L)}}))},setDpr:R=>p(T=>{const F=_h(R);return{viewport:{...T.viewport,dpr:F,initialDpr:T.viewport.initialDpr||F}}}),setFrameloop:(R="always")=>{const T=h().clock;T.stop(),T.elapsedTime=0,R!=="never"&&(T.start(),T.elapsedTime=0),p(()=>({frameloop:R}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:J.createRef(),active:!1,frames:0,priority:0,subscribe:(R,T,F)=>{const j=h().internal;return j.priority=j.priority+(T>0?1:0),j.subscribers.push({ref:R,priority:T,store:F}),j.subscribers=j.subscribers.sort((P,L)=>P.priority-L.priority),()=>{const P=h().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(T>0?1:0),P.subscribers=P.subscribers.filter(L=>L.ref!==R))}}}}}),r=s.getState();let o=r.size,c=r.viewport.dpr,f=r.camera;return s.subscribe(()=>{const{camera:p,size:h,viewport:m,gl:g,set:A}=s.getState();if(h.width!==o.width||h.height!==o.height||m.dpr!==c){o=h,c=m.dpr,xh(p,h),m.dpr>0&&g.setPixelRatio(m.dpr);const B=typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(h.width,h.height,B)}p!==f&&(f=p,A(B=>({viewport:{...B.viewport,...B.viewport.getCurrentViewport(p)}})))}),s.subscribe(p=>a(p)),s};function Ku(){const a=J.useContext(ju);if(!a)throw new Error("R3F: Hooks can only be used within the Canvas component!");return a}function Gt(a=s=>s,n){return Ku()(a,n)}function Gi(a,n=0){const s=Ku(),r=s.getState().internal.subscribe,o=Ju(a);return pr(()=>r(o,n,s),[n,r,s]),null}const Od=new WeakMap,tg=a=>{var n;return typeof a=="function"&&(a==null||(n=a.prototype)==null?void 0:n.constructor)===a};function Uh(a,n){return function(s,...r){let o;return tg(s)?(o=Od.get(s),o||(o=new s,Od.set(s,o))):o=s,a&&a(o),Promise.all(r.map(c=>new Promise((f,p)=>o.load(c,h=>{Yt(h?.scene)&&Object.assign(h,QA(h.scene)),f(h)},n,h=>p(new Error(`Could not load ${c}: ${h?.message}`))))))}}function Sa(a,n,s,r){const o=Array.isArray(n)?n:[n],c=DA(Uh(s,r),[a,...o],{equal:ut.equ});return Array.isArray(n)?c:c[0]}Sa.preload=function(a,n,s){const r=Array.isArray(n)?n:[n];return _A(Uh(s),[a,...r])};Sa.clear=function(a,n){const s=Array.isArray(n)?n:[n];return HA([a,...s])};function ng(a){const n=NA(a);return n.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:J.version}),n}const Oh=0,Ss={},ag=/^three(?=[A-Z])/,Sl=a=>`${a[0].toUpperCase()}${a.slice(1)}`;let ig=0;const sg=a=>typeof a=="function";function Pu(a){if(sg(a)){const n=`${ig++}`;return Ss[n]=a,n}else Object.assign(Ss,a)}function Nh(a,n){const s=Sl(a),r=Ss[s];if(a!=="primitive"&&!r)throw new Error(`R3F: ${s} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(a==="primitive"&&!n.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(n.args!==void 0&&!Array.isArray(n.args))throw new Error("R3F: The args prop must be an array!")}function rg(a,n,s){var r;return a=Sl(a)in Ss?a:a.replace(ag,""),Nh(a,n),a==="primitive"&&(r=n.object)!=null&&r.__r3f&&delete n.object.__r3f,hl(n.object,s,a,n)}function lg(a){if(!a.isHidden){var n;a.props.attach&&(n=a.parent)!=null&&n.object?ml(a.parent,a):Yt(a.object)&&(a.object.visible=!1),a.isHidden=!0,Ts(a)}}function Fh(a){if(a.isHidden){var n;a.props.attach&&(n=a.parent)!=null&&n.object?pl(a.parent,a):Yt(a.object)&&a.props.visible!==!1&&(a.object.visible=!0),a.isHidden=!1,Ts(a)}}function Qu(a,n,s){const r=n.root.getState();if(!(!a.parent&&a.object!==r.scene)){if(!n.object){var o,c;const f=Ss[Sl(n.type)];n.object=(o=n.props.object)!=null?o:new f(...(c=n.props.args)!=null?c:[]),n.object.__r3f=n}if($n(n.object,n.props),n.props.attach)pl(a,n);else if(Yt(n.object)&&Yt(a.object)){const f=a.object.children.indexOf(s?.object);if(s&&f!==-1){const p=a.object.children.indexOf(n.object);if(p!==-1){a.object.children.splice(p,1);const h=p<f?f-1:f;a.object.children.splice(h,0,n.object)}else n.object.parent=a.object,a.object.children.splice(f,0,n.object),n.object.dispatchEvent({type:"added"}),a.object.dispatchEvent({type:"childadded",child:n.object})}else a.object.add(n.object)}for(const f of n.children)Qu(n,f);Ts(n)}}function ru(a,n){n&&(n.parent=a,a.children.push(n),Qu(a,n))}function Nd(a,n,s){if(!n||!s)return;n.parent=a;const r=a.children.indexOf(s);r!==-1?a.children.splice(r,0,n):a.children.push(n),Qu(a,n,s)}function Ih(a){if(typeof a.dispose=="function"){const n=()=>{try{a.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?n():Hd.unstable_scheduleCallback(Hd.unstable_IdlePriority,n)}}function bu(a,n,s){if(!n)return;n.parent=null;const r=a.children.indexOf(n);r!==-1&&a.children.splice(r,1),n.props.attach?ml(a,n):Yt(n.object)&&Yt(a.object)&&(a.object.remove(n.object),WA(Rh(n),n.object));const o=n.props.dispose!==null&&s!==!1;for(let c=n.children.length-1;c>=0;c--){const f=n.children[c];bu(n,f,o)}n.children.length=0,delete n.object.__r3f,o&&n.type!=="primitive"&&n.object.type!=="Scene"&&Ih(n.object),s===void 0&&Ts(n)}function og(a,n){for(const s of[a,a.alternate])if(s!==null)if(typeof s.ref=="function"){s.refCleanup==null||s.refCleanup();const r=s.ref(n);typeof r=="function"&&(s.refCleanup=r)}else s.ref&&(s.ref.current=n)}const ul=[];function ug(){for(const[s]of ul){const r=s.parent;if(r){s.props.attach?ml(r,s):Yt(s.object)&&Yt(r.object)&&r.object.remove(s.object);for(const o of s.children)o.props.attach?ml(s,o):Yt(o.object)&&Yt(s.object)&&s.object.remove(o.object)}s.isHidden&&Fh(s),s.object.__r3f&&delete s.object.__r3f,s.type!=="primitive"&&Ih(s.object)}for(const[s,r,o]of ul){s.props=r;const c=s.parent;if(c){var a,n;const f=Ss[Sl(s.type)];s.object=(a=s.props.object)!=null?a:new f(...(n=s.props.args)!=null?n:[]),s.object.__r3f=s,og(o,s.object),$n(s.object,s.props),s.props.attach?pl(c,s):Yt(s.object)&&Yt(c.object)&&c.object.add(s.object);for(const p of s.children)p.props.attach?pl(s,p):Yt(p.object)&&Yt(s.object)&&s.object.add(p.object);Ts(s)}}ul.length=0}const lu=()=>{},Fd={};let nl=Oh;const cg=0,fg=4,vl=ng({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:rg,removeChild:bu,appendChild:ru,appendInitialChild:ru,insertBefore:Nd,appendChildToContainer(a,n){const s=a.getState().scene.__r3f;!n||!s||ru(s,n)},removeChildFromContainer(a,n){const s=a.getState().scene.__r3f;!n||!s||bu(s,n)},insertInContainerBefore(a,n,s){const r=a.getState().scene.__r3f;!n||!s||!r||Nd(r,n,s)},getRootHostContext:()=>Fd,getChildHostContext:()=>Fd,commitUpdate(a,n,s,r,o){var c,f,p;Nh(n,r);let h=!1;if((a.type==="primitive"&&s.object!==r.object||((c=r.args)==null?void 0:c.length)!==((f=s.args)==null?void 0:f.length)||(p=r.args)!=null&&p.some((g,A)=>{var B;return g!==((B=s.args)==null?void 0:B[A])}))&&(h=!0),h)ul.push([a,{...r},o]);else{const g=VA(a,r);Object.keys(g).length&&(Object.assign(a.props,g),$n(a.object,g))}(o.sibling===null||(o.flags&fg)===cg)&&ug()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:a=>a?.object,prepareForCommit:()=>null,preparePortalMount:a=>hl(a.getState().scene,a,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:lg,unhideInstance:Fh,createTextInstance:lu,hideTextInstance:lu,unhideTextInstance:lu,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:J.createContext(null),setCurrentUpdatePriority(a){nl=a},getCurrentUpdatePriority(){return nl},resolveUpdatePriority(){var a;if(nl!==Oh)return nl;switch(typeof window<"u"&&((a=window.event)==null?void 0:a.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ol.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ol.ContinuousEventPriority;default:return ol.DefaultEventPriority}},resetFormInstance(){}}),Hi=new Map,cs={objects:"shallow",strict:!1};function dg(a,n){if(!n&&typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement&&a.parentElement){const{width:s,height:r,top:o,left:c}=a.parentElement.getBoundingClientRect();return{width:s,height:r,top:o,left:c}}else if(!n&&typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas)return{width:a.width,height:a.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...n}}function hg(a){const n=Hi.get(a),s=n?.fiber,r=n?.store;n&&console.warn("R3F.createRoot should only be called once!");const o=typeof reportError=="function"?reportError:console.error,c=r||eg(_u,Ld),f=s||vl.createContainer(c,ol.ConcurrentRoot,null,!1,null,"",o,o,o,null);n||Hi.set(a,{fiber:f,store:c});let p,h,m=!1,g=null;return{async configure(A={}){let B;g=new Promise(Se=>B=Se);let{gl:y,size:M,scene:G,events:x,onCreated:R,shadows:T=!1,linear:F=!1,flat:j=!1,legacy:P=!1,orthographic:L=!1,frameloop:se="always",dpr:I=[1,2],performance:K,raycaster:Q,camera:le,onPointerMissed:Ee}=A,ie=c.getState(),re=ie.gl;if(!ie.gl){const Se={canvas:a,powerPreference:"high-performance",antialias:!0,alpha:!0},Ae=typeof y=="function"?await y(Se):y;Ud(Ae)?re=Ae:re=new rh({...Se,...y}),ie.set({gl:re})}let ye=ie.raycaster;ye||ie.set({raycaster:ye=new lh});const{params:Y,...ce}=Q||{};if(ut.equ(ce,ye,cs)||$n(ye,{...ce}),ut.equ(Y,ye.params,cs)||$n(ye,{params:{...ye.params,...Y}}),!ie.camera||ie.camera===h&&!ut.equ(h,le,cs)){h=le;const Se=le?.isCamera,Ae=Se?le:L?new Ri(0,0,0,0,.1,1e3):new gs(75,0,.1,1e3);Se||(Ae.position.z=5,le&&($n(Ae,le),Ae.manual||("aspect"in le||"left"in le||"right"in le||"bottom"in le||"top"in le)&&(Ae.manual=!0,Ae.updateProjectionMatrix())),!ie.camera&&!(le!=null&&le.rotation)&&Ae.lookAt(0,0,0)),ie.set({camera:Ae}),ye.camera=Ae}if(!ie.scene){let Se;G!=null&&G.isScene?(Se=G,hl(Se,c,"",{})):(Se=new or,hl(Se,c,"",{}),G&&$n(Se,G)),ie.set({scene:Se})}x&&!ie.events.handlers&&ie.set({events:x(c)});const he=dg(a,M);if(ut.equ(he,ie.size,cs)||ie.setSize(he.width,he.height,he.top,he.left),I&&ie.viewport.dpr!==_h(I)&&ie.setDpr(I),ie.frameloop!==se&&ie.setFrameloop(se),ie.onPointerMissed||ie.set({onPointerMissed:Ee}),K&&!ut.equ(K,ie.performance,cs)&&ie.set(Se=>({performance:{...Se.performance,...K}})),!ie.xr){var ve;const Se=(De,ct)=>{const Ue=c.getState();Ue.frameloop!=="never"&&Ld(De,!0,Ue,ct)},Ae=()=>{const De=c.getState();De.gl.xr.enabled=De.gl.xr.isPresenting,De.gl.xr.setAnimationLoop(De.gl.xr.isPresenting?Se:null),De.gl.xr.isPresenting||_u(De)},xe={connect(){const De=c.getState().gl;De.xr.addEventListener("sessionstart",Ae),De.xr.addEventListener("sessionend",Ae)},disconnect(){const De=c.getState().gl;De.xr.removeEventListener("sessionstart",Ae),De.xr.removeEventListener("sessionend",Ae)}};typeof((ve=re.xr)==null?void 0:ve.addEventListener)=="function"&&xe.connect(),ie.set({xr:xe})}if(re.shadowMap){const Se=re.shadowMap.enabled,Ae=re.shadowMap.type;if(re.shadowMap.enabled=!!T,ut.boo(T))re.shadowMap.type=Zo;else if(ut.str(T)){var pe;const xe={basic:dv,percentage:fv,soft:Zo,variance:cv};re.shadowMap.type=(pe=xe[T])!=null?pe:Zo}else ut.obj(T)&&Object.assign(re.shadowMap,T);(Se!==re.shadowMap.enabled||Ae!==re.shadowMap.type)&&(re.shadowMap.needsUpdate=!0)}return hv.enabled=!P,m||(re.outputColorSpace=F?Cs:Tt,re.toneMapping=j?oh:uh),ie.legacy!==P&&ie.set(()=>({legacy:P})),ie.linear!==F&&ie.set(()=>({linear:F})),ie.flat!==j&&ie.set(()=>({flat:j})),y&&!ut.fun(y)&&!Ud(y)&&!ut.equ(y,re,cs)&&$n(re,y),p=R,m=!0,B(),this},render(A){return!m&&!g&&this.configure(),g.then(()=>{vl.updateContainer(me.jsx(pg,{store:c,children:A,onCreated:p,rootElement:a}),f,null,()=>{})}),c},unmount(){Lh(a)}}}function pg({store:a,children:n,onCreated:s,rootElement:r}){return pr(()=>{const o=a.getState();o.set(c=>({internal:{...c.internal,active:!0}})),s&&s(o),a.getState().events.connected||o.events.connect==null||o.events.connect(r)},[]),me.jsx(ju.Provider,{value:a,children:n})}function Lh(a,n){const s=Hi.get(a),r=s?.fiber;if(r){const o=s?.store.getState();o&&(o.internal.active=!1),vl.updateContainer(null,r,null,()=>{o&&setTimeout(()=>{try{var c,f,p,h;o.events.disconnect==null||o.events.disconnect(),(c=o.gl)==null||(f=c.renderLists)==null||f.dispose==null||f.dispose(),(p=o.gl)==null||p.forceContextLoss==null||p.forceContextLoss(),(h=o.gl)!=null&&h.xr&&o.xr.disconnect(),XA(o.scene),Hi.delete(a)}catch{}},500)})}}function mg(a,n,s){return me.jsx(vg,{children:a,container:n,state:s})}function vg({state:a={},children:n,container:s}){const{events:r,size:o,...c}=a,f=Ku(),[p]=J.useState(()=>new lh),[h]=J.useState(()=>new Qe),m=Ju((A,B)=>{let y;if(B.camera&&o){const M=B.camera;y=A.viewport.getCurrentViewport(M,new $e,o),M!==A.camera&&xh(M,o)}return{...A,...B,scene:s,raycaster:p,pointer:h,mouse:h,previousRoot:f,events:{...A.events,...B.events,...r},size:{...A.size,...o},viewport:{...A.viewport,...y},setEvents:M=>B.set(G=>({...G,events:{...G.events,...M}}))}}),g=J.useMemo(()=>{const A=Eh((y,M)=>({...c,set:y,get:M})),B=y=>A.setState(M=>m.current(y,M));return B(f.getState()),f.subscribe(B),A},[f,s]);return me.jsx(me.Fragment,{children:vl.createPortal(me.jsx(ju.Provider,{value:g,children:n}),g,null)})}const Ag=new Set,gg=new Set,Bg=new Set;function ou(a,n){if(a.size)for(const{callback:s}of a.values())s(n)}function sr(a,n){switch(a){case"before":return ou(Ag,n);case"after":return ou(gg,n);case"tail":return ou(Bg,n)}}let uu,cu;function Ru(a,n,s){let r=n.clock.getDelta();n.frameloop==="never"&&typeof a=="number"&&(r=a-n.clock.elapsedTime,n.clock.oldTime=n.clock.elapsedTime,n.clock.elapsedTime=a),uu=n.internal.subscribers;for(let o=0;o<uu.length;o++)cu=uu[o],cu.ref.current(cu.store.getState(),r,s);return!n.internal.priority&&n.gl.render&&n.gl.render(n.scene,n.camera),n.internal.frames=Math.max(0,n.internal.frames-1),n.frameloop==="always"?1:n.internal.frames}let Al=!1,Du=!1,fu,Id,fs;function zh(a){Id=requestAnimationFrame(zh),Al=!0,fu=0,sr("before",a),Du=!0;for(const s of Hi.values()){var n;fs=s.store.getState(),fs.internal.active&&(fs.frameloop==="always"||fs.internal.frames>0)&&!((n=fs.gl.xr)!=null&&n.isPresenting)&&(fu+=Ru(a,fs))}if(Du=!1,sr("after",a),fu===0)return sr("tail",a),Al=!1,cancelAnimationFrame(Id)}function _u(a,n=1){var s;if(!a)return Hi.forEach(r=>_u(r.store.getState(),n));(s=a.gl.xr)!=null&&s.isPresenting||!a.internal.active||a.frameloop==="never"||(n>1?a.internal.frames=Math.min(60,a.internal.frames+n):Du?a.internal.frames=2:a.internal.frames=1,Al||(Al=!0,requestAnimationFrame(zh)))}function Ld(a,n=!0,s,r){if(n&&sr("before",a),s)Ru(a,s,r);else for(const o of Hi.values())Ru(a,o.store.getState());n&&sr("after",a)}const du={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Eg(a){const{handlePointer:n}=$A(a);return{priority:1,enabled:!0,compute(s,r,o){r.pointer.set(s.offsetX/r.size.width*2-1,-(s.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(du).reduce((s,r)=>({...s,[r]:n(r)}),{}),update:()=>{var s;const{events:r,internal:o}=a.getState();(s=o.lastEvent)!=null&&s.current&&r.handlers&&r.handlers.onPointerMove(o.lastEvent.current)},connect:s=>{const{set:r,events:o}=a.getState();if(o.disconnect==null||o.disconnect(),r(c=>({events:{...c.events,connected:s}})),o.handlers)for(const c in o.handlers){const f=o.handlers[c],[p,h]=du[c];s.addEventListener(p,f,{passive:h})}},disconnect:()=>{const{set:s,events:r}=a.getState();if(r.connected){if(r.handlers)for(const o in r.handlers){const c=r.handlers[o],[f]=du[o];r.connected.removeEventListener(f,c)}s(o=>({events:{...o.events,connected:void 0}}))}}}}function zd(a,n){let s;return(...r)=>{window.clearTimeout(s),s=window.setTimeout(()=>a(...r),n)}}function Cg({debounce:a,scroll:n,polyfill:s,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const o=s||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[c,f]=J.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=J.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c,orientationHandler:null}),h=a?typeof a=="number"?a:a.scroll:null,m=a?typeof a=="number"?a:a.resize:null,g=J.useRef(!1);J.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[A,B,y]=J.useMemo(()=>{const R=()=>{if(!p.current.element)return;const{left:T,top:F,width:j,height:P,bottom:L,right:se,x:I,y:K}=p.current.element.getBoundingClientRect(),Q={left:T,top:F,width:j,height:P,bottom:L,right:se,x:I,y:K};p.current.element instanceof HTMLElement&&r&&(Q.height=p.current.element.offsetHeight,Q.width=p.current.element.offsetWidth),Object.freeze(Q),g.current&&!Tg(p.current.lastBounds,Q)&&f(p.current.lastBounds=Q)};return[R,m?zd(R,m):R,h?zd(R,h):R]},[f,r,h,m]);function M(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(R=>R.removeEventListener("scroll",y,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null),p.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",p.current.orientationHandler))}function G(){p.current.element&&(p.current.resizeObserver=new o(y),p.current.resizeObserver.observe(p.current.element),n&&p.current.scrollContainers&&p.current.scrollContainers.forEach(R=>R.addEventListener("scroll",y,{capture:!0,passive:!0})),p.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",p.current.orientationHandler))}const x=R=>{!R||R===p.current.element||(M(),p.current.element=R,p.current.scrollContainers=wh(R),G())};return Sg(y,!!n),yg(B),J.useEffect(()=>{M(),G()},[n,y,B]),J.useEffect(()=>M,[]),[x,c,A]}function yg(a){J.useEffect(()=>{const n=a;return window.addEventListener("resize",n),()=>void window.removeEventListener("resize",n)},[a])}function Sg(a,n){J.useEffect(()=>{if(n){const s=a;return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)}},[a,n])}function wh(a){const n=[];if(!a||a===document.body)return n;const{overflow:s,overflowX:r,overflowY:o}=window.getComputedStyle(a);return[s,r,o].some(c=>c==="auto"||c==="scroll")&&n.push(a),[...n,...wh(a.parentElement)]}const Mg=["x","y","top","bottom","left","right","width","height"],Tg=(a,n)=>Mg.every(s=>a[s]===n[s]);function bg({ref:a,children:n,fallback:s,resize:r,style:o,gl:c,events:f=Eg,eventSource:p,eventPrefix:h,shadows:m,linear:g,flat:A,legacy:B,orthographic:y,frameloop:M,dpr:G,performance:x,raycaster:R,camera:T,scene:F,onPointerMissed:j,onCreated:P,...L}){J.useMemo(()=>Pu(mv),[]);const se=jA(),[I,K]=Cg({scroll:!0,debounce:{scroll:50,resize:0},...r}),Q=J.useRef(null),le=J.useRef(null);J.useImperativeHandle(a,()=>Q.current);const Ee=Ju(j),[ie,re]=J.useState(!1),[ye,Y]=J.useState(!1);if(ie)throw ie;if(ye)throw ye;const ce=J.useRef(null);pr(()=>{const ve=Q.current;if(K.width>0&&K.height>0&&ve){ce.current||(ce.current=hg(ve));async function pe(){await ce.current.configure({gl:c,scene:F,events:f,shadows:m,linear:g,flat:A,legacy:B,orthographic:y,frameloop:M,dpr:G,performance:x,raycaster:R,camera:T,size:K,onPointerMissed:(...Se)=>Ee.current==null?void 0:Ee.current(...Se),onCreated:Se=>{Se.events.connect==null||Se.events.connect(p?wA(p)?p.current:p:le.current),h&&Se.setEvents({compute:(Ae,xe)=>{const De=Ae[h+"X"],ct=Ae[h+"Y"];xe.pointer.set(De/xe.size.width*2-1,-(ct/xe.size.height)*2+1),xe.raycaster.setFromCamera(xe.pointer,xe.camera)}}),P?.(Se)}}),ce.current.render(me.jsx(se,{children:me.jsx(PA,{set:Y,children:me.jsx(J.Suspense,{fallback:me.jsx(KA,{set:re}),children:n??null})})}))}pe()}}),J.useEffect(()=>{const ve=Q.current;if(ve)return()=>Lh(ve)},[]);const he=p?"none":"auto";return me.jsx("div",{ref:le,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:he,...o},...L,children:me.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:me.jsx("canvas",{ref:Q,style:{display:"block"},children:s})})})}function Rg(a){return me.jsx(Th,{children:me.jsx(bg,{...a})})}function gl(){return gl=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)({}).hasOwnProperty.call(s,r)&&(a[r]=s[r])}return a},gl.apply(null,arguments)}const wd=a=>{let n;const s=new Set,r=(m,g)=>{const A=typeof m=="function"?m(n):m;if(!Object.is(A,n)){const B=n;n=g??(typeof A!="object"||A===null)?A:Object.assign({},n,A),s.forEach(y=>y(n,B))}},o=()=>n,p={setState:r,getState:o,getInitialState:()=>h,subscribe:m=>(s.add(m),()=>s.delete(m))},h=n=a(r,o,p);return p},Dg=(a=>a?wd(a):wd),_g=a=>a;function Hg(a,n=_g){const s=ms.useSyncExternalStore(a.subscribe,ms.useCallback(()=>n(a.getState()),[a,n]),ms.useCallback(()=>n(a.getInitialState()),[a,n]));return ms.useDebugValue(s),s}const Jd=a=>{const n=Dg(a),s=r=>Hg(n,r);return Object.assign(s,n),s},xg=(a=>a?Jd(a):Jd);let Ws=0;const Gg=xg(a=>(Wr.onStart=(n,s,r)=>{a({active:!0,item:n,loaded:s,total:r,progress:(s-Ws)/(r-Ws)*100})},Wr.onLoad=()=>{a({active:!1})},Wr.onError=n=>a(s=>({errors:[...s.errors,n]})),Wr.onProgress=(n,s,r)=>{s===r&&(Ws=r),a({active:!0,item:n,loaded:s,total:r,progress:(s-Ws)/(r-Ws)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),Xu=parseInt(Cl.replace(/\D+/g,""));function jd(a,n){if(n===vv)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),a;if(n===yu||n===ch){let s=a.getIndex();if(s===null){const f=[],p=a.getAttribute("position");if(p!==void 0){for(let h=0;h<p.count;h++)f.push(h);a.setIndex(f),s=a.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a}const r=s.count-2,o=[];if(s)if(n===yu)for(let f=1;f<=r;f++)o.push(s.getX(0)),o.push(s.getX(f)),o.push(s.getX(f+1));else for(let f=0;f<r;f++)f%2===0?(o.push(s.getX(f)),o.push(s.getX(f+1)),o.push(s.getX(f+2))):(o.push(s.getX(f+2)),o.push(s.getX(f+1)),o.push(s.getX(f)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const c=a.clone();return c.setIndex(o),c.clearGroups(),c}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",n),a}var Dn=Uint8Array,Va=Uint16Array,Hu=Uint32Array,Jh=new Dn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jh=new Dn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ug=new Dn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Kh=function(a,n){for(var s=new Va(31),r=0;r<31;++r)s[r]=n+=1<<a[r-1];for(var o=new Hu(s[30]),r=1;r<30;++r)for(var c=s[r];c<s[r+1];++c)o[c]=c-s[r]<<5|r;return[s,o]},Ph=Kh(Jh,2),Qh=Ph[0],Og=Ph[1];Qh[28]=258,Og[258]=28;var Ng=Kh(jh,0),Fg=Ng[0],xu=new Va(32768);for(var ot=0;ot<32768;++ot){var Xa=(ot&43690)>>>1|(ot&21845)<<1;Xa=(Xa&52428)>>>2|(Xa&13107)<<2,Xa=(Xa&61680)>>>4|(Xa&3855)<<4,xu[ot]=((Xa&65280)>>>8|(Xa&255)<<8)>>>1}var rr=(function(a,n,s){for(var r=a.length,o=0,c=new Va(n);o<r;++o)++c[a[o]-1];var f=new Va(n);for(o=0;o<n;++o)f[o]=f[o-1]+c[o-1]<<1;var p;if(s){p=new Va(1<<n);var h=15-n;for(o=0;o<r;++o)if(a[o])for(var m=o<<4|a[o],g=n-a[o],A=f[a[o]-1]++<<g,B=A|(1<<g)-1;A<=B;++A)p[xu[A]>>>h]=m}else for(p=new Va(r),o=0;o<r;++o)a[o]&&(p[o]=xu[f[a[o]-1]++]>>>15-a[o]);return p}),mr=new Dn(288);for(var ot=0;ot<144;++ot)mr[ot]=8;for(var ot=144;ot<256;++ot)mr[ot]=9;for(var ot=256;ot<280;++ot)mr[ot]=7;for(var ot=280;ot<288;++ot)mr[ot]=8;var Xh=new Dn(32);for(var ot=0;ot<32;++ot)Xh[ot]=5;var Ig=rr(mr,9,1),Lg=rr(Xh,5,1),hu=function(a){for(var n=a[0],s=1;s<a.length;++s)a[s]>n&&(n=a[s]);return n},Ln=function(a,n,s){var r=n/8|0;return(a[r]|a[r+1]<<8)>>(n&7)&s},pu=function(a,n){var s=n/8|0;return(a[s]|a[s+1]<<8|a[s+2]<<16)>>(n&7)},zg=function(a){return(a/8|0)+(a&7&&1)},wg=function(a,n,s){(s==null||s>a.length)&&(s=a.length);var r=new(a instanceof Va?Va:a instanceof Hu?Hu:Dn)(s-n);return r.set(a.subarray(n,s)),r},Jg=function(a,n,s){var r=a.length;if(!r||s&&!s.l&&r<5)return n||new Dn(0);var o=!n||s,c=!s||s.i;s||(s={}),n||(n=new Dn(r*3));var f=function(Ue){var Ut=n.length;if(Ue>Ut){var St=new Dn(Math.max(Ut*2,Ue));St.set(n),n=St}},p=s.f||0,h=s.p||0,m=s.b||0,g=s.l,A=s.d,B=s.m,y=s.n,M=r*8;do{if(!g){s.f=p=Ln(a,h,1);var G=Ln(a,h+1,3);if(h+=3,G)if(G==1)g=Ig,A=Lg,B=9,y=5;else if(G==2){var F=Ln(a,h,31)+257,j=Ln(a,h+10,15)+4,P=F+Ln(a,h+5,31)+1;h+=14;for(var L=new Dn(P),se=new Dn(19),I=0;I<j;++I)se[Ug[I]]=Ln(a,h+I*3,7);h+=j*3;for(var K=hu(se),Q=(1<<K)-1,le=rr(se,K,1),I=0;I<P;){var Ee=le[Ln(a,h,Q)];h+=Ee&15;var x=Ee>>>4;if(x<16)L[I++]=x;else{var ie=0,re=0;for(x==16?(re=3+Ln(a,h,3),h+=2,ie=L[I-1]):x==17?(re=3+Ln(a,h,7),h+=3):x==18&&(re=11+Ln(a,h,127),h+=7);re--;)L[I++]=ie}}var ye=L.subarray(0,F),Y=L.subarray(F);B=hu(ye),y=hu(Y),g=rr(ye,B,1),A=rr(Y,y,1)}else throw"invalid block type";else{var x=zg(h)+4,R=a[x-4]|a[x-3]<<8,T=x+R;if(T>r){if(c)throw"unexpected EOF";break}o&&f(m+R),n.set(a.subarray(x,T),m),s.b=m+=R,s.p=h=T*8;continue}if(h>M){if(c)throw"unexpected EOF";break}}o&&f(m+131072);for(var ce=(1<<B)-1,he=(1<<y)-1,ve=h;;ve=h){var ie=g[pu(a,h)&ce],pe=ie>>>4;if(h+=ie&15,h>M){if(c)throw"unexpected EOF";break}if(!ie)throw"invalid length/literal";if(pe<256)n[m++]=pe;else if(pe==256){ve=h,g=null;break}else{var Se=pe-254;if(pe>264){var I=pe-257,Ae=Jh[I];Se=Ln(a,h,(1<<Ae)-1)+Qh[I],h+=Ae}var xe=A[pu(a,h)&he],De=xe>>>4;if(!xe)throw"invalid distance";h+=xe&15;var Y=Fg[De];if(De>3){var Ae=jh[De];Y+=pu(a,h)&(1<<Ae)-1,h+=Ae}if(h>M){if(c)throw"unexpected EOF";break}o&&f(m+131072);for(var ct=m+Se;m<ct;m+=4)n[m]=n[m-Y],n[m+1]=n[m+1-Y],n[m+2]=n[m+2-Y],n[m+3]=n[m+3-Y];m=ct}}s.l=g,s.p=ve,s.b=m,g&&(p=1,s.m=B,s.d=A,s.n=y)}while(!p);return m==n.length?n:wg(n,0,m)},jg=new Dn(0),Kg=function(a){if((a[0]&15)!=8||a[0]>>>4>7||(a[0]<<8|a[1])%31)throw"invalid zlib data";if(a[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function al(a,n){return Jg((Kg(a),a.subarray(2,-4)),n)}var Pg=typeof TextDecoder<"u"&&new TextDecoder,Qg=0;try{Pg.decode(jg,{stream:!0}),Qg=1}catch{}const Xg=a=>a&&a.isCubeTexture;class Yg extends xi{constructor(n,s){var r,o;const c=Xg(n),p=((o=c?(r=n.image[0])==null?void 0:r.width:n.image.width)!=null?o:1024)/4,h=Math.floor(Math.log2(p)),m=Math.pow(2,h),g=3*Math.max(m,112),A=4*m,B=[c?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/g}`,`#define CUBEUV_TEXEL_HEIGHT ${1/A}`,`#define CUBEUV_MAX_MIP ${h}.0`],y=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,M=B.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${Xu>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,G={map:{value:n},height:{value:s?.height||15},radius:{value:s?.radius||100}},x=new Av(1,16),R=new Hn({uniforms:G,fragmentShader:M,vertexShader:y,side:ds});super(x,R)}set radius(n){this.material.uniforms.radius.value=n}get radius(){return this.material.uniforms.radius.value}set height(n){this.material.uniforms.height.value=n}get height(){return this.material.uniforms.height.value}}var Zg=Object.defineProperty,Vg=(a,n,s)=>n in a?Zg(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,qg=(a,n,s)=>(Vg(a,n+"",s),s);class kg{constructor(){qg(this,"_listeners")}addEventListener(n,s){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[n]===void 0&&(r[n]=[]),r[n].indexOf(s)===-1&&r[n].push(s)}hasEventListener(n,s){if(this._listeners===void 0)return!1;const r=this._listeners;return r[n]!==void 0&&r[n].indexOf(s)!==-1}removeEventListener(n,s){if(this._listeners===void 0)return;const o=this._listeners[n];if(o!==void 0){const c=o.indexOf(s);c!==-1&&o.splice(c,1)}}dispatchEvent(n){if(this._listeners===void 0)return;const r=this._listeners[n.type];if(r!==void 0){n.target=this;const o=r.slice(0);for(let c=0,f=o.length;c<f;c++)o[c].call(this,n);n.target=null}}}var Wg=Object.defineProperty,$g=(a,n,s)=>n in a?Wg(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,Ce=(a,n,s)=>($g(a,typeof n!="symbol"?n+"":n,s),s);const il=new gv,Kd=new Bv,e0=Math.cos(70*(Math.PI/180)),Pd=(a,n)=>(a%n+n)%n;let t0=class extends kg{constructor(n,s){super(),Ce(this,"object"),Ce(this,"domElement"),Ce(this,"enabled",!0),Ce(this,"target",new $e),Ce(this,"minDistance",0),Ce(this,"maxDistance",1/0),Ce(this,"minZoom",0),Ce(this,"maxZoom",1/0),Ce(this,"minPolarAngle",0),Ce(this,"maxPolarAngle",Math.PI),Ce(this,"minAzimuthAngle",-1/0),Ce(this,"maxAzimuthAngle",1/0),Ce(this,"enableDamping",!1),Ce(this,"dampingFactor",.05),Ce(this,"enableZoom",!0),Ce(this,"zoomSpeed",1),Ce(this,"enableRotate",!0),Ce(this,"rotateSpeed",1),Ce(this,"enablePan",!0),Ce(this,"panSpeed",1),Ce(this,"screenSpacePanning",!0),Ce(this,"keyPanSpeed",7),Ce(this,"zoomToCursor",!1),Ce(this,"autoRotate",!1),Ce(this,"autoRotateSpeed",2),Ce(this,"reverseOrbit",!1),Ce(this,"reverseHorizontalOrbit",!1),Ce(this,"reverseVerticalOrbit",!1),Ce(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ce(this,"mouseButtons",{LEFT:ls.ROTATE,MIDDLE:ls.DOLLY,RIGHT:ls.PAN}),Ce(this,"touches",{ONE:os.ROTATE,TWO:os.DOLLY_PAN}),Ce(this,"target0"),Ce(this,"position0"),Ce(this,"zoom0"),Ce(this,"_domElementKeyEvents",null),Ce(this,"getPolarAngle"),Ce(this,"getAzimuthalAngle"),Ce(this,"setPolarAngle"),Ce(this,"setAzimuthalAngle"),Ce(this,"getDistance"),Ce(this,"getZoomScale"),Ce(this,"listenToKeyEvents"),Ce(this,"stopListenToKeyEvents"),Ce(this,"saveState"),Ce(this,"reset"),Ce(this,"update"),Ce(this,"connect"),Ce(this,"dispose"),Ce(this,"dollyIn"),Ce(this,"dollyOut"),Ce(this,"getScale"),Ce(this,"setScale"),this.object=n,this.domElement=s,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>g.phi,this.getAzimuthalAngle=()=>g.theta,this.setPolarAngle=D=>{let q=Pd(D,2*Math.PI),fe=g.phi;fe<0&&(fe+=2*Math.PI),q<0&&(q+=2*Math.PI);let Ie=Math.abs(q-fe);2*Math.PI-Ie<Ie&&(q<fe?q+=2*Math.PI:fe+=2*Math.PI),A.phi=q-fe,r.update()},this.setAzimuthalAngle=D=>{let q=Pd(D,2*Math.PI),fe=g.theta;fe<0&&(fe+=2*Math.PI),q<0&&(q+=2*Math.PI);let Ie=Math.abs(q-fe);2*Math.PI-Ie<Ie&&(q<fe?q+=2*Math.PI:fe+=2*Math.PI),A.theta=q-fe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=D=>{D.addEventListener("keydown",ba),this._domElementKeyEvents=D},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ba),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(o),r.update(),h=p.NONE},this.update=(()=>{const D=new $e,q=new $e(0,1,0),fe=new cl().setFromUnitVectors(n.up,q),Ie=fe.clone().invert(),ee=new $e,Bt=new cl,tn=2*Math.PI;return function(){const ai=r.object.position;fe.setFromUnitVectors(n.up,q),Ie.copy(fe).invert(),D.copy(ai).sub(r.target),D.applyQuaternion(fe),g.setFromVector3(D),r.autoRotate&&h===p.NONE&&re(Ee()),r.enableDamping?(g.theta+=A.theta*r.dampingFactor,g.phi+=A.phi*r.dampingFactor):(g.theta+=A.theta,g.phi+=A.phi);let Vt=r.minAzimuthAngle,Nt=r.maxAzimuthAngle;isFinite(Vt)&&isFinite(Nt)&&(Vt<-Math.PI?Vt+=tn:Vt>Math.PI&&(Vt-=tn),Nt<-Math.PI?Nt+=tn:Nt>Math.PI&&(Nt-=tn),Vt<=Nt?g.theta=Math.max(Vt,Math.min(Nt,g.theta)):g.theta=g.theta>(Vt+Nt)/2?Math.max(Vt,g.theta):Math.min(Nt,g.theta)),g.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,g.phi)),g.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(y,r.dampingFactor):r.target.add(y),r.zoomToCursor&&K||r.object.isOrthographicCamera?g.radius=xe(g.radius):g.radius=xe(g.radius*B),D.setFromSpherical(g),D.applyQuaternion(Ie),ai.copy(r.target).add(D),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(A.theta*=1-r.dampingFactor,A.phi*=1-r.dampingFactor,y.multiplyScalar(1-r.dampingFactor)):(A.set(0,0,0),y.set(0,0,0));let nn=!1;if(r.zoomToCursor&&K){let An=null;if(r.object instanceof gs&&r.object.isPerspectiveCamera){const Qn=D.length();An=xe(Qn*B);const la=Qn-An;r.object.position.addScaledVector(se,la),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Qn=new $e(I.x,I.y,0);Qn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/B)),r.object.updateProjectionMatrix(),nn=!0;const la=new $e(I.x,I.y,0);la.unproject(r.object),r.object.position.sub(la).add(Qn),r.object.updateMatrixWorld(),An=D.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;An!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(An).add(r.object.position):(il.origin.copy(r.object.position),il.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(il.direction))<e0?n.lookAt(r.target):(Kd.setFromNormalAndCoplanarPoint(r.object.up,r.target),il.intersectPlane(Kd,r.target))))}else r.object instanceof Ri&&r.object.isOrthographicCamera&&(nn=B!==1,nn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/B)),r.object.updateProjectionMatrix()));return B=1,K=!1,nn||ee.distanceToSquared(r.object.position)>m||8*(1-Bt.dot(r.object.quaternion))>m?(r.dispatchEvent(o),ee.copy(r.object.position),Bt.copy(r.object.quaternion),nn=!1,!0):!1}})(),this.connect=D=>{r.domElement=D,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ra),r.domElement.addEventListener("pointerdown",Ni),r.domElement.addEventListener("pointercancel",Pn),r.domElement.addEventListener("wheel",Ta)},this.dispose=()=>{var D,q,fe,Ie,ee,Bt;r.domElement&&(r.domElement.style.touchAction="auto"),(D=r.domElement)==null||D.removeEventListener("contextmenu",Ra),(q=r.domElement)==null||q.removeEventListener("pointerdown",Ni),(fe=r.domElement)==null||fe.removeEventListener("pointercancel",Pn),(Ie=r.domElement)==null||Ie.removeEventListener("wheel",Ta),(ee=r.domElement)==null||ee.ownerDocument.removeEventListener("pointermove",sa),(Bt=r.domElement)==null||Bt.ownerDocument.removeEventListener("pointerup",Pn),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ba)};const r=this,o={type:"change"},c={type:"start"},f={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=p.NONE;const m=1e-6,g=new Su,A=new Su;let B=1;const y=new $e,M=new Qe,G=new Qe,x=new Qe,R=new Qe,T=new Qe,F=new Qe,j=new Qe,P=new Qe,L=new Qe,se=new $e,I=new Qe;let K=!1;const Q=[],le={};function Ee(){return 2*Math.PI/60/60*r.autoRotateSpeed}function ie(){return Math.pow(.95,r.zoomSpeed)}function re(D){r.reverseOrbit||r.reverseHorizontalOrbit?A.theta+=D:A.theta-=D}function ye(D){r.reverseOrbit||r.reverseVerticalOrbit?A.phi+=D:A.phi-=D}const Y=(()=>{const D=new $e;return function(fe,Ie){D.setFromMatrixColumn(Ie,0),D.multiplyScalar(-fe),y.add(D)}})(),ce=(()=>{const D=new $e;return function(fe,Ie){r.screenSpacePanning===!0?D.setFromMatrixColumn(Ie,1):(D.setFromMatrixColumn(Ie,0),D.crossVectors(r.object.up,D)),D.multiplyScalar(fe),y.add(D)}})(),he=(()=>{const D=new $e;return function(fe,Ie){const ee=r.domElement;if(ee&&r.object instanceof gs&&r.object.isPerspectiveCamera){const Bt=r.object.position;D.copy(Bt).sub(r.target);let tn=D.length();tn*=Math.tan(r.object.fov/2*Math.PI/180),Y(2*fe*tn/ee.clientHeight,r.object.matrix),ce(2*Ie*tn/ee.clientHeight,r.object.matrix)}else ee&&r.object instanceof Ri&&r.object.isOrthographicCamera?(Y(fe*(r.object.right-r.object.left)/r.object.zoom/ee.clientWidth,r.object.matrix),ce(Ie*(r.object.top-r.object.bottom)/r.object.zoom/ee.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ve(D){r.object instanceof gs&&r.object.isPerspectiveCamera||r.object instanceof Ri&&r.object.isOrthographicCamera?B=D:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function pe(D){ve(B/D)}function Se(D){ve(B*D)}function Ae(D){if(!r.zoomToCursor||!r.domElement)return;K=!0;const q=r.domElement.getBoundingClientRect(),fe=D.clientX-q.left,Ie=D.clientY-q.top,ee=q.width,Bt=q.height;I.x=fe/ee*2-1,I.y=-(Ie/Bt)*2+1,se.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function xe(D){return Math.max(r.minDistance,Math.min(r.maxDistance,D))}function De(D){M.set(D.clientX,D.clientY)}function ct(D){Ae(D),j.set(D.clientX,D.clientY)}function Ue(D){R.set(D.clientX,D.clientY)}function Ut(D){G.set(D.clientX,D.clientY),x.subVectors(G,M).multiplyScalar(r.rotateSpeed);const q=r.domElement;q&&(re(2*Math.PI*x.x/q.clientHeight),ye(2*Math.PI*x.y/q.clientHeight)),M.copy(G),r.update()}function St(D){P.set(D.clientX,D.clientY),L.subVectors(P,j),L.y>0?pe(ie()):L.y<0&&Se(ie()),j.copy(P),r.update()}function Ui(D){T.set(D.clientX,D.clientY),F.subVectors(T,R).multiplyScalar(r.panSpeed),he(F.x,F.y),R.copy(T),r.update()}function Oi(D){Ae(D),D.deltaY<0?Se(ie()):D.deltaY>0&&pe(ie()),r.update()}function wn(D){let q=!1;switch(D.code){case r.keys.UP:he(0,r.keyPanSpeed),q=!0;break;case r.keys.BOTTOM:he(0,-r.keyPanSpeed),q=!0;break;case r.keys.LEFT:he(r.keyPanSpeed,0),q=!0;break;case r.keys.RIGHT:he(-r.keyPanSpeed,0),q=!0;break}q&&(D.preventDefault(),r.update())}function Jn(){if(Q.length==1)M.set(Q[0].pageX,Q[0].pageY);else{const D=.5*(Q[0].pageX+Q[1].pageX),q=.5*(Q[0].pageY+Q[1].pageY);M.set(D,q)}}function Gn(){if(Q.length==1)R.set(Q[0].pageX,Q[0].pageY);else{const D=.5*(Q[0].pageX+Q[1].pageX),q=.5*(Q[0].pageY+Q[1].pageY);R.set(D,q)}}function jn(){const D=Q[0].pageX-Q[1].pageX,q=Q[0].pageY-Q[1].pageY,fe=Math.sqrt(D*D+q*q);j.set(0,fe)}function aa(){r.enableZoom&&jn(),r.enablePan&&Gn()}function $a(){r.enableZoom&&jn(),r.enableRotate&&Jn()}function en(D){if(Q.length==1)G.set(D.pageX,D.pageY);else{const fe=vn(D),Ie=.5*(D.pageX+fe.x),ee=.5*(D.pageY+fe.y);G.set(Ie,ee)}x.subVectors(G,M).multiplyScalar(r.rotateSpeed);const q=r.domElement;q&&(re(2*Math.PI*x.x/q.clientHeight),ye(2*Math.PI*x.y/q.clientHeight)),M.copy(G)}function ei(D){if(Q.length==1)T.set(D.pageX,D.pageY);else{const q=vn(D),fe=.5*(D.pageX+q.x),Ie=.5*(D.pageY+q.y);T.set(fe,Ie)}F.subVectors(T,R).multiplyScalar(r.panSpeed),he(F.x,F.y),R.copy(T)}function ia(D){const q=vn(D),fe=D.pageX-q.x,Ie=D.pageY-q.y,ee=Math.sqrt(fe*fe+Ie*Ie);P.set(0,ee),L.set(0,Math.pow(P.y/j.y,r.zoomSpeed)),pe(L.y),j.copy(P)}function Zt(D){r.enableZoom&&ia(D),r.enablePan&&ei(D)}function Kn(D){r.enableZoom&&ia(D),r.enableRotate&&en(D)}function Ni(D){var q,fe;r.enabled!==!1&&(Q.length===0&&((q=r.domElement)==null||q.ownerDocument.addEventListener("pointermove",sa),(fe=r.domElement)==null||fe.ownerDocument.addEventListener("pointerup",Pn)),ti(D),D.pointerType==="touch"?ra(D):Ma(D))}function sa(D){r.enabled!==!1&&(D.pointerType==="touch"?Rs(D):bs(D))}function Pn(D){var q,fe,Ie;Ot(D),Q.length===0&&((q=r.domElement)==null||q.releasePointerCapture(D.pointerId),(fe=r.domElement)==null||fe.ownerDocument.removeEventListener("pointermove",sa),(Ie=r.domElement)==null||Ie.ownerDocument.removeEventListener("pointerup",Pn)),r.dispatchEvent(f),h=p.NONE}function Ma(D){let q;switch(D.button){case 0:q=r.mouseButtons.LEFT;break;case 1:q=r.mouseButtons.MIDDLE;break;case 2:q=r.mouseButtons.RIGHT;break;default:q=-1}switch(q){case ls.DOLLY:if(r.enableZoom===!1)return;ct(D),h=p.DOLLY;break;case ls.ROTATE:if(D.ctrlKey||D.metaKey||D.shiftKey){if(r.enablePan===!1)return;Ue(D),h=p.PAN}else{if(r.enableRotate===!1)return;De(D),h=p.ROTATE}break;case ls.PAN:if(D.ctrlKey||D.metaKey||D.shiftKey){if(r.enableRotate===!1)return;De(D),h=p.ROTATE}else{if(r.enablePan===!1)return;Ue(D),h=p.PAN}break;default:h=p.NONE}h!==p.NONE&&r.dispatchEvent(c)}function bs(D){if(r.enabled!==!1)switch(h){case p.ROTATE:if(r.enableRotate===!1)return;Ut(D);break;case p.DOLLY:if(r.enableZoom===!1)return;St(D);break;case p.PAN:if(r.enablePan===!1)return;Ui(D);break}}function Ta(D){r.enabled===!1||r.enableZoom===!1||h!==p.NONE&&h!==p.ROTATE||(D.preventDefault(),r.dispatchEvent(c),Oi(D),r.dispatchEvent(f))}function ba(D){r.enabled===!1||r.enablePan===!1||wn(D)}function ra(D){switch(it(D),Q.length){case 1:switch(r.touches.ONE){case os.ROTATE:if(r.enableRotate===!1)return;Jn(),h=p.TOUCH_ROTATE;break;case os.PAN:if(r.enablePan===!1)return;Gn(),h=p.TOUCH_PAN;break;default:h=p.NONE}break;case 2:switch(r.touches.TWO){case os.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;aa(),h=p.TOUCH_DOLLY_PAN;break;case os.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;$a(),h=p.TOUCH_DOLLY_ROTATE;break;default:h=p.NONE}break;default:h=p.NONE}h!==p.NONE&&r.dispatchEvent(c)}function Rs(D){switch(it(D),h){case p.TOUCH_ROTATE:if(r.enableRotate===!1)return;en(D),r.update();break;case p.TOUCH_PAN:if(r.enablePan===!1)return;ei(D),r.update();break;case p.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Zt(D),r.update();break;case p.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Kn(D),r.update();break;default:h=p.NONE}}function Ra(D){r.enabled!==!1&&D.preventDefault()}function ti(D){Q.push(D)}function Ot(D){delete le[D.pointerId];for(let q=0;q<Q.length;q++)if(Q[q].pointerId==D.pointerId){Q.splice(q,1);return}}function it(D){let q=le[D.pointerId];q===void 0&&(q=new Qe,le[D.pointerId]=q),q.set(D.pageX,D.pageY)}function vn(D){const q=D.pointerId===Q[0].pointerId?Q[1]:Q[0];return le[q.pointerId]}this.dollyIn=(D=ie())=>{Se(D),r.update()},this.dollyOut=(D=ie())=>{pe(D),r.update()},this.getScale=()=>B,this.setScale=D=>{ve(D),r.update()},this.getZoomScale=()=>ie(),s!==void 0&&this.connect(s),this.update()}};function Bl(a){if(typeof TextDecoder<"u")return new TextDecoder().decode(a);let n="";for(let s=0,r=a.length;s<r;s++)n+=String.fromCharCode(a[s]);try{return decodeURIComponent(escape(n))}catch{return n}}const bi="srgb",ya="srgb-linear",Qd=3001,n0=3e3;class Yu extends Nu{constructor(n){super(n),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(s){return new l0(s)}),this.register(function(s){return new o0(s)}),this.register(function(s){return new A0(s)}),this.register(function(s){return new g0(s)}),this.register(function(s){return new B0(s)}),this.register(function(s){return new c0(s)}),this.register(function(s){return new f0(s)}),this.register(function(s){return new d0(s)}),this.register(function(s){return new h0(s)}),this.register(function(s){return new r0(s)}),this.register(function(s){return new p0(s)}),this.register(function(s){return new u0(s)}),this.register(function(s){return new v0(s)}),this.register(function(s){return new m0(s)}),this.register(function(s){return new i0(s)}),this.register(function(s){return new E0(s)}),this.register(function(s){return new C0(s)})}load(n,s,r,o){const c=this;let f;if(this.resourcePath!=="")f=this.resourcePath;else if(this.path!==""){const m=ar.extractUrlBase(n);f=ar.resolveURL(m,this.path)}else f=ar.extractUrlBase(n);this.manager.itemStart(n);const p=function(m){o?o(m):console.error(m),c.manager.itemError(n),c.manager.itemEnd(n)},h=new ka(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(n,function(m){try{c.parse(m,f,function(g){s(g),c.manager.itemEnd(n)},p)}catch(g){p(g)}},r,p)}setDRACOLoader(n){return this.dracoLoader=n,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(n){return this.ktx2Loader=n,this}setMeshoptDecoder(n){return this.meshoptDecoder=n,this}register(n){return this.pluginCallbacks.indexOf(n)===-1&&this.pluginCallbacks.push(n),this}unregister(n){return this.pluginCallbacks.indexOf(n)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(n),1),this}parse(n,s,r,o){let c;const f={},p={};if(typeof n=="string")c=JSON.parse(n);else if(n instanceof ArrayBuffer)if(Bl(new Uint8Array(n.slice(0,4)))===Yh){try{f[Fe.KHR_BINARY_GLTF]=new y0(n)}catch(g){o&&o(g);return}c=JSON.parse(f[Fe.KHR_BINARY_GLTF].content)}else c=JSON.parse(Bl(new Uint8Array(n)));else c=n;if(c.asset===void 0||c.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const h=new N0(c,{path:s||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let m=0;m<this.pluginCallbacks.length;m++){const g=this.pluginCallbacks[m](h);g.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),p[g.name]=g,f[g.name]=!0}if(c.extensionsUsed)for(let m=0;m<c.extensionsUsed.length;++m){const g=c.extensionsUsed[m],A=c.extensionsRequired||[];switch(g){case Fe.KHR_MATERIALS_UNLIT:f[g]=new s0;break;case Fe.KHR_DRACO_MESH_COMPRESSION:f[g]=new S0(c,this.dracoLoader);break;case Fe.KHR_TEXTURE_TRANSFORM:f[g]=new M0;break;case Fe.KHR_MESH_QUANTIZATION:f[g]=new T0;break;default:A.indexOf(g)>=0&&p[g]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}h.setExtensions(f),h.setPlugins(p),h.parse(r,o)}parseAsync(n,s){const r=this;return new Promise(function(o,c){r.parse(n,s,o,c)})}}function a0(){let a={};return{get:function(n){return a[n]},add:function(n,s){a[n]=s},remove:function(n){delete a[n]},removeAll:function(){a={}}}}const Fe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class i0{constructor(n){this.parser=n,this.name=Fe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const n=this.parser,s=this.parser.json.nodes||[];for(let r=0,o=s.length;r<o;r++){const c=s[r];c.extensions&&c.extensions[this.name]&&c.extensions[this.name].light!==void 0&&n._addNodeRef(this.cache,c.extensions[this.name].light)}}_loadLight(n){const s=this.parser,r="light:"+n;let o=s.cache.get(r);if(o)return o;const c=s.json,h=((c.extensions&&c.extensions[this.name]||{}).lights||[])[n];let m;const g=new _n(16777215);h.color!==void 0&&g.setRGB(h.color[0],h.color[1],h.color[2],ya);const A=h.range!==void 0?h.range:0;switch(h.type){case"directional":m=new yv(g),m.target.position.set(0,0,-1),m.add(m.target);break;case"point":m=new Cv(g),m.distance=A;break;case"spot":m=new Ev(g),m.distance=A,h.spot=h.spot||{},h.spot.innerConeAngle=h.spot.innerConeAngle!==void 0?h.spot.innerConeAngle:0,h.spot.outerConeAngle=h.spot.outerConeAngle!==void 0?h.spot.outerConeAngle:Math.PI/4,m.angle=h.spot.outerConeAngle,m.penumbra=1-h.spot.innerConeAngle/h.spot.outerConeAngle,m.target.position.set(0,0,-1),m.add(m.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+h.type)}return m.position.set(0,0,0),m.decay=2,Ea(m,h),h.intensity!==void 0&&(m.intensity=h.intensity),m.name=s.createUniqueName(h.name||"light_"+n),o=Promise.resolve(m),s.cache.add(r,o),o}getDependency(n,s){if(n==="light")return this._loadLight(s)}createNodeAttachment(n){const s=this,r=this.parser,c=r.json.nodes[n],p=(c.extensions&&c.extensions[this.name]||{}).light;return p===void 0?null:this._loadLight(p).then(function(h){return r._getNodeRef(s.cache,p,h)})}}class s0{constructor(){this.name=Fe.KHR_MATERIALS_UNLIT}getMaterialType(){return hs}extendParams(n,s,r){const o=[];n.color=new _n(1,1,1),n.opacity=1;const c=s.pbrMetallicRoughness;if(c){if(Array.isArray(c.baseColorFactor)){const f=c.baseColorFactor;n.color.setRGB(f[0],f[1],f[2],ya),n.opacity=f[3]}c.baseColorTexture!==void 0&&o.push(r.assignTexture(n,"map",c.baseColorTexture,bi))}return Promise.all(o)}}class r0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(n,s){const o=this.parser.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=o.extensions[this.name].emissiveStrength;return c!==void 0&&(s.emissiveIntensity=c),Promise.resolve()}}class l0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_CLEARCOAT}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const r=this.parser,o=r.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=[],f=o.extensions[this.name];if(f.clearcoatFactor!==void 0&&(s.clearcoat=f.clearcoatFactor),f.clearcoatTexture!==void 0&&c.push(r.assignTexture(s,"clearcoatMap",f.clearcoatTexture)),f.clearcoatRoughnessFactor!==void 0&&(s.clearcoatRoughness=f.clearcoatRoughnessFactor),f.clearcoatRoughnessTexture!==void 0&&c.push(r.assignTexture(s,"clearcoatRoughnessMap",f.clearcoatRoughnessTexture)),f.clearcoatNormalTexture!==void 0&&(c.push(r.assignTexture(s,"clearcoatNormalMap",f.clearcoatNormalTexture)),f.clearcoatNormalTexture.scale!==void 0)){const p=f.clearcoatNormalTexture.scale;s.clearcoatNormalScale=new Qe(p,p)}return Promise.all(c)}}class o0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_DISPERSION}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const o=this.parser.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=o.extensions[this.name];return s.dispersion=c.dispersion!==void 0?c.dispersion:0,Promise.resolve()}}class u0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_IRIDESCENCE}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const r=this.parser,o=r.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=[],f=o.extensions[this.name];return f.iridescenceFactor!==void 0&&(s.iridescence=f.iridescenceFactor),f.iridescenceTexture!==void 0&&c.push(r.assignTexture(s,"iridescenceMap",f.iridescenceTexture)),f.iridescenceIor!==void 0&&(s.iridescenceIOR=f.iridescenceIor),s.iridescenceThicknessRange===void 0&&(s.iridescenceThicknessRange=[100,400]),f.iridescenceThicknessMinimum!==void 0&&(s.iridescenceThicknessRange[0]=f.iridescenceThicknessMinimum),f.iridescenceThicknessMaximum!==void 0&&(s.iridescenceThicknessRange[1]=f.iridescenceThicknessMaximum),f.iridescenceThicknessTexture!==void 0&&c.push(r.assignTexture(s,"iridescenceThicknessMap",f.iridescenceThicknessTexture)),Promise.all(c)}}class c0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_SHEEN}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const r=this.parser,o=r.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=[];s.sheenColor=new _n(0,0,0),s.sheenRoughness=0,s.sheen=1;const f=o.extensions[this.name];if(f.sheenColorFactor!==void 0){const p=f.sheenColorFactor;s.sheenColor.setRGB(p[0],p[1],p[2],ya)}return f.sheenRoughnessFactor!==void 0&&(s.sheenRoughness=f.sheenRoughnessFactor),f.sheenColorTexture!==void 0&&c.push(r.assignTexture(s,"sheenColorMap",f.sheenColorTexture,bi)),f.sheenRoughnessTexture!==void 0&&c.push(r.assignTexture(s,"sheenRoughnessMap",f.sheenRoughnessTexture)),Promise.all(c)}}class f0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_TRANSMISSION}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const r=this.parser,o=r.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=[],f=o.extensions[this.name];return f.transmissionFactor!==void 0&&(s.transmission=f.transmissionFactor),f.transmissionTexture!==void 0&&c.push(r.assignTexture(s,"transmissionMap",f.transmissionTexture)),Promise.all(c)}}class d0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_VOLUME}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const r=this.parser,o=r.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=[],f=o.extensions[this.name];s.thickness=f.thicknessFactor!==void 0?f.thicknessFactor:0,f.thicknessTexture!==void 0&&c.push(r.assignTexture(s,"thicknessMap",f.thicknessTexture)),s.attenuationDistance=f.attenuationDistance||1/0;const p=f.attenuationColor||[1,1,1];return s.attenuationColor=new _n().setRGB(p[0],p[1],p[2],ya),Promise.all(c)}}class h0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_IOR}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const o=this.parser.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=o.extensions[this.name];return s.ior=c.ior!==void 0?c.ior:1.5,Promise.resolve()}}class p0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_SPECULAR}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const r=this.parser,o=r.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=[],f=o.extensions[this.name];s.specularIntensity=f.specularFactor!==void 0?f.specularFactor:1,f.specularTexture!==void 0&&c.push(r.assignTexture(s,"specularIntensityMap",f.specularTexture));const p=f.specularColorFactor||[1,1,1];return s.specularColor=new _n().setRGB(p[0],p[1],p[2],ya),f.specularColorTexture!==void 0&&c.push(r.assignTexture(s,"specularColorMap",f.specularColorTexture,bi)),Promise.all(c)}}class m0{constructor(n){this.parser=n,this.name=Fe.EXT_MATERIALS_BUMP}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const r=this.parser,o=r.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=[],f=o.extensions[this.name];return s.bumpScale=f.bumpFactor!==void 0?f.bumpFactor:1,f.bumpTexture!==void 0&&c.push(r.assignTexture(s,"bumpMap",f.bumpTexture)),Promise.all(c)}}class v0{constructor(n){this.parser=n,this.name=Fe.KHR_MATERIALS_ANISOTROPY}getMaterialType(n){const r=this.parser.json.materials[n];return!r.extensions||!r.extensions[this.name]?null:na}extendMaterialParams(n,s){const r=this.parser,o=r.json.materials[n];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const c=[],f=o.extensions[this.name];return f.anisotropyStrength!==void 0&&(s.anisotropy=f.anisotropyStrength),f.anisotropyRotation!==void 0&&(s.anisotropyRotation=f.anisotropyRotation),f.anisotropyTexture!==void 0&&c.push(r.assignTexture(s,"anisotropyMap",f.anisotropyTexture)),Promise.all(c)}}class A0{constructor(n){this.parser=n,this.name=Fe.KHR_TEXTURE_BASISU}loadTexture(n){const s=this.parser,r=s.json,o=r.textures[n];if(!o.extensions||!o.extensions[this.name])return null;const c=o.extensions[this.name],f=s.options.ktx2Loader;if(!f){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return s.loadTextureImage(n,c.source,f)}}class g0{constructor(n){this.parser=n,this.name=Fe.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(n){const s=this.name,r=this.parser,o=r.json,c=o.textures[n];if(!c.extensions||!c.extensions[s])return null;const f=c.extensions[s],p=o.images[f.source];let h=r.textureLoader;if(p.uri){const m=r.options.manager.getHandler(p.uri);m!==null&&(h=m)}return this.detectSupport().then(function(m){if(m)return r.loadTextureImage(n,f.source,h);if(o.extensionsRequired&&o.extensionsRequired.indexOf(s)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(n)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(n){const s=new Image;s.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",s.onload=s.onerror=function(){n(s.height===1)}})),this.isSupported}}class B0{constructor(n){this.parser=n,this.name=Fe.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(n){const s=this.name,r=this.parser,o=r.json,c=o.textures[n];if(!c.extensions||!c.extensions[s])return null;const f=c.extensions[s],p=o.images[f.source];let h=r.textureLoader;if(p.uri){const m=r.options.manager.getHandler(p.uri);m!==null&&(h=m)}return this.detectSupport().then(function(m){if(m)return r.loadTextureImage(n,f.source,h);if(o.extensionsRequired&&o.extensionsRequired.indexOf(s)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(n)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(n){const s=new Image;s.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",s.onload=s.onerror=function(){n(s.height===1)}})),this.isSupported}}class E0{constructor(n){this.name=Fe.EXT_MESHOPT_COMPRESSION,this.parser=n}loadBufferView(n){const s=this.parser.json,r=s.bufferViews[n];if(r.extensions&&r.extensions[this.name]){const o=r.extensions[this.name],c=this.parser.getDependency("buffer",o.buffer),f=this.parser.options.meshoptDecoder;if(!f||!f.supported){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return c.then(function(p){const h=o.byteOffset||0,m=o.byteLength||0,g=o.count,A=o.byteStride,B=new Uint8Array(p,h,m);return f.decodeGltfBufferAsync?f.decodeGltfBufferAsync(g,A,B,o.mode,o.filter).then(function(y){return y.buffer}):f.ready.then(function(){const y=new ArrayBuffer(g*A);return f.decodeGltfBuffer(new Uint8Array(y),g,A,B,o.mode,o.filter),y})})}else return null}}class C0{constructor(n){this.name=Fe.EXT_MESH_GPU_INSTANCING,this.parser=n}createNodeMesh(n){const s=this.parser.json,r=s.nodes[n];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const o=s.meshes[r.mesh];for(const m of o.primitives)if(m.mode!==Rn.TRIANGLES&&m.mode!==Rn.TRIANGLE_STRIP&&m.mode!==Rn.TRIANGLE_FAN&&m.mode!==void 0)return null;const f=r.extensions[this.name].attributes,p=[],h={};for(const m in f)p.push(this.parser.getDependency("accessor",f[m]).then(g=>(h[m]=g,h[m])));return p.length<1?null:(p.push(this.parser.createNodeMesh(n)),Promise.all(p).then(m=>{const g=m.pop(),A=g.isGroup?g.children:[g],B=m[0].count,y=[];for(const M of A){const G=new fl,x=new $e,R=new cl,T=new $e(1,1,1),F=new Sv(M.geometry,M.material,B);for(let j=0;j<B;j++)h.TRANSLATION&&x.fromBufferAttribute(h.TRANSLATION,j),h.ROTATION&&R.fromBufferAttribute(h.ROTATION,j),h.SCALE&&T.fromBufferAttribute(h.SCALE,j),F.setMatrixAt(j,G.compose(x,R,T));for(const j in h)if(j==="_COLOR_0"){const P=h[j];F.instanceColor=new Mv(P.array,P.itemSize,P.normalized)}else j!=="TRANSLATION"&&j!=="ROTATION"&&j!=="SCALE"&&M.geometry.setAttribute(j,h[j]);fh.prototype.copy.call(F,M),this.parser.assignFinalMaterial(F),y.push(F)}return g.isGroup?(g.clear(),g.add(...y),g):y[0]}))}}const Yh="glTF",$s=12,Xd={JSON:1313821514,BIN:5130562};class y0{constructor(n){this.name=Fe.KHR_BINARY_GLTF,this.content=null,this.body=null;const s=new DataView(n,0,$s);if(this.header={magic:Bl(new Uint8Array(n.slice(0,4))),version:s.getUint32(4,!0),length:s.getUint32(8,!0)},this.header.magic!==Yh)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-$s,o=new DataView(n,$s);let c=0;for(;c<r;){const f=o.getUint32(c,!0);c+=4;const p=o.getUint32(c,!0);if(c+=4,p===Xd.JSON){const h=new Uint8Array(n,$s+c,f);this.content=Bl(h)}else if(p===Xd.BIN){const h=$s+c;this.body=n.slice(h,h+f)}c+=f}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class S0{constructor(n,s){if(!s)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Fe.KHR_DRACO_MESH_COMPRESSION,this.json=n,this.dracoLoader=s,this.dracoLoader.preload()}decodePrimitive(n,s){const r=this.json,o=this.dracoLoader,c=n.extensions[this.name].bufferView,f=n.extensions[this.name].attributes,p={},h={},m={};for(const g in f){const A=Gu[g]||g.toLowerCase();p[A]=f[g]}for(const g in n.attributes){const A=Gu[g]||g.toLowerCase();if(f[g]!==void 0){const B=r.accessors[n.attributes[g]],y=Bs[B.componentType];m[A]=y.name,h[A]=B.normalized===!0}}return s.getDependency("bufferView",c).then(function(g){return new Promise(function(A,B){o.decodeDracoFile(g,function(y){for(const M in y.attributes){const G=y.attributes[M],x=h[M];x!==void 0&&(G.normalized=x)}A(y)},p,m,ya,B)})})}}class M0{constructor(){this.name=Fe.KHR_TEXTURE_TRANSFORM}extendTexture(n,s){return(s.texCoord===void 0||s.texCoord===n.channel)&&s.offset===void 0&&s.rotation===void 0&&s.scale===void 0||(n=n.clone(),s.texCoord!==void 0&&(n.channel=s.texCoord),s.offset!==void 0&&n.offset.fromArray(s.offset),s.rotation!==void 0&&(n.rotation=s.rotation),s.scale!==void 0&&n.repeat.fromArray(s.scale),n.needsUpdate=!0),n}}class T0{constructor(){this.name=Fe.KHR_MESH_QUANTIZATION}}class Zh extends Xv{constructor(n,s,r,o){super(n,s,r,o)}copySampleValue_(n){const s=this.resultBuffer,r=this.sampleValues,o=this.valueSize,c=n*o*3+o;for(let f=0;f!==o;f++)s[f]=r[c+f];return s}interpolate_(n,s,r,o){const c=this.resultBuffer,f=this.sampleValues,p=this.valueSize,h=p*2,m=p*3,g=o-s,A=(r-s)/g,B=A*A,y=B*A,M=n*m,G=M-m,x=-2*y+3*B,R=y-B,T=1-x,F=R-B+A;for(let j=0;j!==p;j++){const P=f[G+j+p],L=f[G+j+h]*g,se=f[M+j+p],I=f[M+j]*g;c[j]=T*P+F*L+x*se+R*I}return c}}const b0=new cl;class R0 extends Zh{interpolate_(n,s,r,o){const c=super.interpolate_(n,s,r,o);return b0.fromArray(c).normalize().toArray(c),c}}const Rn={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Bs={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Yd={9728:ur,9729:Jt,9984:Hv,9985:_v,9986:Dv,9987:dh},Zd={33071:Ca,33648:xv,10497:Mu},mu={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Gu={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Xu>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ya={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},D0={CUBICSPLINE:void 0,LINEAR:hh,STEP:Pv},vu={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function _0(a){return a.DefaultMaterial===void 0&&(a.DefaultMaterial=new yl({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ph})),a.DefaultMaterial}function Si(a,n,s){for(const r in s.extensions)a[r]===void 0&&(n.userData.gltfExtensions=n.userData.gltfExtensions||{},n.userData.gltfExtensions[r]=s.extensions[r])}function Ea(a,n){n.extras!==void 0&&(typeof n.extras=="object"?Object.assign(a.userData,n.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+n.extras))}function H0(a,n,s){let r=!1,o=!1,c=!1;for(let m=0,g=n.length;m<g;m++){const A=n[m];if(A.POSITION!==void 0&&(r=!0),A.NORMAL!==void 0&&(o=!0),A.COLOR_0!==void 0&&(c=!0),r&&o&&c)break}if(!r&&!o&&!c)return Promise.resolve(a);const f=[],p=[],h=[];for(let m=0,g=n.length;m<g;m++){const A=n[m];if(r){const B=A.POSITION!==void 0?s.getDependency("accessor",A.POSITION):a.attributes.position;f.push(B)}if(o){const B=A.NORMAL!==void 0?s.getDependency("accessor",A.NORMAL):a.attributes.normal;p.push(B)}if(c){const B=A.COLOR_0!==void 0?s.getDependency("accessor",A.COLOR_0):a.attributes.color;h.push(B)}}return Promise.all([Promise.all(f),Promise.all(p),Promise.all(h)]).then(function(m){const g=m[0],A=m[1],B=m[2];return r&&(a.morphAttributes.position=g),o&&(a.morphAttributes.normal=A),c&&(a.morphAttributes.color=B),a.morphTargetsRelative=!0,a})}function x0(a,n){if(a.updateMorphTargets(),n.weights!==void 0)for(let s=0,r=n.weights.length;s<r;s++)a.morphTargetInfluences[s]=n.weights[s];if(n.extras&&Array.isArray(n.extras.targetNames)){const s=n.extras.targetNames;if(a.morphTargetInfluences.length===s.length){a.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++)a.morphTargetDictionary[s[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function G0(a){let n;const s=a.extensions&&a.extensions[Fe.KHR_DRACO_MESH_COMPRESSION];if(s?n="draco:"+s.bufferView+":"+s.indices+":"+Au(s.attributes):n=a.indices+":"+Au(a.attributes)+":"+a.mode,a.targets!==void 0)for(let r=0,o=a.targets.length;r<o;r++)n+=":"+Au(a.targets[r]);return n}function Au(a){let n="";const s=Object.keys(a).sort();for(let r=0,o=s.length;r<o;r++)n+=s[r]+":"+a[s[r]]+";";return n}function Uu(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function U0(a){return a.search(/\.jpe?g($|\?)/i)>0||a.search(/^data\:image\/jpeg/)===0?"image/jpeg":a.search(/\.webp($|\?)/i)>0||a.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const O0=new fl;class N0{constructor(n={},s={}){this.json=n,this.extensions={},this.plugins={},this.options=s,this.cache=new a0,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,o=!1,c=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=navigator.userAgent.indexOf("Firefox")>-1,c=o?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||o&&c<98?this.textureLoader=new Tv(this.options.manager):this.textureLoader=new bv(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ka(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(n){this.extensions=n}setPlugins(n){this.plugins=n}parse(n,s){const r=this,o=this.json,c=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(f){return f._markDefs&&f._markDefs()}),Promise.all(this._invokeAll(function(f){return f.beforeRoot&&f.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(f){const p={scene:f[0][o.scene||0],scenes:f[0],animations:f[1],cameras:f[2],asset:o.asset,parser:r,userData:{}};return Si(c,p,o),Ea(p,o),Promise.all(r._invokeAll(function(h){return h.afterRoot&&h.afterRoot(p)})).then(function(){for(const h of p.scenes)h.updateMatrixWorld();n(p)})}).catch(s)}_markDefs(){const n=this.json.nodes||[],s=this.json.skins||[],r=this.json.meshes||[];for(let o=0,c=s.length;o<c;o++){const f=s[o].joints;for(let p=0,h=f.length;p<h;p++)n[f[p]].isBone=!0}for(let o=0,c=n.length;o<c;o++){const f=n[o];f.mesh!==void 0&&(this._addNodeRef(this.meshCache,f.mesh),f.skin!==void 0&&(r[f.mesh].isSkinnedMesh=!0)),f.camera!==void 0&&this._addNodeRef(this.cameraCache,f.camera)}}_addNodeRef(n,s){s!==void 0&&(n.refs[s]===void 0&&(n.refs[s]=n.uses[s]=0),n.refs[s]++)}_getNodeRef(n,s,r){if(n.refs[s]<=1)return r;const o=r.clone(),c=(f,p)=>{const h=this.associations.get(f);h!=null&&this.associations.set(p,h);for(const[m,g]of f.children.entries())c(g,p.children[m])};return c(r,o),o.name+="_instance_"+n.uses[s]++,o}_invokeOne(n){const s=Object.values(this.plugins);s.push(this);for(let r=0;r<s.length;r++){const o=n(s[r]);if(o)return o}return null}_invokeAll(n){const s=Object.values(this.plugins);s.unshift(this);const r=[];for(let o=0;o<s.length;o++){const c=n(s[o]);c&&r.push(c)}return r}getDependency(n,s){const r=n+":"+s;let o=this.cache.get(r);if(!o){switch(n){case"scene":o=this.loadScene(s);break;case"node":o=this._invokeOne(function(c){return c.loadNode&&c.loadNode(s)});break;case"mesh":o=this._invokeOne(function(c){return c.loadMesh&&c.loadMesh(s)});break;case"accessor":o=this.loadAccessor(s);break;case"bufferView":o=this._invokeOne(function(c){return c.loadBufferView&&c.loadBufferView(s)});break;case"buffer":o=this.loadBuffer(s);break;case"material":o=this._invokeOne(function(c){return c.loadMaterial&&c.loadMaterial(s)});break;case"texture":o=this._invokeOne(function(c){return c.loadTexture&&c.loadTexture(s)});break;case"skin":o=this.loadSkin(s);break;case"animation":o=this._invokeOne(function(c){return c.loadAnimation&&c.loadAnimation(s)});break;case"camera":o=this.loadCamera(s);break;default:if(o=this._invokeOne(function(c){return c!=this&&c.getDependency&&c.getDependency(n,s)}),!o)throw new Error("Unknown type: "+n);break}this.cache.add(r,o)}return o}getDependencies(n){let s=this.cache.get(n);if(!s){const r=this,o=this.json[n+(n==="mesh"?"es":"s")]||[];s=Promise.all(o.map(function(c,f){return r.getDependency(n,f)})),this.cache.add(n,s)}return s}loadBuffer(n){const s=this.json.buffers[n],r=this.fileLoader;if(s.type&&s.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+s.type+" buffer type is not supported.");if(s.uri===void 0&&n===0)return Promise.resolve(this.extensions[Fe.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(c,f){r.load(ar.resolveURL(s.uri,o.path),c,void 0,function(){f(new Error('THREE.GLTFLoader: Failed to load buffer "'+s.uri+'".'))})})}loadBufferView(n){const s=this.json.bufferViews[n];return this.getDependency("buffer",s.buffer).then(function(r){const o=s.byteLength||0,c=s.byteOffset||0;return r.slice(c,c+o)})}loadAccessor(n){const s=this,r=this.json,o=this.json.accessors[n];if(o.bufferView===void 0&&o.sparse===void 0){const f=mu[o.type],p=Bs[o.componentType],h=o.normalized===!0,m=new p(o.count*f);return Promise.resolve(new Di(m,f,h))}const c=[];return o.bufferView!==void 0?c.push(this.getDependency("bufferView",o.bufferView)):c.push(null),o.sparse!==void 0&&(c.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),c.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(c).then(function(f){const p=f[0],h=mu[o.type],m=Bs[o.componentType],g=m.BYTES_PER_ELEMENT,A=g*h,B=o.byteOffset||0,y=o.bufferView!==void 0?r.bufferViews[o.bufferView].byteStride:void 0,M=o.normalized===!0;let G,x;if(y&&y!==A){const R=Math.floor(B/y),T="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+R+":"+o.count;let F=s.cache.get(T);F||(G=new m(p,R*y,o.count*y/g),F=new Rv(G,y/g),s.cache.add(T,F)),x=new Qv(F,h,B%y/g,M)}else p===null?G=new m(o.count*h):G=new m(p,B,o.count*h),x=new Di(G,h,M);if(o.sparse!==void 0){const R=mu.SCALAR,T=Bs[o.sparse.indices.componentType],F=o.sparse.indices.byteOffset||0,j=o.sparse.values.byteOffset||0,P=new T(f[1],F,o.sparse.count*R),L=new m(f[2],j,o.sparse.count*h);p!==null&&(x=new Di(x.array.slice(),x.itemSize,x.normalized));for(let se=0,I=P.length;se<I;se++){const K=P[se];if(x.setX(K,L[se*h]),h>=2&&x.setY(K,L[se*h+1]),h>=3&&x.setZ(K,L[se*h+2]),h>=4&&x.setW(K,L[se*h+3]),h>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(n){const s=this.json,r=this.options,c=s.textures[n].source,f=s.images[c];let p=this.textureLoader;if(f.uri){const h=r.manager.getHandler(f.uri);h!==null&&(p=h)}return this.loadTextureImage(n,c,p)}loadTextureImage(n,s,r){const o=this,c=this.json,f=c.textures[n],p=c.images[s],h=(p.uri||p.bufferView)+":"+f.sampler;if(this.textureCache[h])return this.textureCache[h];const m=this.loadImageSource(s,r).then(function(g){g.flipY=!1,g.name=f.name||p.name||"",g.name===""&&typeof p.uri=="string"&&p.uri.startsWith("data:image/")===!1&&(g.name=p.uri);const B=(c.samplers||{})[f.sampler]||{};return g.magFilter=Yd[B.magFilter]||Jt,g.minFilter=Yd[B.minFilter]||dh,g.wrapS=Zd[B.wrapS]||Mu,g.wrapT=Zd[B.wrapT]||Mu,o.associations.set(g,{textures:n}),g}).catch(function(){return null});return this.textureCache[h]=m,m}loadImageSource(n,s){const r=this,o=this.json,c=this.options;if(this.sourceCache[n]!==void 0)return this.sourceCache[n].then(A=>A.clone());const f=o.images[n],p=self.URL||self.webkitURL;let h=f.uri||"",m=!1;if(f.bufferView!==void 0)h=r.getDependency("bufferView",f.bufferView).then(function(A){m=!0;const B=new Blob([A],{type:f.mimeType});return h=p.createObjectURL(B),h});else if(f.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+n+" is missing URI and bufferView");const g=Promise.resolve(h).then(function(A){return new Promise(function(B,y){let M=B;s.isImageBitmapLoader===!0&&(M=function(G){const x=new ea(G);x.needsUpdate=!0,B(x)}),s.load(ar.resolveURL(A,c.path),M,void 0,y)})}).then(function(A){return m===!0&&p.revokeObjectURL(h),Ea(A,f),A.userData.mimeType=f.mimeType||U0(f.uri),A}).catch(function(A){throw console.error("THREE.GLTFLoader: Couldn't load texture",h),A});return this.sourceCache[n]=g,g}assignTexture(n,s,r,o){const c=this;return this.getDependency("texture",r.index).then(function(f){if(!f)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(f=f.clone(),f.channel=r.texCoord),c.extensions[Fe.KHR_TEXTURE_TRANSFORM]){const p=r.extensions!==void 0?r.extensions[Fe.KHR_TEXTURE_TRANSFORM]:void 0;if(p){const h=c.associations.get(f);f=c.extensions[Fe.KHR_TEXTURE_TRANSFORM].extendTexture(f,p),c.associations.set(f,h)}}return o!==void 0&&(typeof o=="number"&&(o=o===Qd?bi:ya),"colorSpace"in f?f.colorSpace=o:f.encoding=o===bi?Qd:n0),n[s]=f,f})}assignFinalMaterial(n){const s=n.geometry;let r=n.material;const o=s.attributes.tangent===void 0,c=s.attributes.color!==void 0,f=s.attributes.normal===void 0;if(n.isPoints){const p="PointsMaterial:"+r.uuid;let h=this.cache.get(p);h||(h=new Gv,ir.prototype.copy.call(h,r),h.color.copy(r.color),h.map=r.map,h.sizeAttenuation=!1,this.cache.add(p,h)),r=h}else if(n.isLine){const p="LineBasicMaterial:"+r.uuid;let h=this.cache.get(p);h||(h=new Uv,ir.prototype.copy.call(h,r),h.color.copy(r.color),h.map=r.map,this.cache.add(p,h)),r=h}if(o||c||f){let p="ClonedMaterial:"+r.uuid+":";o&&(p+="derivative-tangents:"),c&&(p+="vertex-colors:"),f&&(p+="flat-shading:");let h=this.cache.get(p);h||(h=r.clone(),c&&(h.vertexColors=!0),f&&(h.flatShading=!0),o&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(p,h),this.associations.set(h,this.associations.get(r))),r=h}n.material=r}getMaterialType(){return yl}loadMaterial(n){const s=this,r=this.json,o=this.extensions,c=r.materials[n];let f;const p={},h=c.extensions||{},m=[];if(h[Fe.KHR_MATERIALS_UNLIT]){const A=o[Fe.KHR_MATERIALS_UNLIT];f=A.getMaterialType(),m.push(A.extendParams(p,c,s))}else{const A=c.pbrMetallicRoughness||{};if(p.color=new _n(1,1,1),p.opacity=1,Array.isArray(A.baseColorFactor)){const B=A.baseColorFactor;p.color.setRGB(B[0],B[1],B[2],ya),p.opacity=B[3]}A.baseColorTexture!==void 0&&m.push(s.assignTexture(p,"map",A.baseColorTexture,bi)),p.metalness=A.metallicFactor!==void 0?A.metallicFactor:1,p.roughness=A.roughnessFactor!==void 0?A.roughnessFactor:1,A.metallicRoughnessTexture!==void 0&&(m.push(s.assignTexture(p,"metalnessMap",A.metallicRoughnessTexture)),m.push(s.assignTexture(p,"roughnessMap",A.metallicRoughnessTexture))),f=this._invokeOne(function(B){return B.getMaterialType&&B.getMaterialType(n)}),m.push(Promise.all(this._invokeAll(function(B){return B.extendMaterialParams&&B.extendMaterialParams(n,p)})))}c.doubleSided===!0&&(p.side=ds);const g=c.alphaMode||vu.OPAQUE;if(g===vu.BLEND?(p.transparent=!0,p.depthWrite=!1):(p.transparent=!1,g===vu.MASK&&(p.alphaTest=c.alphaCutoff!==void 0?c.alphaCutoff:.5)),c.normalTexture!==void 0&&f!==hs&&(m.push(s.assignTexture(p,"normalMap",c.normalTexture)),p.normalScale=new Qe(1,1),c.normalTexture.scale!==void 0)){const A=c.normalTexture.scale;p.normalScale.set(A,A)}if(c.occlusionTexture!==void 0&&f!==hs&&(m.push(s.assignTexture(p,"aoMap",c.occlusionTexture)),c.occlusionTexture.strength!==void 0&&(p.aoMapIntensity=c.occlusionTexture.strength)),c.emissiveFactor!==void 0&&f!==hs){const A=c.emissiveFactor;p.emissive=new _n().setRGB(A[0],A[1],A[2],ya)}return c.emissiveTexture!==void 0&&f!==hs&&m.push(s.assignTexture(p,"emissiveMap",c.emissiveTexture,bi)),Promise.all(m).then(function(){const A=new f(p);return c.name&&(A.name=c.name),Ea(A,c),s.associations.set(A,{materials:n}),c.extensions&&Si(o,A,c),A})}createUniqueName(n){const s=Ov.sanitizeNodeName(n||"");return s in this.nodeNamesUsed?s+"_"+ ++this.nodeNamesUsed[s]:(this.nodeNamesUsed[s]=0,s)}loadGeometries(n){const s=this,r=this.extensions,o=this.primitiveCache;function c(p){return r[Fe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(p,s).then(function(h){return Vd(h,p,s)})}const f=[];for(let p=0,h=n.length;p<h;p++){const m=n[p],g=G0(m),A=o[g];if(A)f.push(A.promise);else{let B;m.extensions&&m.extensions[Fe.KHR_DRACO_MESH_COMPRESSION]?B=c(m):B=Vd(new Fu,m,s),o[g]={primitive:m,promise:B},f.push(B)}}return Promise.all(f)}loadMesh(n){const s=this,r=this.json,o=this.extensions,c=r.meshes[n],f=c.primitives,p=[];for(let h=0,m=f.length;h<m;h++){const g=f[h].material===void 0?_0(this.cache):this.getDependency("material",f[h].material);p.push(g)}return p.push(s.loadGeometries(f)),Promise.all(p).then(function(h){const m=h.slice(0,h.length-1),g=h[h.length-1],A=[];for(let y=0,M=g.length;y<M;y++){const G=g[y],x=f[y];let R;const T=m[y];if(x.mode===Rn.TRIANGLES||x.mode===Rn.TRIANGLE_STRIP||x.mode===Rn.TRIANGLE_FAN||x.mode===void 0)R=c.isSkinnedMesh===!0?new Nv(G,T):new xi(G,T),R.isSkinnedMesh===!0&&R.normalizeSkinWeights(),x.mode===Rn.TRIANGLE_STRIP?R.geometry=jd(R.geometry,ch):x.mode===Rn.TRIANGLE_FAN&&(R.geometry=jd(R.geometry,yu));else if(x.mode===Rn.LINES)R=new Fv(G,T);else if(x.mode===Rn.LINE_STRIP)R=new Iv(G,T);else if(x.mode===Rn.LINE_LOOP)R=new Lv(G,T);else if(x.mode===Rn.POINTS)R=new zv(G,T);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(R.geometry.morphAttributes).length>0&&x0(R,c),R.name=s.createUniqueName(c.name||"mesh_"+n),Ea(R,c),x.extensions&&Si(o,R,x),s.assignFinalMaterial(R),A.push(R)}for(let y=0,M=A.length;y<M;y++)s.associations.set(A[y],{meshes:n,primitives:y});if(A.length===1)return c.extensions&&Si(o,A[0],c),A[0];const B=new Vo;c.extensions&&Si(o,B,c),s.associations.set(B,{meshes:n});for(let y=0,M=A.length;y<M;y++)B.add(A[y]);return B})}loadCamera(n){let s;const r=this.json.cameras[n],o=r[r.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?s=new gs(wv.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):r.type==="orthographic"&&(s=new Ri(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(s.name=this.createUniqueName(r.name)),Ea(s,r),Promise.resolve(s)}loadSkin(n){const s=this.json.skins[n],r=[];for(let o=0,c=s.joints.length;o<c;o++)r.push(this._loadNodeShallow(s.joints[o]));return s.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",s.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(o){const c=o.pop(),f=o,p=[],h=[];for(let m=0,g=f.length;m<g;m++){const A=f[m];if(A){p.push(A);const B=new fl;c!==null&&B.fromArray(c.array,m*16),h.push(B)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[m])}return new Jv(p,h)})}loadAnimation(n){const s=this.json,r=this,o=s.animations[n],c=o.name?o.name:"animation_"+n,f=[],p=[],h=[],m=[],g=[];for(let A=0,B=o.channels.length;A<B;A++){const y=o.channels[A],M=o.samplers[y.sampler],G=y.target,x=G.node,R=o.parameters!==void 0?o.parameters[M.input]:M.input,T=o.parameters!==void 0?o.parameters[M.output]:M.output;G.node!==void 0&&(f.push(this.getDependency("node",x)),p.push(this.getDependency("accessor",R)),h.push(this.getDependency("accessor",T)),m.push(M),g.push(G))}return Promise.all([Promise.all(f),Promise.all(p),Promise.all(h),Promise.all(m),Promise.all(g)]).then(function(A){const B=A[0],y=A[1],M=A[2],G=A[3],x=A[4],R=[];for(let T=0,F=B.length;T<F;T++){const j=B[T],P=y[T],L=M[T],se=G[T],I=x[T];if(j===void 0)continue;j.updateMatrix&&j.updateMatrix();const K=r._createAnimationTracks(j,P,L,se,I);if(K)for(let Q=0;Q<K.length;Q++)R.push(K[Q])}return new jv(c,void 0,R)})}createNodeMesh(n){const s=this.json,r=this,o=s.nodes[n];return o.mesh===void 0?null:r.getDependency("mesh",o.mesh).then(function(c){const f=r._getNodeRef(r.meshCache,o.mesh,c);return o.weights!==void 0&&f.traverse(function(p){if(p.isMesh)for(let h=0,m=o.weights.length;h<m;h++)p.morphTargetInfluences[h]=o.weights[h]}),f})}loadNode(n){const s=this.json,r=this,o=s.nodes[n],c=r._loadNodeShallow(n),f=[],p=o.children||[];for(let m=0,g=p.length;m<g;m++)f.push(r.getDependency("node",p[m]));const h=o.skin===void 0?Promise.resolve(null):r.getDependency("skin",o.skin);return Promise.all([c,Promise.all(f),h]).then(function(m){const g=m[0],A=m[1],B=m[2];B!==null&&g.traverse(function(y){y.isSkinnedMesh&&y.bind(B,O0)});for(let y=0,M=A.length;y<M;y++)g.add(A[y]);return g})}_loadNodeShallow(n){const s=this.json,r=this.extensions,o=this;if(this.nodeCache[n]!==void 0)return this.nodeCache[n];const c=s.nodes[n],f=c.name?o.createUniqueName(c.name):"",p=[],h=o._invokeOne(function(m){return m.createNodeMesh&&m.createNodeMesh(n)});return h&&p.push(h),c.camera!==void 0&&p.push(o.getDependency("camera",c.camera).then(function(m){return o._getNodeRef(o.cameraCache,c.camera,m)})),o._invokeAll(function(m){return m.createNodeAttachment&&m.createNodeAttachment(n)}).forEach(function(m){p.push(m)}),this.nodeCache[n]=Promise.all(p).then(function(m){let g;if(c.isBone===!0?g=new Kv:m.length>1?g=new Vo:m.length===1?g=m[0]:g=new fh,g!==m[0])for(let A=0,B=m.length;A<B;A++)g.add(m[A]);if(c.name&&(g.userData.name=c.name,g.name=f),Ea(g,c),c.extensions&&Si(r,g,c),c.matrix!==void 0){const A=new fl;A.fromArray(c.matrix),g.applyMatrix4(A)}else c.translation!==void 0&&g.position.fromArray(c.translation),c.rotation!==void 0&&g.quaternion.fromArray(c.rotation),c.scale!==void 0&&g.scale.fromArray(c.scale);return o.associations.has(g)||o.associations.set(g,{}),o.associations.get(g).nodes=n,g}),this.nodeCache[n]}loadScene(n){const s=this.extensions,r=this.json.scenes[n],o=this,c=new Vo;r.name&&(c.name=o.createUniqueName(r.name)),Ea(c,r),r.extensions&&Si(s,c,r);const f=r.nodes||[],p=[];for(let h=0,m=f.length;h<m;h++)p.push(o.getDependency("node",f[h]));return Promise.all(p).then(function(h){for(let g=0,A=h.length;g<A;g++)c.add(h[g]);const m=g=>{const A=new Map;for(const[B,y]of o.associations)(B instanceof ir||B instanceof ea)&&A.set(B,y);return g.traverse(B=>{const y=o.associations.get(B);y!=null&&A.set(B,y)}),A};return o.associations=m(c),c})}_createAnimationTracks(n,s,r,o,c){const f=[],p=n.name?n.name:n.uuid,h=[];Ya[c.path]===Ya.weights?n.traverse(function(B){B.morphTargetInfluences&&h.push(B.name?B.name:B.uuid)}):h.push(p);let m;switch(Ya[c.path]){case Ya.weights:m=pd;break;case Ya.rotation:m=md;break;case Ya.position:case Ya.scale:m=hd;break;default:switch(r.itemSize){case 1:m=pd;break;case 2:case 3:default:m=hd;break}break}const g=o.interpolation!==void 0?D0[o.interpolation]:hh,A=this._getArrayFromAccessor(r);for(let B=0,y=h.length;B<y;B++){const M=new m(h[B]+"."+Ya[c.path],s.array,A,g);o.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(M),f.push(M)}return f}_getArrayFromAccessor(n){let s=n.array;if(n.normalized){const r=Uu(s.constructor),o=new Float32Array(s.length);for(let c=0,f=s.length;c<f;c++)o[c]=s[c]*r;s=o}return s}_createCubicSplineTrackInterpolant(n){n.createInterpolant=function(r){const o=this instanceof md?R0:Zh;return new o(this.times,this.values,this.getValueSize()/3,r)},n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function F0(a,n,s){const r=n.attributes,o=new Yv;if(r.POSITION!==void 0){const p=s.json.accessors[r.POSITION],h=p.min,m=p.max;if(h!==void 0&&m!==void 0){if(o.set(new $e(h[0],h[1],h[2]),new $e(m[0],m[1],m[2])),p.normalized){const g=Uu(Bs[p.componentType]);o.min.multiplyScalar(g),o.max.multiplyScalar(g)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const c=n.targets;if(c!==void 0){const p=new $e,h=new $e;for(let m=0,g=c.length;m<g;m++){const A=c[m];if(A.POSITION!==void 0){const B=s.json.accessors[A.POSITION],y=B.min,M=B.max;if(y!==void 0&&M!==void 0){if(h.setX(Math.max(Math.abs(y[0]),Math.abs(M[0]))),h.setY(Math.max(Math.abs(y[1]),Math.abs(M[1]))),h.setZ(Math.max(Math.abs(y[2]),Math.abs(M[2]))),B.normalized){const G=Uu(Bs[B.componentType]);h.multiplyScalar(G)}p.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(p)}a.boundingBox=o;const f=new Zv;o.getCenter(f.center),f.radius=o.min.distanceTo(o.max)/2,a.boundingSphere=f}function Vd(a,n,s){const r=n.attributes,o=[];function c(f,p){return s.getDependency("accessor",f).then(function(h){a.setAttribute(p,h)})}for(const f in r){const p=Gu[f]||f.toLowerCase();p in a.attributes||o.push(c(r[f],p))}if(n.indices!==void 0&&!a.index){const f=s.getDependency("accessor",n.indices).then(function(p){a.setIndex(p)});o.push(f)}return Ea(a,n),F0(a,n,s),Promise.all(o).then(function(){return n.targets!==void 0?H0(a,n.targets,s):a})}class I0 extends mh{constructor(n){super(n),this.type=mn}parse(n){const f=function(I,K){switch(I){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(K||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(K||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(K||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(K||""))}},A=function(I,K,Q){K=K||1024;let Ee=I.pos,ie=-1,re=0,ye="",Y=String.fromCharCode.apply(null,new Uint16Array(I.subarray(Ee,Ee+128)));for(;0>(ie=Y.indexOf(`
`))&&re<K&&Ee<I.byteLength;)ye+=Y,re+=Y.length,Ee+=128,Y+=String.fromCharCode.apply(null,new Uint16Array(I.subarray(Ee,Ee+128)));return-1<ie?(I.pos+=re+ie+1,ye+Y.slice(0,ie)):!1},B=function(I){const K=/^#\?(\S+)/,Q=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,le=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Ee=/^\s*FORMAT=(\S+)\s*$/,ie=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,re={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ye,Y;for((I.pos>=I.byteLength||!(ye=A(I)))&&f(1,"no header found"),(Y=ye.match(K))||f(3,"bad initial token"),re.valid|=1,re.programtype=Y[1],re.string+=ye+`
`;ye=A(I),ye!==!1;){if(re.string+=ye+`
`,ye.charAt(0)==="#"){re.comments+=ye+`
`;continue}if((Y=ye.match(Q))&&(re.gamma=parseFloat(Y[1])),(Y=ye.match(le))&&(re.exposure=parseFloat(Y[1])),(Y=ye.match(Ee))&&(re.valid|=2,re.format=Y[1]),(Y=ye.match(ie))&&(re.valid|=4,re.height=parseInt(Y[1],10),re.width=parseInt(Y[2],10)),re.valid&2&&re.valid&4)break}return re.valid&2||f(3,"missing format specifier"),re.valid&4||f(3,"missing image size specifier"),re},y=function(I,K,Q){const le=K;if(le<8||le>32767||I[0]!==2||I[1]!==2||I[2]&128)return new Uint8Array(I);le!==(I[2]<<8|I[3])&&f(3,"wrong scanline width");const Ee=new Uint8Array(4*K*Q);Ee.length||f(4,"unable to allocate buffer space");let ie=0,re=0;const ye=4*le,Y=new Uint8Array(4),ce=new Uint8Array(ye);let he=Q;for(;he>0&&re<I.byteLength;){re+4>I.byteLength&&f(1),Y[0]=I[re++],Y[1]=I[re++],Y[2]=I[re++],Y[3]=I[re++],(Y[0]!=2||Y[1]!=2||(Y[2]<<8|Y[3])!=le)&&f(3,"bad rgbe scanline format");let ve=0,pe;for(;ve<ye&&re<I.byteLength;){pe=I[re++];const Ae=pe>128;if(Ae&&(pe-=128),(pe===0||ve+pe>ye)&&f(3,"bad scanline data"),Ae){const xe=I[re++];for(let De=0;De<pe;De++)ce[ve++]=xe}else ce.set(I.subarray(re,re+pe),ve),ve+=pe,re+=pe}const Se=le;for(let Ae=0;Ae<Se;Ae++){let xe=0;Ee[ie]=ce[Ae+xe],xe+=le,Ee[ie+1]=ce[Ae+xe],xe+=le,Ee[ie+2]=ce[Ae+xe],xe+=le,Ee[ie+3]=ce[Ae+xe],ie+=4}he--}return Ee},M=function(I,K,Q,le){const Ee=I[K+3],ie=Math.pow(2,Ee-128)/255;Q[le+0]=I[K+0]*ie,Q[le+1]=I[K+1]*ie,Q[le+2]=I[K+2]*ie,Q[le+3]=1},G=function(I,K,Q,le){const Ee=I[K+3],ie=Math.pow(2,Ee-128)/255;Q[le+0]=ps.toHalfFloat(Math.min(I[K+0]*ie,65504)),Q[le+1]=ps.toHalfFloat(Math.min(I[K+1]*ie,65504)),Q[le+2]=ps.toHalfFloat(Math.min(I[K+2]*ie,65504)),Q[le+3]=ps.toHalfFloat(1)},x=new Uint8Array(n);x.pos=0;const R=B(x),T=R.width,F=R.height,j=y(x.subarray(x.pos),T,F);let P,L,se;switch(this.type){case ta:se=j.length/4;const I=new Float32Array(se*4);for(let Q=0;Q<se;Q++)M(j,Q*4,I,Q*4);P=I,L=ta;break;case mn:se=j.length/4;const K=new Uint16Array(se*4);for(let Q=0;Q<se;Q++)G(j,Q*4,K,Q*4);P=K,L=mn;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:T,height:F,data:P,header:R.string,gamma:R.gamma,exposure:R.exposure,type:L}}setDataType(n){return this.type=n,this}load(n,s,r,o){function c(f,p){switch(f.type){case ta:case mn:"colorSpace"in f?f.colorSpace="srgb-linear":f.encoding=3e3,f.minFilter=Jt,f.magFilter=Jt,f.generateMipmaps=!1,f.flipY=!0;break}s&&s(f,p)}return super.load(n,c,r,o)}}const er=Xu>=152;class L0 extends mh{constructor(n){super(n),this.type=mn}parse(n){const K=Math.pow(2.7182818,2.2);function Q(v,C){for(var b=0,O=0;O<65536;++O)(O==0||v[O>>3]&1<<(O&7))&&(C[b++]=O);for(var w=b-1;b<65536;)C[b++]=0;return w}function le(v){for(var C=0;C<16384;C++)v[C]={},v[C].len=0,v[C].lit=0,v[C].p=null}const Ee={l:0,c:0,lc:0};function ie(v,C,b,O,w){for(;b<v;)C=C<<8|vn(O,w),b+=8;b-=v,Ee.l=C>>b&(1<<v)-1,Ee.c=C,Ee.lc=b}const re=new Array(59);function ye(v){for(var C=0;C<=58;++C)re[C]=0;for(var C=0;C<65537;++C)re[v[C]]+=1;for(var b=0,C=58;C>0;--C){var O=b+re[C]>>1;re[C]=b,b=O}for(var C=0;C<65537;++C){var w=v[C];w>0&&(v[C]=w|re[w]++<<6)}}function Y(v,C,b,O,w,z,$){for(var V=b,k=0,Z=0;w<=z;w++){if(V.value-b.value>O)return!1;ie(6,k,Z,v,V);var ae=Ee.l;if(k=Ee.c,Z=Ee.lc,$[w]=ae,ae==63){if(V.value-b.value>O)throw"Something wrong with hufUnpackEncTable";ie(8,k,Z,v,V);var ne=Ee.l+6;if(k=Ee.c,Z=Ee.lc,w+ne>z+1)throw"Something wrong with hufUnpackEncTable";for(;ne--;)$[w++]=0;w--}else if(ae>=59){var ne=ae-59+2;if(w+ne>z+1)throw"Something wrong with hufUnpackEncTable";for(;ne--;)$[w++]=0;w--}}ye($)}function ce(v){return v&63}function he(v){return v>>6}function ve(v,C,b,O){for(;C<=b;C++){var w=he(v[C]),z=ce(v[C]);if(w>>z)throw"Invalid table entry";if(z>14){var $=O[w>>z-14];if($.len)throw"Invalid table entry";if($.lit++,$.p){var V=$.p;$.p=new Array($.lit);for(var k=0;k<$.lit-1;++k)$.p[k]=V[k]}else $.p=new Array(1);$.p[$.lit-1]=C}else if(z)for(var Z=0,k=1<<14-z;k>0;k--){var $=O[(w<<14-z)+Z];if($.len||$.p)throw"Invalid table entry";$.len=z,$.lit=C,Z++}}return!0}const pe={c:0,lc:0};function Se(v,C,b,O){v=v<<8|vn(b,O),C+=8,pe.c=v,pe.lc=C}const Ae={c:0,lc:0};function xe(v,C,b,O,w,z,$,V,k,Z){if(v==C){O<8&&(Se(b,O,w,$),b=pe.c,O=pe.lc),O-=8;var ae=b>>O,ae=new Uint8Array([ae])[0];if(k.value+ae>Z)return!1;for(var ne=V[k.value-1];ae-- >0;)V[k.value++]=ne}else if(k.value<Z)V[k.value++]=v;else return!1;Ae.c=b,Ae.lc=O}function De(v){return v&65535}function ct(v){var C=De(v);return C>32767?C-65536:C}const Ue={a:0,b:0};function Ut(v,C){var b=ct(v),O=ct(C),w=O,z=b+(w&1)+(w>>1),$=z,V=z-w;Ue.a=$,Ue.b=V}function St(v,C){var b=De(v),O=De(C),w=b-(O>>1)&65535,z=O+w-32768&65535;Ue.a=z,Ue.b=w}function Ui(v,C,b,O,w,z,$){for(var V=$<16384,k=b>w?w:b,Z=1,ae;Z<=k;)Z<<=1;for(Z>>=1,ae=Z,Z>>=1;Z>=1;){for(var ne=0,nt=ne+z*(w-ae),de=z*Z,ge=z*ae,Te=O*Z,_e=O*ae,Ye,Ve,ht,bt;ne<=nt;ne+=ge){for(var qe=ne,an=ne+O*(b-ae);qe<=an;qe+=_e){var ke=qe+Te,At=qe+de,Un=At+Te;V?(Ut(v[qe+C],v[At+C]),Ye=Ue.a,ht=Ue.b,Ut(v[ke+C],v[Un+C]),Ve=Ue.a,bt=Ue.b,Ut(Ye,Ve),v[qe+C]=Ue.a,v[ke+C]=Ue.b,Ut(ht,bt),v[At+C]=Ue.a,v[Un+C]=Ue.b):(St(v[qe+C],v[At+C]),Ye=Ue.a,ht=Ue.b,St(v[ke+C],v[Un+C]),Ve=Ue.a,bt=Ue.b,St(Ye,Ve),v[qe+C]=Ue.a,v[ke+C]=Ue.b,St(ht,bt),v[At+C]=Ue.a,v[Un+C]=Ue.b)}if(b&Z){var At=qe+de;V?Ut(v[qe+C],v[At+C]):St(v[qe+C],v[At+C]),Ye=Ue.a,v[At+C]=Ue.b,v[qe+C]=Ye}}if(w&Z)for(var qe=ne,an=ne+O*(b-ae);qe<=an;qe+=_e){var ke=qe+Te;V?Ut(v[qe+C],v[ke+C]):St(v[qe+C],v[ke+C]),Ye=Ue.a,v[ke+C]=Ue.b,v[qe+C]=Ye}ae=Z,Z>>=1}return ne}function Oi(v,C,b,O,w,z,$,V,k,Z){for(var ae=0,ne=0,nt=V,de=Math.trunc(w.value+(z+7)/8);w.value<de;)for(Se(ae,ne,b,w),ae=pe.c,ne=pe.lc;ne>=14;){var ge=ae>>ne-14&16383,Te=C[ge];if(Te.len)ne-=Te.len,xe(Te.lit,$,ae,ne,b,O,w,k,Z,nt),ae=Ae.c,ne=Ae.lc;else{if(!Te.p)throw"hufDecode issues";var _e;for(_e=0;_e<Te.lit;_e++){for(var Ye=ce(v[Te.p[_e]]);ne<Ye&&w.value<de;)Se(ae,ne,b,w),ae=pe.c,ne=pe.lc;if(ne>=Ye&&he(v[Te.p[_e]])==(ae>>ne-Ye&(1<<Ye)-1)){ne-=Ye,xe(Te.p[_e],$,ae,ne,b,O,w,k,Z,nt),ae=Ae.c,ne=Ae.lc;break}}if(_e==Te.lit)throw"hufDecode issues"}}var Ve=8-z&7;for(ae>>=Ve,ne-=Ve;ne>0;){var Te=C[ae<<14-ne&16383];if(Te.len)ne-=Te.len,xe(Te.lit,$,ae,ne,b,O,w,k,Z,nt),ae=Ae.c,ne=Ae.lc;else throw"hufDecode issues"}return!0}function wn(v,C,b,O,w,z){var $={value:0},V=b.value,k=it(C,b),Z=it(C,b);b.value+=4;var ae=it(C,b);if(b.value+=4,k<0||k>=65537||Z<0||Z>=65537)throw"Something wrong with HUF_ENCSIZE";var ne=new Array(65537),nt=new Array(16384);le(nt);var de=O-(b.value-V);if(Y(v,C,b,de,k,Z,ne),ae>8*(O-(b.value-V)))throw"Something wrong with hufUncompress";ve(ne,k,Z,nt),Oi(ne,nt,v,C,b,ae,Z,z,w,$)}function Jn(v,C,b){for(var O=0;O<b;++O)C[O]=v[C[O]]}function Gn(v){for(var C=1;C<v.length;C++){var b=v[C-1]+v[C]-128;v[C]=b}}function jn(v,C){for(var b=0,O=Math.floor((v.length+1)/2),w=0,z=v.length-1;!(w>z||(C[w++]=v[b++],w>z));)C[w++]=v[O++]}function aa(v){for(var C=v.byteLength,b=new Array,O=0,w=new DataView(v);C>0;){var z=w.getInt8(O++);if(z<0){var $=-z;C-=$+1;for(var V=0;V<$;V++)b.push(w.getUint8(O++))}else{var $=z;C-=2;for(var k=w.getUint8(O++),V=0;V<$+1;V++)b.push(k)}}return b}function $a(v,C,b,O,w,z){var ke=new DataView(z.buffer),$=b[v.idx[0]].width,V=b[v.idx[0]].height,k=3,Z=Math.floor($/8),ae=Math.ceil($/8),ne=Math.ceil(V/8),nt=$-(ae-1)*8,de=V-(ne-1)*8,ge={value:0},Te=new Array(k),_e=new Array(k),Ye=new Array(k),Ve=new Array(k),ht=new Array(k);for(let Ze=0;Ze<k;++Ze)ht[Ze]=C[v.idx[Ze]],Te[Ze]=Ze<1?0:Te[Ze-1]+ae*ne,_e[Ze]=new Float32Array(64),Ye[Ze]=new Uint16Array(64),Ve[Ze]=new Uint16Array(ae*64);for(let Ze=0;Ze<ne;++Ze){var bt=8;Ze==ne-1&&(bt=de);var qe=8;for(let at=0;at<ae;++at){at==ae-1&&(qe=nt);for(let Je=0;Je<k;++Je)Ye[Je].fill(0),Ye[Je][0]=w[Te[Je]++],en(ge,O,Ye[Je]),ei(Ye[Je],_e[Je]),ia(_e[Je]);Zt(_e);for(let Je=0;Je<k;++Je)Kn(_e[Je],Ve[Je],at*64)}let Et=0;for(let at=0;at<k;++at){const Je=b[v.idx[at]].type;for(let Pt=8*Ze;Pt<8*Ze+bt;++Pt){Et=ht[at][Pt];for(let Yn=0;Yn<Z;++Yn){const Ft=Yn*64+(Pt&7)*8;ke.setUint16(Et+0*Je,Ve[at][Ft+0],!0),ke.setUint16(Et+2*Je,Ve[at][Ft+1],!0),ke.setUint16(Et+4*Je,Ve[at][Ft+2],!0),ke.setUint16(Et+6*Je,Ve[at][Ft+3],!0),ke.setUint16(Et+8*Je,Ve[at][Ft+4],!0),ke.setUint16(Et+10*Je,Ve[at][Ft+5],!0),ke.setUint16(Et+12*Je,Ve[at][Ft+6],!0),ke.setUint16(Et+14*Je,Ve[at][Ft+7],!0),Et+=16*Je}}if(Z!=ae)for(let Pt=8*Ze;Pt<8*Ze+bt;++Pt){const Yn=ht[at][Pt]+8*Z*2*Je,Ft=Z*64+(Pt&7)*8;for(let Zn=0;Zn<qe;++Zn)ke.setUint16(Yn+Zn*2*Je,Ve[at][Ft+Zn],!0)}}}for(var an=new Uint16Array($),ke=new DataView(z.buffer),At=0;At<k;++At){b[v.idx[At]].decoded=!0;var Un=b[v.idx[At]].type;if(b[At].type==2)for(var Ha=0;Ha<V;++Ha){const Ze=ht[At][Ha];for(var Kt=0;Kt<$;++Kt)an[Kt]=ke.getUint16(Ze+Kt*2*Un,!0);for(var Kt=0;Kt<$;++Kt)ke.setFloat32(Ze+Kt*2*Un,ee(an[Kt]),!0)}}}function en(v,C,b){for(var O,w=1;w<64;)O=C[v.value],O==65280?w=64:O>>8==255?w+=O&255:(b[w]=O,w++),v.value++}function ei(v,C){C[0]=ee(v[0]),C[1]=ee(v[1]),C[2]=ee(v[5]),C[3]=ee(v[6]),C[4]=ee(v[14]),C[5]=ee(v[15]),C[6]=ee(v[27]),C[7]=ee(v[28]),C[8]=ee(v[2]),C[9]=ee(v[4]),C[10]=ee(v[7]),C[11]=ee(v[13]),C[12]=ee(v[16]),C[13]=ee(v[26]),C[14]=ee(v[29]),C[15]=ee(v[42]),C[16]=ee(v[3]),C[17]=ee(v[8]),C[18]=ee(v[12]),C[19]=ee(v[17]),C[20]=ee(v[25]),C[21]=ee(v[30]),C[22]=ee(v[41]),C[23]=ee(v[43]),C[24]=ee(v[9]),C[25]=ee(v[11]),C[26]=ee(v[18]),C[27]=ee(v[24]),C[28]=ee(v[31]),C[29]=ee(v[40]),C[30]=ee(v[44]),C[31]=ee(v[53]),C[32]=ee(v[10]),C[33]=ee(v[19]),C[34]=ee(v[23]),C[35]=ee(v[32]),C[36]=ee(v[39]),C[37]=ee(v[45]),C[38]=ee(v[52]),C[39]=ee(v[54]),C[40]=ee(v[20]),C[41]=ee(v[22]),C[42]=ee(v[33]),C[43]=ee(v[38]),C[44]=ee(v[46]),C[45]=ee(v[51]),C[46]=ee(v[55]),C[47]=ee(v[60]),C[48]=ee(v[21]),C[49]=ee(v[34]),C[50]=ee(v[37]),C[51]=ee(v[47]),C[52]=ee(v[50]),C[53]=ee(v[56]),C[54]=ee(v[59]),C[55]=ee(v[61]),C[56]=ee(v[35]),C[57]=ee(v[36]),C[58]=ee(v[48]),C[59]=ee(v[49]),C[60]=ee(v[57]),C[61]=ee(v[58]),C[62]=ee(v[62]),C[63]=ee(v[63])}function ia(v){const C=.5*Math.cos(.7853975),b=.5*Math.cos(3.14159/16),O=.5*Math.cos(3.14159/8),w=.5*Math.cos(3*3.14159/16),z=.5*Math.cos(5*3.14159/16),$=.5*Math.cos(3*3.14159/8),V=.5*Math.cos(7*3.14159/16);for(var k=new Array(4),Z=new Array(4),ae=new Array(4),ne=new Array(4),nt=0;nt<8;++nt){var de=nt*8;k[0]=O*v[de+2],k[1]=$*v[de+2],k[2]=O*v[de+6],k[3]=$*v[de+6],Z[0]=b*v[de+1]+w*v[de+3]+z*v[de+5]+V*v[de+7],Z[1]=w*v[de+1]-V*v[de+3]-b*v[de+5]-z*v[de+7],Z[2]=z*v[de+1]-b*v[de+3]+V*v[de+5]+w*v[de+7],Z[3]=V*v[de+1]-z*v[de+3]+w*v[de+5]-b*v[de+7],ae[0]=C*(v[de+0]+v[de+4]),ae[3]=C*(v[de+0]-v[de+4]),ae[1]=k[0]+k[3],ae[2]=k[1]-k[2],ne[0]=ae[0]+ae[1],ne[1]=ae[3]+ae[2],ne[2]=ae[3]-ae[2],ne[3]=ae[0]-ae[1],v[de+0]=ne[0]+Z[0],v[de+1]=ne[1]+Z[1],v[de+2]=ne[2]+Z[2],v[de+3]=ne[3]+Z[3],v[de+4]=ne[3]-Z[3],v[de+5]=ne[2]-Z[2],v[de+6]=ne[1]-Z[1],v[de+7]=ne[0]-Z[0]}for(var ge=0;ge<8;++ge)k[0]=O*v[16+ge],k[1]=$*v[16+ge],k[2]=O*v[48+ge],k[3]=$*v[48+ge],Z[0]=b*v[8+ge]+w*v[24+ge]+z*v[40+ge]+V*v[56+ge],Z[1]=w*v[8+ge]-V*v[24+ge]-b*v[40+ge]-z*v[56+ge],Z[2]=z*v[8+ge]-b*v[24+ge]+V*v[40+ge]+w*v[56+ge],Z[3]=V*v[8+ge]-z*v[24+ge]+w*v[40+ge]-b*v[56+ge],ae[0]=C*(v[ge]+v[32+ge]),ae[3]=C*(v[ge]-v[32+ge]),ae[1]=k[0]+k[3],ae[2]=k[1]-k[2],ne[0]=ae[0]+ae[1],ne[1]=ae[3]+ae[2],ne[2]=ae[3]-ae[2],ne[3]=ae[0]-ae[1],v[0+ge]=ne[0]+Z[0],v[8+ge]=ne[1]+Z[1],v[16+ge]=ne[2]+Z[2],v[24+ge]=ne[3]+Z[3],v[32+ge]=ne[3]-Z[3],v[40+ge]=ne[2]-Z[2],v[48+ge]=ne[1]-Z[1],v[56+ge]=ne[0]-Z[0]}function Zt(v){for(var C=0;C<64;++C){var b=v[0][C],O=v[1][C],w=v[2][C];v[0][C]=b+1.5747*w,v[1][C]=b-.1873*O-.4682*w,v[2][C]=b+1.8556*O}}function Kn(v,C,b){for(var O=0;O<64;++O)C[b+O]=ps.toHalfFloat(Ni(v[O]))}function Ni(v){return v<=1?Math.sign(v)*Math.pow(Math.abs(v),2.2):Math.sign(v)*Math.pow(K,Math.abs(v)-1)}function sa(v){return new DataView(v.array.buffer,v.offset.value,v.size)}function Pn(v){var C=v.viewer.buffer.slice(v.offset.value,v.offset.value+v.size),b=new Uint8Array(aa(C)),O=new Uint8Array(b.length);return Gn(b),jn(b,O),new DataView(O.buffer)}function Ma(v){var C=v.array.slice(v.offset.value,v.offset.value+v.size),b=al(C),O=new Uint8Array(b.length);return Gn(b),jn(b,O),new DataView(O.buffer)}function bs(v){for(var C=v.viewer,b={value:v.offset.value},O=new Uint16Array(v.width*v.scanlineBlockSize*(v.channels*v.type)),w=new Uint8Array(8192),z=0,$=new Array(v.channels),V=0;V<v.channels;V++)$[V]={},$[V].start=z,$[V].end=$[V].start,$[V].nx=v.width,$[V].ny=v.lines,$[V].size=v.type,z+=$[V].nx*$[V].ny*$[V].size;var k=Bt(C,b),Z=Bt(C,b);if(Z>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(k<=Z)for(var V=0;V<Z-k+1;V++)w[V+k]=D(C,b);var ae=new Uint16Array(65536),ne=Q(w,ae),nt=it(C,b);wn(v.array,C,b,nt,O,z);for(var V=0;V<v.channels;++V)for(var de=$[V],ge=0;ge<$[V].size;++ge)Ui(O,de.start+ge,de.nx,de.size,de.ny,de.nx*de.size,ne);Jn(ae,O,z);for(var Te=0,_e=new Uint8Array(O.buffer.byteLength),Ye=0;Ye<v.lines;Ye++)for(var Ve=0;Ve<v.channels;Ve++){var de=$[Ve],ht=de.nx*de.size,bt=new Uint8Array(O.buffer,de.end*2,ht*2);_e.set(bt,Te),Te+=ht*2,de.end+=ht}return new DataView(_e.buffer)}function Ta(v){var C=v.array.slice(v.offset.value,v.offset.value+v.size),b=al(C);const O=v.lines*v.channels*v.width,w=v.type==1?new Uint16Array(O):new Uint32Array(O);let z=0,$=0;const V=new Array(4);for(let k=0;k<v.lines;k++)for(let Z=0;Z<v.channels;Z++){let ae=0;switch(v.type){case 1:V[0]=z,V[1]=V[0]+v.width,z=V[1]+v.width;for(let ne=0;ne<v.width;++ne){const nt=b[V[0]++]<<8|b[V[1]++];ae+=nt,w[$]=ae,$++}break;case 2:V[0]=z,V[1]=V[0]+v.width,V[2]=V[1]+v.width,z=V[2]+v.width;for(let ne=0;ne<v.width;++ne){const nt=b[V[0]++]<<24|b[V[1]++]<<16|b[V[2]++]<<8;ae+=nt,w[$]=ae,$++}break}}return new DataView(w.buffer)}function ba(v){var C=v.viewer,b={value:v.offset.value},O=new Uint8Array(v.width*v.lines*(v.channels*v.type*2)),w={version:q(C,b),unknownUncompressedSize:q(C,b),unknownCompressedSize:q(C,b),acCompressedSize:q(C,b),dcCompressedSize:q(C,b),rleCompressedSize:q(C,b),rleUncompressedSize:q(C,b),rleRawSize:q(C,b),totalAcUncompressedCount:q(C,b),totalDcUncompressedCount:q(C,b),acCompression:q(C,b)};if(w.version<2)throw"EXRLoader.parse: "+qt.compression+" version "+w.version+" is unsupported";for(var z=new Array,$=Bt(C,b)-2;$>0;){var V=ra(C.buffer,b),k=D(C,b),Z=k>>2&3,ae=(k>>4)-1,ne=new Int8Array([ae])[0],nt=D(C,b);z.push({name:V,index:ne,type:nt,compression:Z}),$-=V.length+3}for(var de=qt.channels,ge=new Array(v.channels),Te=0;Te<v.channels;++Te){var _e=ge[Te]={},Ye=de[Te];_e.name=Ye.name,_e.compression=0,_e.decoded=!1,_e.type=Ye.pixelType,_e.pLinear=Ye.pLinear,_e.width=v.width,_e.height=v.lines}for(var Ve={idx:new Array(3)},ht=0;ht<v.channels;++ht)for(var _e=ge[ht],Te=0;Te<z.length;++Te){var bt=z[Te];_e.name==bt.name&&(_e.compression=bt.compression,bt.index>=0&&(Ve.idx[bt.index]=ht),_e.offset=ht)}if(w.acCompressedSize>0)switch(w.acCompression){case 0:var ke=new Uint16Array(w.totalAcUncompressedCount);wn(v.array,C,b,w.acCompressedSize,ke,w.totalAcUncompressedCount);break;case 1:var qe=v.array.slice(b.value,b.value+w.totalAcUncompressedCount),an=al(qe),ke=new Uint16Array(an.buffer);b.value+=w.totalAcUncompressedCount;break}if(w.dcCompressedSize>0){var At={array:v.array,offset:b,size:w.dcCompressedSize},Un=new Uint16Array(Ma(At).buffer);b.value+=w.dcCompressedSize}if(w.rleRawSize>0){var qe=v.array.slice(b.value,b.value+w.rleCompressedSize),an=al(qe),Ha=aa(an.buffer);b.value+=w.rleCompressedSize}for(var Kt=0,Ze=new Array(ge.length),Te=0;Te<Ze.length;++Te)Ze[Te]=new Array;for(var Et=0;Et<v.lines;++Et)for(var at=0;at<ge.length;++at)Ze[at].push(Kt),Kt+=ge[at].width*v.type*2;$a(Ve,Ze,ge,ke,Un,O);for(var Te=0;Te<ge.length;++Te){var _e=ge[Te];if(!_e.decoded)switch(_e.compression){case 2:for(var Je=0,Pt=0,Et=0;Et<v.lines;++Et){for(var Yn=Ze[Te][Je],Ft=0;Ft<_e.width;++Ft){for(var Zn=0;Zn<2*_e.type;++Zn)O[Yn++]=Ha[Pt+Zn*_e.width*_e.height];Pt++}Je++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(O.buffer)}function ra(v,C){for(var b=new Uint8Array(v),O=0;b[C.value+O]!=0;)O+=1;var w=new TextDecoder().decode(b.slice(C.value,C.value+O));return C.value=C.value+O+1,w}function Rs(v,C,b){var O=new TextDecoder().decode(new Uint8Array(v).slice(C.value,C.value+b));return C.value=C.value+b,O}function Ra(v,C){var b=Ot(v,C),O=it(v,C);return[b,O]}function ti(v,C){var b=it(v,C),O=it(v,C);return[b,O]}function Ot(v,C){var b=v.getInt32(C.value,!0);return C.value=C.value+4,b}function it(v,C){var b=v.getUint32(C.value,!0);return C.value=C.value+4,b}function vn(v,C){var b=v[C.value];return C.value=C.value+1,b}function D(v,C){var b=v.getUint8(C.value);return C.value=C.value+1,b}const q=function(v,C){let b;return"getBigInt64"in DataView.prototype?b=Number(v.getBigInt64(C.value,!0)):b=v.getUint32(C.value+4,!0)+Number(v.getUint32(C.value,!0)<<32),C.value+=8,b};function fe(v,C){var b=v.getFloat32(C.value,!0);return C.value+=4,b}function Ie(v,C){return ps.toHalfFloat(fe(v,C))}function ee(v){var C=(v&31744)>>10,b=v&1023;return(v>>15?-1:1)*(C?C===31?b?NaN:1/0:Math.pow(2,C-15)*(1+b/1024):6103515625e-14*(b/1024))}function Bt(v,C){var b=v.getUint16(C.value,!0);return C.value+=2,b}function tn(v,C){return ee(Bt(v,C))}function ni(v,C,b,O){for(var w=b.value,z=[];b.value<w+O-1;){var $=ra(C,b),V=Ot(v,b),k=D(v,b);b.value+=3;var Z=Ot(v,b),ae=Ot(v,b);z.push({name:$,pixelType:V,pLinear:k,xSampling:Z,ySampling:ae})}return b.value+=1,z}function ai(v,C){var b=fe(v,C),O=fe(v,C),w=fe(v,C),z=fe(v,C),$=fe(v,C),V=fe(v,C),k=fe(v,C),Z=fe(v,C);return{redX:b,redY:O,greenX:w,greenY:z,blueX:$,blueY:V,whiteX:k,whiteY:Z}}function Vt(v,C){var b=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],O=D(v,C);return b[O]}function Nt(v,C){var b=it(v,C),O=it(v,C),w=it(v,C),z=it(v,C);return{xMin:b,yMin:O,xMax:w,yMax:z}}function nn(v,C){var b=["INCREASING_Y"],O=D(v,C);return b[O]}function An(v,C){var b=fe(v,C),O=fe(v,C);return[b,O]}function Qn(v,C){var b=fe(v,C),O=fe(v,C),w=fe(v,C);return[b,O,w]}function la(v,C,b,O,w){if(O==="string"||O==="stringvector"||O==="iccProfile")return Rs(C,b,w);if(O==="chlist")return ni(v,C,b,w);if(O==="chromaticities")return ai(v,b);if(O==="compression")return Vt(v,b);if(O==="box2i")return Nt(v,b);if(O==="lineOrder")return nn(v,b);if(O==="float")return fe(v,b);if(O==="v2f")return An(v,b);if(O==="v3f")return Qn(v,b);if(O==="int")return Ot(v,b);if(O==="rational")return Ra(v,b);if(O==="timecode")return ti(v,b);if(O==="preview")return b.value+=w,"skipped";b.value+=w}function vr(v,C,b){const O={};if(v.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";O.version=v.getUint8(4);const w=v.getUint8(5);O.spec={singleTile:!!(w&2),longName:!!(w&4),deepFormat:!!(w&8),multiPart:!!(w&16)},b.value=8;for(var z=!0;z;){var $=ra(C,b);if($==0)z=!1;else{var V=ra(C,b),k=it(v,b),Z=la(v,C,b,V,k);Z===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${V}'.`):O[$]=Z}}if((w&-5)!=0)throw console.error("EXRHeader:",O),"THREE.EXRLoader: provided file is currently unsupported.";return O}function Ds(v,C,b,O,w){const z={size:0,viewer:C,array:b,offset:O,width:v.dataWindow.xMax-v.dataWindow.xMin+1,height:v.dataWindow.yMax-v.dataWindow.yMin+1,channels:v.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:v.channels[0].pixelType,uncompress:null,getter:null,format:null,[er?"colorSpace":"encoding"]:null};switch(v.compression){case"NO_COMPRESSION":z.lines=1,z.uncompress=sa;break;case"RLE_COMPRESSION":z.lines=1,z.uncompress=Pn;break;case"ZIPS_COMPRESSION":z.lines=1,z.uncompress=Ma;break;case"ZIP_COMPRESSION":z.lines=16,z.uncompress=Ma;break;case"PIZ_COMPRESSION":z.lines=32,z.uncompress=bs;break;case"PXR24_COMPRESSION":z.lines=16,z.uncompress=Ta;break;case"DWAA_COMPRESSION":z.lines=32,z.uncompress=ba;break;case"DWAB_COMPRESSION":z.lines=256,z.uncompress=ba;break;default:throw"EXRLoader.parse: "+v.compression+" is unsupported"}if(z.scanlineBlockSize=z.lines,z.type==1)switch(w){case ta:z.getter=tn,z.inputSize=2;break;case mn:z.getter=Bt,z.inputSize=2;break}else if(z.type==2)switch(w){case ta:z.getter=fe,z.inputSize=4;break;case mn:z.getter=Ie,z.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+z.type+" for "+v.compression+".";z.blockCount=(v.dataWindow.yMax+1)/z.scanlineBlockSize;for(var $=0;$<z.blockCount;$++)q(C,O);z.outputChannels=z.channels==3?4:z.channels;const V=z.width*z.height*z.outputChannels;switch(w){case ta:z.byteArray=new Float32Array(V),z.channels<z.outputChannels&&z.byteArray.fill(1,0,V);break;case mn:z.byteArray=new Uint16Array(V),z.channels<z.outputChannels&&z.byteArray.fill(15360,0,V);break;default:console.error("THREE.EXRLoader: unsupported type: ",w);break}return z.bytesPerLine=z.width*z.inputSize*z.channels,z.outputChannels==4?z.format=ys:z.format=Vv,er?z.colorSpace="srgb-linear":z.encoding=3e3,z}const Da=new DataView(n),Xn=new Uint8Array(n),_a={value:0},qt=vr(Da,n,_a),be=Ds(qt,Da,Xn,_a,this.type),ii={value:0},ft={R:0,G:1,B:2,A:3,Y:0};for(let v=0;v<be.height/be.scanlineBlockSize;v++){const C=it(Da,_a);be.size=it(Da,_a),be.lines=C+be.scanlineBlockSize>be.height?be.height-C:be.scanlineBlockSize;const O=be.size<be.lines*be.bytesPerLine?be.uncompress(be):sa(be);_a.value+=be.size;for(let w=0;w<be.scanlineBlockSize;w++){const z=w+v*be.scanlineBlockSize;if(z>=be.height)break;for(let $=0;$<be.channels;$++){const V=ft[qt.channels[$].name];for(let k=0;k<be.width;k++){ii.value=(w*(be.channels*be.width)+$*be.width+k)*be.inputSize;const Z=(be.height-1-z)*(be.width*be.outputChannels)+k*be.outputChannels+V;be.byteArray[Z]=be.getter(O,ii)}}}}return{header:qt,width:be.width,height:be.height,data:be.byteArray,format:be.format,[er?"colorSpace":"encoding"]:be[er?"colorSpace":"encoding"],type:this.type}}setDataType(n){return this.type=n,this}load(n,s,r,o){function c(f,p){er?f.colorSpace=p.colorSpace:f.encoding=p.encoding,f.minFilter=Jt,f.magFilter=Jt,f.generateMipmaps=!1,f.flipY=!1,s&&s(f,p)}return super.load(n,c,r,o)}}const gu=new WeakMap;class z0 extends Nu{constructor(n){super(n),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(n){return this.decoderPath=n,this}setDecoderConfig(n){return this.decoderConfig=n,this}setWorkerLimit(n){return this.workerLimit=n,this}load(n,s,r,o){const c=new ka(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(n,f=>{const p={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(f,p).then(s).catch(o)},r,o)}decodeDracoFile(n,s,r,o){const c={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(n,c).then(s)}decodeGeometry(n,s){for(const h in s.attributeTypes){const m=s.attributeTypes[h];m.BYTES_PER_ELEMENT!==void 0&&(s.attributeTypes[h]=m.name)}const r=JSON.stringify(s);if(gu.has(n)){const h=gu.get(n);if(h.key===r)return h.promise;if(n.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const c=this.workerNextTaskID++,f=n.byteLength,p=this._getWorker(c,f).then(h=>(o=h,new Promise((m,g)=>{o._callbacks[c]={resolve:m,reject:g},o.postMessage({type:"decode",id:c,taskConfig:s,buffer:n},[n])}))).then(h=>this._createGeometry(h.geometry));return p.catch(()=>!0).then(()=>{o&&c&&this._releaseTask(o,c)}),gu.set(n,{key:r,promise:p}),p}_createGeometry(n){const s=new Fu;n.index&&s.setIndex(new Di(n.index.array,1));for(let r=0;r<n.attributes.length;r++){const o=n.attributes[r],c=o.name,f=o.array,p=o.itemSize;s.setAttribute(c,new Di(f,p))}return s}_loadLibrary(n,s){const r=new ka(this.manager);return r.setPath(this.decoderPath),r.setResponseType(s),r.setWithCredentials(this.withCredentials),new Promise((o,c)=>{r.load(n,o,void 0,c)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const n=typeof WebAssembly!="object"||this.decoderConfig.type==="js",s=[];return n?s.push(this._loadLibrary("draco_decoder.js","text")):(s.push(this._loadLibrary("draco_wasm_wrapper.js","text")),s.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(s).then(r=>{const o=r[0];n||(this.decoderConfig.wasmBinary=r[1]);const c=w0.toString(),f=["/* draco decoder */",o,"","/* worker */",c.substring(c.indexOf("{")+1,c.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([f]))}),this.decoderPending}_getWorker(n,s){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(c){const f=c.data;switch(f.type){case"decode":o._callbacks[f.id].resolve(f);break;case"error":o._callbacks[f.id].reject(f);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+f.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,c){return o._taskLoad>c._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[n]=s,r._taskLoad+=s,r})}_releaseTask(n,s){n._taskLoad-=n._taskCosts[s],delete n._callbacks[s],delete n._taskCosts[s]}debug(){console.log("Task load: ",this.workerPool.map(n=>n._taskLoad))}dispose(){for(let n=0;n<this.workerPool.length;++n)this.workerPool[n].terminate();return this.workerPool.length=0,this}}function w0(){let a,n;onmessage=function(f){const p=f.data;switch(p.type){case"init":a=p.decoderConfig,n=new Promise(function(g){a.onModuleLoaded=function(A){g({draco:A})},DracoDecoderModule(a)});break;case"decode":const h=p.buffer,m=p.taskConfig;n.then(g=>{const A=g.draco,B=new A.Decoder,y=new A.DecoderBuffer;y.Init(new Int8Array(h),h.byteLength);try{const M=s(A,B,y,m),G=M.attributes.map(x=>x.array.buffer);M.index&&G.push(M.index.array.buffer),self.postMessage({type:"decode",id:p.id,geometry:M},G)}catch(M){console.error(M),self.postMessage({type:"error",id:p.id,error:M.message})}finally{A.destroy(y),A.destroy(B)}});break}};function s(f,p,h,m){const g=m.attributeIDs,A=m.attributeTypes;let B,y;const M=p.GetEncodedGeometryType(h);if(M===f.TRIANGULAR_MESH)B=new f.Mesh,y=p.DecodeBufferToMesh(h,B);else if(M===f.POINT_CLOUD)B=new f.PointCloud,y=p.DecodeBufferToPointCloud(h,B);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!y.ok()||B.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+y.error_msg());const G={index:null,attributes:[]};for(const x in g){const R=self[A[x]];let T,F;if(m.useUniqueIDs)F=g[x],T=p.GetAttributeByUniqueId(B,F);else{if(F=p.GetAttributeId(B,f[g[x]]),F===-1)continue;T=p.GetAttribute(B,F)}G.attributes.push(o(f,p,B,x,R,T))}return M===f.TRIANGULAR_MESH&&(G.index=r(f,p,B)),f.destroy(B),G}function r(f,p,h){const g=h.num_faces()*3,A=g*4,B=f._malloc(A);p.GetTrianglesUInt32Array(h,A,B);const y=new Uint32Array(f.HEAPF32.buffer,B,g).slice();return f._free(B),{array:y,itemSize:1}}function o(f,p,h,m,g,A){const B=A.num_components(),M=h.num_points()*B,G=M*g.BYTES_PER_ELEMENT,x=c(f,g),R=f._malloc(G);p.GetAttributeDataArrayForAllPoints(h,A,x,G,R);const T=new g(f.HEAPF32.buffer,R,M).slice();return f._free(R),{name:m,array:T,itemSize:B}}function c(f,p){switch(p){case Float32Array:return f.DT_FLOAT32;case Int8Array:return f.DT_INT8;case Int16Array:return f.DT_INT16;case Int32Array:return f.DT_INT32;case Uint8Array:return f.DT_UINT8;case Uint16Array:return f.DT_UINT16;case Uint32Array:return f.DT_UINT32}}}let sl;const Bu=()=>{if(sl)return sl;const a="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",n="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",s=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let o=a;WebAssembly.validate(s)&&(o=n);let c;const f=WebAssembly.instantiate(p(o),{}).then(A=>{c=A.instance,c.exports.__wasm_call_ctors()});function p(A){const B=new Uint8Array(A.length);for(let M=0;M<A.length;++M){const G=A.charCodeAt(M);B[M]=G>96?G-71:G>64?G-65:G>47?G+4:G>46?63:62}let y=0;for(let M=0;M<A.length;++M)B[y++]=B[M]<60?r[B[M]]:(B[M]-60)*64+B[++M];return B.buffer.slice(0,y)}function h(A,B,y,M,G,x){const R=c.exports.sbrk,T=y+3&-4,F=R(T*M),j=R(G.length),P=new Uint8Array(c.exports.memory.buffer);P.set(G,j);const L=A(F,y,M,j,G.length);if(L===0&&x&&x(F,T,M),B.set(P.subarray(F,F+y*M)),R(F-R(0)),L!==0)throw new Error(`Malformed buffer data: ${L}`)}const m={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},g={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return sl={ready:f,supported:!0,decodeVertexBuffer(A,B,y,M,G){h(c.exports.meshopt_decodeVertexBuffer,A,B,y,M,c.exports[m[G]])},decodeIndexBuffer(A,B,y,M){h(c.exports.meshopt_decodeIndexBuffer,A,B,y,M)},decodeIndexSequence(A,B,y,M){h(c.exports.meshopt_decodeIndexSequence,A,B,y,M)},decodeGltfBuffer(A,B,y,M,G,x){h(c.exports[g[G]],A,B,y,M,c.exports[m[x]])}},sl},J0=()=>parseInt(Cl.replace(/\D+/g,"")),j0=J0();let rl=null,Vh="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function qh(a=!0,n=!0,s){return r=>{s&&s(r),a&&(rl||(rl=new z0),rl.setDecoderPath(typeof a=="string"?a:Vh),r.setDRACOLoader(rl)),n&&r.setMeshoptDecoder(typeof Bu=="function"?Bu():Bu)}}const Ml=(a,n,s,r)=>Sa(Yu,a,qh(n,s,r));Ml.preload=(a,n,s,r)=>Sa.preload(Yu,a,qh(n,s,r));Ml.clear=a=>Sa.clear(Yu,a);Ml.setDecoderPath=a=>{Vh=a};const K0=J.forwardRef(({makeDefault:a,camera:n,regress:s,domElement:r,enableDamping:o=!0,keyEvents:c=!1,onChange:f,onStart:p,onEnd:h,...m},g)=>{const A=Gt(L=>L.invalidate),B=Gt(L=>L.camera),y=Gt(L=>L.gl),M=Gt(L=>L.events),G=Gt(L=>L.setEvents),x=Gt(L=>L.set),R=Gt(L=>L.get),T=Gt(L=>L.performance),F=n||B,j=r||M.connected||y.domElement,P=J.useMemo(()=>new t0(F),[F]);return Gi(()=>{P.enabled&&P.update()},-1),J.useEffect(()=>(c&&P.connect(c===!0?j:c),P.connect(j),()=>void P.dispose()),[c,j,s,P,A]),J.useEffect(()=>{const L=K=>{A(),s&&T.regress(),f&&f(K)},se=K=>{p&&p(K)},I=K=>{h&&h(K)};return P.addEventListener("change",L),P.addEventListener("start",se),P.addEventListener("end",I),()=>{P.removeEventListener("start",se),P.removeEventListener("end",I),P.removeEventListener("change",L)}},[f,p,h,P,A,G]),J.useEffect(()=>{if(a){const L=R().controls;return x({controls:P}),()=>x({controls:L})}},[a,P]),J.createElement("primitive",gl({ref:g,object:P,enableDamping:o},m))}),kh=(a,n,s)=>{let r;switch(a){case zn:r=new Uint8ClampedArray(n*s*4);break;case mn:r=new Uint16Array(n*s*4);break;case Ah:r=new Uint32Array(n*s*4);break;case $v:r=new Int8Array(n*s*4);break;case Wv:r=new Int16Array(n*s*4);break;case kv:r=new Int32Array(n*s*4);break;case ta:r=new Float32Array(n*s*4);break;default:throw new Error("Unsupported data type")}return r};let ll;const P0=(a,n,s,r)=>{if(ll!==void 0)return ll;const o=new xn(1,1,r);n.setRenderTarget(o);const c=new xi(new vh,new hs({color:16777215}));n.render(c,s),n.setRenderTarget(null);const f=kh(a,o.width,o.height);return n.readRenderTargetPixels(o,0,0,o.width,o.height,f),o.dispose(),c.geometry.dispose(),c.material.dispose(),ll=f[0]!==0,ll};class Zu{constructor(n){var s,r,o,c,f,p,h,m,g,A,B,y,M,G,x,R;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(F){throw this._renderer.setRenderTarget(null),F}this._renderer.setRenderTarget(null)},this._width=n.width,this._height=n.height,this._type=n.type,this._colorSpace=n.colorSpace;const T={format:ys,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((s=n.renderTargetOptions)===null||s===void 0?void 0:s.anisotropy)!==void 0?(r=n.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((o=n.renderTargetOptions)===null||o===void 0?void 0:o.generateMipmaps)!==void 0?(c=n.renderTargetOptions)===null||c===void 0?void 0:c.generateMipmaps:!1,magFilter:((f=n.renderTargetOptions)===null||f===void 0?void 0:f.magFilter)!==void 0?(p=n.renderTargetOptions)===null||p===void 0?void 0:p.magFilter:Jt,minFilter:((h=n.renderTargetOptions)===null||h===void 0?void 0:h.minFilter)!==void 0?(m=n.renderTargetOptions)===null||m===void 0?void 0:m.minFilter:Jt,samples:((g=n.renderTargetOptions)===null||g===void 0?void 0:g.samples)!==void 0?(A=n.renderTargetOptions)===null||A===void 0?void 0:A.samples:void 0,wrapS:((B=n.renderTargetOptions)===null||B===void 0?void 0:B.wrapS)!==void 0?(y=n.renderTargetOptions)===null||y===void 0?void 0:y.wrapS:Ca,wrapT:((M=n.renderTargetOptions)===null||M===void 0?void 0:M.wrapT)!==void 0?(G=n.renderTargetOptions)===null||G===void 0?void 0:G.wrapT:Ca};if(this._material=n.material,n.renderer?this._renderer=n.renderer:(this._renderer=Zu.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new or,this._camera=new Ri,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!P0(this._type,this._renderer,this._camera,T)){let F;switch(this._type){case mn:F=this._renderer.extensions.has("EXT_color_buffer_float")?ta:void 0;break}F!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${ta}`),this._type=F):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new xi(new vh,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new xn(this.width,this.height,T),this._renderTarget.texture.mapping=((x=n.renderTargetOptions)===null||x===void 0?void 0:x.mapping)!==void 0?(R=n.renderTargetOptions)===null||R===void 0?void 0:R.mapping:dl}static instantiateRenderer(){const n=new rh;return n.setSize(128,128),n}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const n=kh(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,n),n}toDataTexture(n){const s=new qv(this.toArray(),this.width,this.height,ys,this._type,n?.mapping||dl,n?.wrapS||Ca,n?.wrapT||Ca,n?.magFilter||Jt,n?.minFilter||Jt,n?.anisotropy||1,Cs);return s.generateMipmaps=n?.generateMipmaps!==void 0?n?.generateMipmaps:!1,s}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(n){this.disposeOnDemandRenderer(),n&&this.renderTarget.dispose(),this.material instanceof Hn&&Object.values(this.material.uniforms).forEach(s=>{s.value instanceof ea&&s.value.dispose()}),Object.values(this.material).forEach(s=>{s instanceof ea&&s.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(n){this._width=n,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(n){this._height=n,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(n){this._renderTarget=n,this._width=n.width,this._height=n.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Q0=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,X0=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Y0 extends Hn{constructor({gamma:n,offsetHdr:s,offsetSdr:r,gainMapMin:o,gainMapMax:c,maxDisplayBoost:f,hdrCapacityMin:p,hdrCapacityMax:h,sdr:m,gainMap:g}){super({name:"GainMapDecoderMaterial",vertexShader:Q0,fragmentShader:X0,uniforms:{sdr:{value:m},gainMap:{value:g},gamma:{value:new $e(1/n[0],1/n[1],1/n[2])},offsetHdr:{value:new $e().fromArray(s)},offsetSdr:{value:new $e().fromArray(r)},gainMapMin:{value:new $e().fromArray(o)},gainMapMax:{value:new $e().fromArray(c)},weightFactor:{value:(Math.log2(f)-p)/(h-p)}},blending:Wa,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=f,this._hdrCapacityMin=p,this._hdrCapacityMax=h,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(n){this.uniforms.sdr.value=n}get gainMap(){return this.uniforms.gainMap.value}set gainMap(n){this.uniforms.gainMap.value=n}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(n){this.uniforms.offsetHdr.value.fromArray(n)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(n){this.uniforms.offsetSdr.value.fromArray(n)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(n){this.uniforms.gainMapMin.value.fromArray(n)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(n){this.uniforms.gainMapMax.value.fromArray(n)}get gamma(){const n=this.uniforms.gamma.value;return[1/n.x,1/n.y,1/n.z]}set gamma(n){const s=this.uniforms.gamma.value;s.x=1/n[0],s.y=1/n[1],s.z=1/n[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(n){this._hdrCapacityMin=n,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(n){this._hdrCapacityMax=n,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(n){this._maxDisplayBoost=Math.max(1,Math.min(65504,n)),this.calculateWeight()}calculateWeight(){const n=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,n))}}class Wh extends Error{}class $h extends Error{}const tr=(a,n,s)=>{const r=new RegExp(`${n}="([^"]*)"`,"i").exec(a);if(r)return r[1];const o=new RegExp(`<${n}[^>]*>([\\s\\S]*?)</${n}>`,"i").exec(a);if(o){const c=o[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return c&&c.length===3?c.map(f=>f.replace(/<\/?rdf:li>/g,"")):o[1].trim()}if(s!==void 0)return s;throw new Error(`Can't find ${n} in gainmap metadata`)},Z0=a=>{let n;typeof TextDecoder<"u"?n=new TextDecoder().decode(a):n=a.toString();let s=n.indexOf("<x:xmpmeta");for(;s!==-1;){const r=n.indexOf("x:xmpmeta>",s),o=n.slice(s,r+10);try{const c=tr(o,"hdrgm:GainMapMin","0"),f=tr(o,"hdrgm:GainMapMax"),p=tr(o,"hdrgm:Gamma","1"),h=tr(o,"hdrgm:OffsetSDR","0.015625"),m=tr(o,"hdrgm:OffsetHDR","0.015625"),g=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(o),A=g?g[1]:"0",B=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(o);if(!B)throw new Error("Incomplete gainmap metadata");const y=B[1];return{gainMapMin:Array.isArray(c)?c.map(M=>parseFloat(M)):[parseFloat(c),parseFloat(c),parseFloat(c)],gainMapMax:Array.isArray(f)?f.map(M=>parseFloat(M)):[parseFloat(f),parseFloat(f),parseFloat(f)],gamma:Array.isArray(p)?p.map(M=>parseFloat(M)):[parseFloat(p),parseFloat(p),parseFloat(p)],offsetSdr:Array.isArray(h)?h.map(M=>parseFloat(M)):[parseFloat(h),parseFloat(h),parseFloat(h)],offsetHdr:Array.isArray(m)?m.map(M=>parseFloat(M)):[parseFloat(m),parseFloat(m),parseFloat(m)],hdrCapacityMin:parseFloat(A),hdrCapacityMax:parseFloat(y)}}catch{}s=n.indexOf("<x:xmpmeta",r)}};class V0{constructor(n){this.options={debug:n&&n.debug!==void 0?n.debug:!1,extractFII:n&&n.extractFII!==void 0?n.extractFII:!0,extractNonFII:n&&n.extractNonFII!==void 0?n.extractNonFII:!0}}extract(n){return new Promise((s,r)=>{const o=this.options.debug,c=new DataView(n.buffer);if(c.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const f=c.byteLength;let p=2,h=0,m;for(;p<f;){if(++h>250){r(new Error(`Found no marker after ${h} loops `));return}if(c.getUint8(p)!==255){r(new Error(`Not a valid marker at offset 0x${p.toString(16)}, found: 0x${c.getUint8(p).toString(16)}`));return}if(m=c.getUint8(p+1),o&&console.log(`Marker: ${m.toString(16)}`),m===226){o&&console.log("Found APP2 marker (0xffe2)");const g=p+4;if(c.getUint32(g)===1297106432){const A=g+4;let B;if(c.getUint16(A)===18761)B=!1;else if(c.getUint16(A)===19789)B=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(c.getUint16(A+2,!B)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const y=c.getUint32(A+4,!B);if(y<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const M=A+y,G=c.getUint16(M,!B),x=M+2;let R=0;for(let P=x;P<x+12*G;P+=12)c.getUint16(P,!B)===45057&&(R=c.getUint32(P+8,!B));const F=M+2+G*12+4,j=[];for(let P=F;P<F+R*16;P+=16){const L={MPType:c.getUint32(P,!B),size:c.getUint32(P+4,!B),dataOffset:c.getUint32(P+8,!B),dependantImages:c.getUint32(P+12,!B),start:-1,end:-1,isFII:!1};L.dataOffset?(L.start=A+L.dataOffset,L.isFII=!1):(L.start=0,L.isFII=!0),L.end=L.start+L.size,j.push(L)}if(this.options.extractNonFII&&j.length){const P=new Blob([c]),L=[];for(const se of j){if(se.isFII&&!this.options.extractFII)continue;const I=P.slice(se.start,se.end+1,"image/jpeg");L.push(I)}s(L)}}}p+=2+c.getUint16(p+2)}})}}const q0=async a=>{const n=Z0(a);if(!n)throw new $h("Gain map XMP metadata not found");const r=await new V0({extractFII:!0,extractNonFII:!0}).extract(a);if(r.length!==2)throw new Wh("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:n}},qd=a=>new Promise((n,s)=>{const r=document.createElement("img");r.onload=()=>{n(r)},r.onerror=o=>{s(o)},r.src=URL.createObjectURL(a)});class ep extends Nu{constructor(n,s){super(s),n&&(this._renderer=n),this._internalLoadingManager=new eA}setRenderer(n){return this._renderer=n,this}setRenderTargetOptions(n){return this._renderTargetOptions=n,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const n=new Y0({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new ea,sdr:new ea});return new Zu({width:16,height:16,type:mn,colorSpace:Cs,material:n,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(n,s,r,o){const c=o?new Blob([o],{type:"image/jpeg"}):void 0,f=new Blob([r],{type:"image/jpeg"});let p,h,m=!1;if(typeof createImageBitmap>"u"){const B=await Promise.all([c?qd(c):Promise.resolve(void 0),qd(f)]);h=B[0],p=B[1],m=!0}else{const B=await Promise.all([c?createImageBitmap(c,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(f,{imageOrientation:"flipY"})]);h=B[0],p=B[1]}const g=new ea(h||new ImageData(2,2),dl,Ca,Ca,Jt,vd,ys,zn,1,Cs);g.flipY=m,g.needsUpdate=!0;const A=new ea(p,dl,Ca,Ca,Jt,vd,ys,zn,1,Tt);A.flipY=m,A.needsUpdate=!0,n.width=p.width,n.height=p.height,n.material.gainMap=g,n.material.sdr=A,n.material.gainMapMin=s.gainMapMin,n.material.gainMapMax=s.gainMapMax,n.material.offsetHdr=s.offsetHdr,n.material.offsetSdr=s.offsetSdr,n.material.gamma=s.gamma,n.material.hdrCapacityMin=s.hdrCapacityMin,n.material.hdrCapacityMax=s.hdrCapacityMax,n.material.maxDisplayBoost=Math.pow(2,s.hdrCapacityMax),n.material.needsUpdate=!0,n.render()}}class k0 extends ep{load([n,s,r],o,c,f){const p=this.prepareQuadRenderer();let h,m,g;const A=async()=>{if(h&&m&&g){try{await this.render(p,g,h,m)}catch(K){this.manager.itemError(n),this.manager.itemError(s),this.manager.itemError(r),typeof f=="function"&&f(K),p.disposeOnDemandRenderer();return}typeof o=="function"&&o(p),this.manager.itemEnd(n),this.manager.itemEnd(s),this.manager.itemEnd(r),p.disposeOnDemandRenderer()}};let B=!0,y=0,M=0,G=!0,x=0,R=0,T=!0,F=0,j=0;const P=()=>{if(typeof c=="function"){const K=y+x+F,Q=M+R+j,le=B&&G&&T;c(new ProgressEvent("progress",{lengthComputable:le,loaded:Q,total:K}))}};this.manager.itemStart(n),this.manager.itemStart(s),this.manager.itemStart(r);const L=new ka(this._internalLoadingManager);L.setResponseType("arraybuffer"),L.setRequestHeader(this.requestHeader),L.setPath(this.path),L.setWithCredentials(this.withCredentials),L.load(n,async K=>{if(typeof K=="string")throw new Error("Invalid sdr buffer");h=K,await A()},K=>{B=K.lengthComputable,M=K.loaded,y=K.total,P()},K=>{this.manager.itemError(n),typeof f=="function"&&f(K)});const se=new ka(this._internalLoadingManager);se.setResponseType("arraybuffer"),se.setRequestHeader(this.requestHeader),se.setPath(this.path),se.setWithCredentials(this.withCredentials),se.load(s,async K=>{if(typeof K=="string")throw new Error("Invalid gainmap buffer");m=K,await A()},K=>{G=K.lengthComputable,R=K.loaded,x=K.total,P()},K=>{this.manager.itemError(s),typeof f=="function"&&f(K)});const I=new ka(this._internalLoadingManager);return I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(r,async K=>{if(typeof K!="string")throw new Error("Invalid metadata string");g=JSON.parse(K),await A()},K=>{T=K.lengthComputable,j=K.loaded,F=K.total,P()},K=>{this.manager.itemError(r),typeof f=="function"&&f(K)}),p}}class W0 extends ep{load(n,s,r,o){const c=this.prepareQuadRenderer(),f=new ka(this._internalLoadingManager);return f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setPath(this.path),f.setWithCredentials(this.withCredentials),this.manager.itemStart(n),f.load(n,async p=>{if(typeof p=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const h=new Uint8Array(p);let m,g,A;try{const B=await q0(h);m=B.sdr,g=B.gainMap,A=B.metadata}catch(B){if(B instanceof $h||B instanceof Wh)console.warn(`Failure to reconstruct an HDR image from ${n}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),A={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},m=h;else throw B}try{await this.render(c,A,m,g)}catch(B){this.manager.itemError(n),typeof o=="function"&&o(B),c.disposeOnDemandRenderer();return}typeof s=="function"&&s(c),this.manager.itemEnd(n),c.disposeOnDemandRenderer()},r,p=>{this.manager.itemError(n),typeof o=="function"&&o(p)}),c}}const dr={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},tp="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Es=a=>Array.isArray(a),Vu=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function Tl({files:a=Vu,path:n="",preset:s=void 0,colorSpace:r=void 0,extensions:o}={}){s&&(qu(s),a=dr[s],n=tp);const c=Es(a),{extension:f,isCubemap:p}=ku(a),h=Wu(f);if(!h)throw new Error("useEnvironment: Unrecognized file extension: "+a);const m=Gt(y=>y.gl);J.useLayoutEffect(()=>{if(f!=="webp"&&f!=="jpg"&&f!=="jpeg")return;function y(){Sa.clear(h,c?[a]:a)}m.domElement.addEventListener("webglcontextlost",y,{once:!0})},[a,m.domElement]);const g=Sa(h,c?[a]:a,y=>{(f==="webp"||f==="jpg"||f==="jpeg")&&y.setRenderer(m),y.setPath==null||y.setPath(n),o&&o(y)});let A=c?g[0]:g;if(f==="jpg"||f==="jpeg"||f==="webp"){var B;A=(B=A.renderTarget)==null?void 0:B.texture}return A.mapping=p?tA:nA,A.colorSpace=r??(p?"srgb":"srgb-linear"),A}const $0={files:Vu,path:"",preset:void 0,extensions:void 0};Tl.preload=a=>{const n={...$0,...a};let{files:s,path:r=""}=n;const{preset:o,extensions:c}=n;o&&(qu(o),s=dr[o],r=tp);const{extension:f}=ku(s);if(f==="webp"||f==="jpg"||f==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const p=Wu(f);if(!p)throw new Error("useEnvironment: Unrecognized file extension: "+s);Sa.preload(p,Es(s)?[s]:s,h=>{h.setPath==null||h.setPath(r),c&&c(h)})};const eB={files:Vu,preset:void 0};Tl.clear=a=>{const n={...eB,...a};let{files:s}=n;const{preset:r}=n;r&&(qu(r),s=dr[r]);const{extension:o}=ku(s),c=Wu(o);if(!c)throw new Error("useEnvironment: Unrecognized file extension: "+s);Sa.clear(c,Es(s)?[s]:s)};function qu(a){if(!(a in dr))throw new Error("Preset must be one of: "+Object.keys(dr).join(", "))}function ku(a){var n;const s=Es(a)&&a.length===6,r=Es(a)&&a.length===3&&a.some(f=>f.endsWith("json")),o=Es(a)?a[0]:a;return{extension:s?"cube":r?"webp":o.startsWith("data:application/exr")?"exr":o.startsWith("data:application/hdr")?"hdr":o.startsWith("data:image/jpeg")?"jpg":(n=o.split(".").pop())==null||(n=n.split("?"))==null||(n=n.shift())==null?void 0:n.toLowerCase(),isCubemap:s,isGainmap:r}}function Wu(a){return a==="cube"?aA:a==="hdr"?I0:a==="exr"?L0:a==="jpg"||a==="jpeg"?W0:a==="webp"?k0:null}const tB=a=>a.current&&a.current.isScene,nB=a=>tB(a)?a.current:a;function $u(a,n,s,r,o={}){var c,f,p,h;o={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...o};const m=nB(n||s),g=m.background,A=m.environment,B={backgroundBlurriness:m.backgroundBlurriness,backgroundIntensity:m.backgroundIntensity,backgroundRotation:(c=(f=m.backgroundRotation)==null||f.clone==null?void 0:f.clone())!==null&&c!==void 0?c:[0,0,0],environmentIntensity:m.environmentIntensity,environmentRotation:(p=(h=m.environmentRotation)==null||h.clone==null?void 0:h.clone())!==null&&p!==void 0?p:[0,0,0]};return a!=="only"&&(m.environment=r),a&&(m.background=r),$n(m,o),()=>{a!=="only"&&(m.environment=A),a&&(m.background=g),$n(m,B)}}function ec({scene:a,background:n=!1,map:s,...r}){const o=Gt(c=>c.scene);return J.useLayoutEffect(()=>{if(s)return $u(n,a,o,s,r)}),null}function np({background:a=!1,scene:n,blur:s,backgroundBlurriness:r,backgroundIntensity:o,backgroundRotation:c,environmentIntensity:f,environmentRotation:p,...h}){const m=Tl(h),g=Gt(A=>A.scene);return J.useLayoutEffect(()=>$u(a,n,g,m,{backgroundBlurriness:s??r,backgroundIntensity:o,backgroundRotation:c,environmentIntensity:f,environmentRotation:p})),J.useEffect(()=>()=>{m.dispose()},[m]),null}function aB({children:a,near:n=.1,far:s=1e3,resolution:r=256,frames:o=1,map:c,background:f=!1,blur:p,backgroundBlurriness:h,backgroundIntensity:m,backgroundRotation:g,environmentIntensity:A,environmentRotation:B,scene:y,files:M,path:G,preset:x=void 0,extensions:R}){const T=Gt(I=>I.gl),F=Gt(I=>I.scene),j=J.useRef(null),[P]=J.useState(()=>new or),L=J.useMemo(()=>{const I=new iA(r);return I.texture.type=mn,I},[r]);J.useEffect(()=>()=>{L.dispose()},[L]),J.useLayoutEffect(()=>{if(o===1){const I=T.autoClear;T.autoClear=!0,j.current.update(T,P),T.autoClear=I}return $u(f,y,F,L.texture,{backgroundBlurriness:p??h,backgroundIntensity:m,backgroundRotation:g,environmentIntensity:A,environmentRotation:B})},[a,P,L.texture,y,F,f,o,T]);let se=1;return Gi(()=>{if(o===1/0||se<o){const I=T.autoClear;T.autoClear=!0,j.current.update(T,P),T.autoClear=I,se++}}),J.createElement(J.Fragment,null,mg(J.createElement(J.Fragment,null,a,J.createElement("cubeCamera",{ref:j,args:[n,s,L]}),M||x?J.createElement(np,{background:!0,files:M,preset:x,path:G,extensions:R}):c?J.createElement(ec,{background:!0,map:c,extensions:R}):null),P))}function iB(a){var n,s,r,o;const c=Tl(a),f=a.map||c;J.useMemo(()=>Pu({GroundProjectedEnvImpl:Yg}),[]),J.useEffect(()=>()=>{c.dispose()},[c]);const p=J.useMemo(()=>[f],[f]),h=(n=a.ground)==null?void 0:n.height,m=(s=a.ground)==null?void 0:s.radius,g=(r=(o=a.ground)==null?void 0:o.scale)!==null&&r!==void 0?r:1e3;return J.createElement(J.Fragment,null,J.createElement(ec,gl({},a,{map:f})),J.createElement("groundProjectedEnvImpl",{args:p,scale:g,height:h,radius:m}))}function sB(a){return a.ground?J.createElement(iB,a):a.map?J.createElement(ec,a):a.children?J.createElement(aB,a):J.createElement(np,a)}class rB extends Hn{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${j0>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const lB=a=>new $e().setFromSpherical(new Su(a,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),oB=J.forwardRef(({radius:a=100,depth:n=50,count:s=5e3,saturation:r=0,factor:o=4,fade:c=!1,speed:f=1},p)=>{const h=J.useRef(null),[m,g,A]=J.useMemo(()=>{const y=[],M=[],G=Array.from({length:s},()=>(.5+.5*Math.random())*o),x=new _n;let R=a+n;const T=n/s;for(let F=0;F<s;F++)R-=T*Math.random(),y.push(...lB(R).toArray()),x.setHSL(F/s,r,.9),M.push(x.r,x.g,x.b);return[new Float32Array(y),new Float32Array(M),new Float32Array(G)]},[s,n,o,a,r]);Gi(y=>h.current&&(h.current.uniforms.time.value=y.clock.elapsedTime*f));const[B]=J.useState(()=>new rB);return J.createElement("points",{ref:p},J.createElement("bufferGeometry",null,J.createElement("bufferAttribute",{attach:"attributes-position",args:[m,3]}),J.createElement("bufferAttribute",{attach:"attributes-color",args:[g,3]}),J.createElement("bufferAttribute",{attach:"attributes-size",args:[A,1]})),J.createElement("primitive",{ref:h,object:B,attach:"material",blending:sA,"uniforms-fade-value":c,depthWrite:!1,transparent:!0,vertexColors:!0}))});/**
 * postprocessing v6.38.2 build Mon Dec 22 2025
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2025 Raoul van Rschen
 * @license Zlib
 */var Eu=1/1e3,uB=1e3,cB=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(a){typeof document<"u"&&document.hidden!==void 0&&(a?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=a)}get delta(){return this._delta*Eu}get fixedDelta(){return this._fixedDelta*Eu}set fixedDelta(a){this._fixedDelta=a*uB}get elapsed(){return this._elapsed*Eu}update(a){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(a!==void 0?a:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(a){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},fB=(()=>{const a=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),n=new Float32Array([0,0,2,0,0,2]),s=new Fu;return s.setAttribute("position",new Di(a,3)),s.setAttribute("uv",new Di(n,2)),s})(),$t=class Ou{static get fullscreenGeometry(){return fB}constructor(n="Pass",s=new or,r=new Ri){this.name=n,this.renderer=null,this.scene=s,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(n){if(this.rtt===n){const s=this.fullscreenMaterial;s!==null&&(s.needsUpdate=!0),this.rtt=!n}}set mainScene(n){}set mainCamera(n){}setRenderer(n){this.renderer=n}isEnabled(){return this.enabled}setEnabled(n){this.enabled=n}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(n){let s=this.screen;s!==null?s.material=n:(s=new xi(Ou.fullscreenGeometry,n),s.frustumCulled=!1,this.scene===null&&(this.scene=new or),this.scene.add(s),this.screen=s)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(n){this.fullscreenMaterial=n}getDepthTexture(){return null}setDepthTexture(n,s=Ms){}render(n,s,r,o,c){throw new Error("Render method not implemented!")}setSize(n,s){}initialize(n,s,r){}dispose(){for(const n of Object.keys(this)){const s=this[n];(s instanceof xn||s instanceof ir||s instanceof ea||s instanceof Ou)&&this[n].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},dB=class extends $t{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(a,n,s,r,o){const c=a.state.buffers.stencil;c.setLocked(!1),c.setTest(!1)}},hB=`#ifdef COLOR_WRITE
#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#endif
#ifdef DEPTH_WRITE
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
#ifdef USE_WEIGHTS
uniform vec4 channelWeights;
#endif
uniform float opacity;varying vec2 vUv;void main(){
#ifdef COLOR_WRITE
vec4 texel=texture2D(inputBuffer,vUv);
#ifdef USE_WEIGHTS
texel*=channelWeights;
#endif
gl_FragColor=opacity*texel;
#ifdef COLOR_SPACE_CONVERSION
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
#else
gl_FragColor=vec4(0.0);
#endif
#ifdef DEPTH_WRITE
gl_FragDepth=readDepth(vUv);
#endif
}`,ap="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",ip=class extends Hn{constructor(){super({name:"CopyMaterial",defines:{COLOR_SPACE_CONVERSION:"1",DEPTH_PACKING:"0",COLOR_WRITE:"1"},uniforms:{inputBuffer:new we(null),depthBuffer:new we(null),channelWeights:new we(null),opacity:new we(1)},blending:Wa,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:hB,vertexShader:ap}),this.depthFunc=cA}get inputBuffer(){return this.uniforms.inputBuffer.value}set inputBuffer(a){const n=a!==null;this.colorWrite!==n&&(n?this.defines.COLOR_WRITE=!0:delete this.defines.COLOR_WRITE,this.colorWrite=n,this.needsUpdate=!0),this.uniforms.inputBuffer.value=a}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(a){const n=a!==null;this.depthWrite!==n&&(n?this.defines.DEPTH_WRITE=!0:delete this.defines.DEPTH_WRITE,this.depthTest=n,this.depthWrite=n,this.needsUpdate=!0),this.uniforms.depthBuffer.value=a}set depthPacking(a){this.defines.DEPTH_PACKING=a.toFixed(0),this.needsUpdate=!0}get colorSpaceConversion(){return this.defines.COLOR_SPACE_CONVERSION!==void 0}set colorSpaceConversion(a){this.colorSpaceConversion!==a&&(a?this.defines.COLOR_SPACE_CONVERSION=!0:delete this.defines.COLOR_SPACE_CONVERSION,this.needsUpdate=!0)}get channelWeights(){return this.uniforms.channelWeights.value}set channelWeights(a){a!==null?(this.defines.USE_WEIGHTS="1",this.uniforms.channelWeights.value=a):delete this.defines.USE_WEIGHTS,this.needsUpdate=!0}setInputBuffer(a){this.uniforms.inputBuffer.value=a}getOpacity(a){return this.uniforms.opacity.value}setOpacity(a){this.uniforms.opacity.value=a}},pB=class extends $t{constructor(a,n=!0){super("CopyPass"),this.fullscreenMaterial=new ip,this.needsSwap=!1,this.renderTarget=a,a===void 0&&(this.renderTarget=new xn(1,1,{minFilter:Jt,magFilter:Jt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=n}get resize(){return this.autoResize}set resize(a){this.autoResize=a}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(a){this.autoResize=a}render(a,n,s,r,o){this.fullscreenMaterial.inputBuffer=n.texture,a.setRenderTarget(this.renderToScreen?null:this.renderTarget),a.render(this.scene,this.camera)}setSize(a,n){this.autoResize&&this.renderTarget.setSize(a,n)}initialize(a,n,s){s!==void 0&&(this.renderTarget.texture.type=s,s!==zn?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":a!==null&&a.outputColorSpace===Tt&&(this.renderTarget.texture.colorSpace=Tt))}},kd=new _n,sp=class extends $t{constructor(a=!0,n=!0,s=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=a,this.depth=n,this.stencil=s,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(a,n,s){this.color=a,this.depth=n,this.stencil=s}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(a){this.overrideClearColor=a}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(a){this.overrideClearAlpha=a}render(a,n,s,r,o){const c=this.overrideClearColor,f=this.overrideClearAlpha,p=a.getClearAlpha(),h=c!==null,m=f>=0;h?(a.getClearColor(kd),a.setClearColor(c,m?f:p)):m&&a.setClearAlpha(f),a.setRenderTarget(this.renderToScreen?null:n),a.clear(this.color,this.depth,this.stencil),h?a.setClearColor(kd,p):m&&a.setClearAlpha(p)}},mB=class extends $t{constructor(a,n){super("MaskPass",a,n),this.needsSwap=!1,this.clearPass=new sp(!1,!1,!0),this.inverse=!1}set mainScene(a){this.scene=a}set mainCamera(a){this.camera=a}get inverted(){return this.inverse}set inverted(a){this.inverse=a}get clear(){return this.clearPass.enabled}set clear(a){this.clearPass.enabled=a}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(a){this.inverted=a}render(a,n,s,r,o){const c=a.getContext(),f=a.state.buffers,p=this.scene,h=this.camera,m=this.clearPass,g=this.inverted?0:1,A=1-g;f.color.setMask(!1),f.depth.setMask(!1),f.color.setLocked(!0),f.depth.setLocked(!0),f.stencil.setTest(!0),f.stencil.setOp(c.REPLACE,c.REPLACE,c.REPLACE),f.stencil.setFunc(c.ALWAYS,g,4294967295),f.stencil.setClear(A),f.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?m.render(a,null):(m.render(a,n),m.render(a,s))),this.renderToScreen?(a.setRenderTarget(null),a.render(p,h)):(a.setRenderTarget(n),a.render(p,h),a.setRenderTarget(s),a.render(p,h)),f.color.setLocked(!1),f.depth.setLocked(!1),f.stencil.setLocked(!1),f.stencil.setFunc(c.EQUAL,1,4294967295),f.stencil.setOp(c.KEEP,c.KEEP,c.KEEP),f.stencil.setLocked(!0)}},vB=class{constructor(a=null,{depthBuffer:n=!0,stencilBuffer:s=!1,multisampling:r=0,frameBufferType:o}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,s,o,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new pB,this.depthTexture=null,this.passes=[],this.timer=new cB,this.autoRenderToScreen=!0,this.setRenderer(a)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(a){const n=this.inputBuffer,s=this.multisampling;s>0&&a>0?(this.inputBuffer.samples=a,this.outputBuffer.samples=a,this.inputBuffer.dispose(),this.outputBuffer.dispose()):s!==a&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,a),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(a){if(this.renderer=a,a!==null){const n=a.getSize(new Qe),s=a.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type;r===zn&&a.outputColorSpace===Tt&&(this.inputBuffer.texture.colorSpace=Tt,this.outputBuffer.texture.colorSpace=Tt,this.inputBuffer.dispose(),this.outputBuffer.dispose()),a.autoClear=!1,this.setSize(n.width,n.height);for(const o of this.passes)o.initialize(a,s,r)}}replaceRenderer(a,n=!0){const s=this.renderer,r=s.domElement.parentNode;return this.setRenderer(a),n&&r!==null&&(r.removeChild(s.domElement),r.appendChild(a.domElement)),s}createDepthTexture(){const a=this.depthTexture=new rA;return this.inputBuffer.depthTexture=a,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(a.format=lA,a.type=oA):a.type=Ah,a}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const a of this.passes)a.setDepthTexture(null)}}createBuffer(a,n,s,r){const o=this.renderer,c=o===null?new Qe:o.getDrawingBufferSize(new Qe),f={minFilter:Jt,magFilter:Jt,stencilBuffer:n,depthBuffer:a,type:s},p=new xn(c.width,c.height,f);return r>0&&(p.samples=r),s===zn&&o!==null&&o.outputColorSpace===Tt&&(p.texture.colorSpace=Tt),p.texture.name="EffectComposer.Buffer",p.texture.generateMipmaps=!1,p}setMainScene(a){for(const n of this.passes)n.mainScene=a}setMainCamera(a){for(const n of this.passes)n.mainCamera=a}addPass(a,n){const s=this.passes,r=this.renderer,o=r.getDrawingBufferSize(new Qe),c=r.getContext().getContextAttributes().alpha,f=this.inputBuffer.texture.type;if(a.setRenderer(r),a.setSize(o.width,o.height),a.initialize(r,c,f),this.autoRenderToScreen&&(s.length>0&&(s[s.length-1].renderToScreen=!1),a.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?s.splice(n,0,a):s.push(a),this.autoRenderToScreen&&(s[s.length-1].renderToScreen=!0),a.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const p=this.createDepthTexture();for(a of s)a.setDepthTexture(p)}else a.setDepthTexture(this.depthTexture)}removePass(a){const n=this.passes,s=n.indexOf(a);if(s!==-1&&n.splice(s,1).length>0){if(this.depthTexture!==null){const c=(p,h)=>p||h.needsDepthTexture;n.reduce(c,!1)||(a.getDepthTexture()===this.depthTexture&&a.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&s===n.length&&(a.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const a=this.passes;this.deleteDepthTexture(),a.length>0&&(this.autoRenderToScreen&&(a[a.length-1].renderToScreen=!1),this.passes=[])}render(a){const n=this.renderer,s=this.copyPass;let r=this.inputBuffer,o=this.outputBuffer,c=!1,f,p,h;a===void 0&&(this.timer.update(),a=this.timer.getDelta());for(const m of this.passes)m.enabled&&(m.render(n,r,o,a,c),m.needsSwap&&(c&&(s.renderToScreen=m.renderToScreen,f=n.getContext(),p=n.state.buffers.stencil,p.setFunc(f.NOTEQUAL,1,4294967295),s.render(n,r,o,a,c),p.setFunc(f.EQUAL,1,4294967295)),h=r,r=o,o=h),m instanceof mB?c=!0:m instanceof dB&&(c=!1))}setSize(a,n,s){const r=this.renderer,o=r.getSize(new Qe);(a===void 0||n===void 0)&&(a=o.width,n=o.height),(o.width!==a||o.height!==n)&&r.setSize(a,n,s);const c=r.getDrawingBufferSize(new Qe);this.inputBuffer.setSize(c.width,c.height),this.outputBuffer.setSize(c.width,c.height);for(const f of this.passes)f.setSize(c.width,c.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const a of this.passes)a.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),$t.fullscreenGeometry.dispose()}},_i={NONE:0,DEPTH:1,CONVOLUTION:2},Xe={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},AB=class{constructor(){this.shaderParts=new Map([[Xe.FRAGMENT_HEAD,null],[Xe.FRAGMENT_MAIN_UV,null],[Xe.FRAGMENT_MAIN_IMAGE,null],[Xe.VERTEX_HEAD,null],[Xe.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=_i.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Cs}},Cu=!1,Wd=class{constructor(a=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(a),this.meshCount=0,this.replaceMaterial=n=>{if(n.isMesh){let s;if(n.material.flatShading)switch(n.material.side){case ds:s=this.materialsFlatShadedDoubleSide;break;case $r:s=this.materialsFlatShadedBackSide;break;default:s=this.materialsFlatShaded;break}else switch(n.material.side){case ds:s=this.materialsDoubleSide;break;case $r:s=this.materialsBackSide;break;default:s=this.materials;break}this.originalMaterials.set(n,n.material),n.isSkinnedMesh?n.material=s[2]:n.isInstancedMesh?n.material=s[1]:n.material=s[0],++this.meshCount}}}cloneMaterial(a){if(!(a instanceof Hn))return a.clone();const n=a.uniforms,s=new Map;for(const o in n){const c=n[o].value;c.isRenderTargetTexture&&(n[o].value=null,s.set(o,c))}const r=a.clone();for(const o of s)n[o[0]].value=o[1],r.uniforms[o[0]].value=o[1];return r}setMaterial(a){if(this.disposeMaterials(),this.material=a,a!==null){const n=this.materials=[this.cloneMaterial(a),this.cloneMaterial(a),this.cloneMaterial(a)];for(const s of n)s.uniforms=Object.assign({},a.uniforms),s.side=ph;n[2].skinning=!0,this.materialsBackSide=n.map(s=>{const r=this.cloneMaterial(s);return r.uniforms=Object.assign({},a.uniforms),r.side=$r,r}),this.materialsDoubleSide=n.map(s=>{const r=this.cloneMaterial(s);return r.uniforms=Object.assign({},a.uniforms),r.side=ds,r}),this.materialsFlatShaded=n.map(s=>{const r=this.cloneMaterial(s);return r.uniforms=Object.assign({},a.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=n.map(s=>{const r=this.cloneMaterial(s);return r.uniforms=Object.assign({},a.uniforms),r.flatShading=!0,r.side=$r,r}),this.materialsFlatShadedDoubleSide=n.map(s=>{const r=this.cloneMaterial(s);return r.uniforms=Object.assign({},a.uniforms),r.flatShading=!0,r.side=ds,r})}}render(a,n,s){const r=a.shadowMap.enabled;if(a.shadowMap.enabled=!1,Cu){const o=this.originalMaterials;this.meshCount=0,n.traverse(this.replaceMaterial),a.render(n,s);for(const c of o)c[0].material=c[1];this.meshCount!==o.size&&o.clear()}else{const o=n.overrideMaterial;n.overrideMaterial=this.material,a.render(n,s),n.overrideMaterial=o}a.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const a=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const n of a)n.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return Cu}static set workaroundEnabled(a){Cu=a}},Za=-1,jt=class extends Iu{constructor(a,n=Za,s=Za,r=1){super(),this.resizable=a,this.baseSize=new Qe(1,1),this.preferredSize=new Qe(n,s),this.target=this.preferredSize,this.s=r,this.effectiveSize=new Qe,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const a=this.baseSize,n=this.preferredSize,s=this.effectiveSize,r=this.scale;n.width!==Za?s.width=n.width:n.height!==Za?s.width=Math.round(n.height*(a.width/Math.max(a.height,1))):s.width=Math.round(a.width*r),n.height!==Za?s.height=n.height:n.width!==Za?s.height=Math.round(n.width/Math.max(a.width/Math.max(a.height,1),1)):s.height=Math.round(a.height*r)}get width(){return this.effectiveSize.width}set width(a){this.preferredWidth=a}get height(){return this.effectiveSize.height}set height(a){this.preferredHeight=a}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(a){this.s!==a&&(this.s=a,this.preferredSize.setScalar(Za),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(a){this.scale=a}get baseWidth(){return this.baseSize.width}set baseWidth(a){this.baseSize.width!==a&&(this.baseSize.width=a,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(a){this.baseWidth=a}get baseHeight(){return this.baseSize.height}set baseHeight(a){this.baseSize.height!==a&&(this.baseSize.height=a,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(a){this.baseHeight=a}setBaseSize(a,n){(this.baseSize.width!==a||this.baseSize.height!==n)&&(this.baseSize.set(a,n),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(a){this.preferredSize.width!==a&&(this.preferredSize.width=a,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(a){this.preferredWidth=a}get preferredHeight(){return this.preferredSize.height}set preferredHeight(a){this.preferredSize.height!==a&&(this.preferredSize.height=a,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(a){this.preferredHeight=a}setPreferredSize(a,n){(this.preferredSize.width!==a||this.preferredSize.height!==n)&&(this.preferredSize.set(a,n),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(a){this.s=a.scale,this.baseSize.set(a.baseWidth,a.baseHeight),this.preferredSize.set(a.preferredWidth,a.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return Za}},Le={ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},gB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",BB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,src.a*opacity);}",EB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=(dst.rgb+src.rgb)*0.5;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",CB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.xy,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",yB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=mix(step(0.0,b)*(1.0-min(vec3(1.0),(1.0-a)/max(b,1e-9))),vec3(1.0),step(1.0,a));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",SB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=step(0.0,a)*mix(min(vec3(1.0),a/max(1.0-b,1e-9)),vec3(1.0),step(1.0,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",MB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",TB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=abs(dst.rgb-src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",bB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb/max(src.rgb,1e-9);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",RB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-2.0*dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",DB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb,1.0);vec3 b=min(src.rgb,1.0);vec3 c=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",_B="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=step(1.0,dst.rgb+src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",HB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.x,a.yz));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",xB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",GB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=src.rgb*max(1.0-dst.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",UB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",OB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",NB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb+src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",FB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(2.0*src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",IB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.xy,b.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",LB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",zB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-abs(1.0-dst.rgb-src.rgb),0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",wB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,opacity);}",JB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=2.0*src.rgb*dst.rgb;vec3 b=1.0-2.0*(1.0-src.rgb)*(1.0-dst.rgb);vec3 c=mix(a,b,step(0.5,dst.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",jB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 c=mix(mix(src2,dst.rgb,step(0.5*dst.rgb,src.rgb)),max(src2-1.0,vec3(0.0)),step(dst.rgb,src2-1.0));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",KB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb*dst.rgb/max(1.0-src.rgb,1e-9),1.0);vec3 c=mix(a,src.rgb,step(1.0,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",PB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.x,b.y,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",QB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-min(dst.rgb*src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",XB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 d=dst.rgb+(src2-1.0);vec3 w=step(0.5,src.rgb);vec3 a=dst.rgb-(1.0-src2)*dst.rgb*(1.0-dst.rgb);vec3 b=mix(d*(sqrt(dst.rgb)-dst.rgb),d*dst.rgb*((16.0*dst.rgb-12.0)*dst.rgb+3.0),w*(1.0-step(0.25,dst.rgb)));vec3 c=mix(a,b,w);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",YB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return src;}",ZB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",VB="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=mix(max(1.0-min((1.0-dst.rgb)/(2.0*src.rgb),1.0),0.0),min(dst.rgb/(2.0*(1.0-src.rgb)),1.0),step(0.5,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",qB=new Map([[Le.ADD,gB],[Le.ALPHA,BB],[Le.AVERAGE,EB],[Le.COLOR,CB],[Le.COLOR_BURN,yB],[Le.COLOR_DODGE,SB],[Le.DARKEN,MB],[Le.DIFFERENCE,TB],[Le.DIVIDE,bB],[Le.DST,null],[Le.EXCLUSION,RB],[Le.HARD_LIGHT,DB],[Le.HARD_MIX,_B],[Le.HUE,HB],[Le.INVERT,xB],[Le.INVERT_RGB,GB],[Le.LIGHTEN,UB],[Le.LINEAR_BURN,OB],[Le.LINEAR_DODGE,NB],[Le.LINEAR_LIGHT,FB],[Le.LUMINOSITY,IB],[Le.MULTIPLY,LB],[Le.NEGATION,zB],[Le.NORMAL,wB],[Le.OVERLAY,JB],[Le.PIN_LIGHT,jB],[Le.REFLECT,KB],[Le.SATURATION,PB],[Le.SCREEN,QB],[Le.SOFT_LIGHT,XB],[Le.SRC,YB],[Le.SUBTRACT,ZB],[Le.VIVID_LIGHT,VB]]),kB=class extends Iu{constructor(a,n=1){super(),this._blendFunction=a,this.opacity=new we(n)}getOpacity(){return this.opacity.value}setOpacity(a){this.opacity.value=a}get blendFunction(){return this._blendFunction}set blendFunction(a){this._blendFunction=a,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(a){this.blendFunction=a}getShaderCode(){return qB.get(this.blendFunction)}},El=class extends Iu{constructor(a,n,{attributes:s=_i.NONE,blendFunction:r=Le.NORMAL,defines:o=new Map,uniforms:c=new Map,extensions:f=null,vertexShader:p=null}={}){super(),this.name=a,this.renderer=null,this.attributes=s,this.fragmentShader=n,this.vertexShader=p,this.defines=o,this.uniforms=c,this.extensions=f,this.blendMode=new kB(r),this.blendMode.addEventListener("change",h=>this.setChanged()),this._inputColorSpace=Cs,this._outputColorSpace=gh}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(a){this._inputColorSpace=a,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(a){this._outputColorSpace=a,this.setChanged()}set mainScene(a){}set mainCamera(a){}getName(){return this.name}setRenderer(a){this.renderer=a}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(a){this.attributes=a,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(a){this.fragmentShader=a,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(a){this.vertexShader=a,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(a,n=Ms){}update(a,n,s){}setSize(a,n){}initialize(a,n,s){}dispose(){for(const a of Object.keys(this)){const n=this[a];(n instanceof xn||n instanceof ir||n instanceof ea||n instanceof $t)&&this[a].dispose()}}},tc={MEDIUM:2,LARGE:3},WB=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,$B="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",eE=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],tE=class extends Hn{constructor(a=new Ad){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new we(null),texelSize:new we(new Ad),scale:new we(1),kernel:new we(0)},blending:Wa,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:WB,vertexShader:$B}),this.setTexelSize(a.x,a.y),this.kernelSize=tc.MEDIUM}set inputBuffer(a){this.uniforms.inputBuffer.value=a}setInputBuffer(a){this.inputBuffer=a}get kernelSequence(){return eE[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(a){this.uniforms.scale.value=a}getScale(){return this.uniforms.scale.value}setScale(a){this.uniforms.scale.value=a}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(a){this.uniforms.kernel.value=a}setKernel(a){this.kernel=a}setTexelSize(a,n){this.uniforms.texelSize.value.set(a,n,a*.5,n*.5)}setSize(a,n){const s=1/a,r=1/n;this.uniforms.texelSize.value.set(s,r,s*.5,r*.5)}},nE=class extends $t{constructor({kernelSize:a=tc.MEDIUM,resolutionScale:n=.5,width:s=jt.AUTO_SIZE,height:r=jt.AUTO_SIZE,resolutionX:o=s,resolutionY:c=r}={}){super("KawaseBlurPass"),this.renderTargetA=new xn(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const f=this.resolution=new jt(this,o,c,n);f.addEventListener("change",p=>this.setSize(f.baseWidth,f.baseHeight)),this._blurMaterial=new tE,this._blurMaterial.kernelSize=a,this.copyMaterial=new ip}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(a){this._blurMaterial=a}get dithering(){return this.copyMaterial.dithering}set dithering(a){this.copyMaterial.dithering=a}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(a){this.blurMaterial.kernelSize=a}get width(){return this.resolution.width}set width(a){this.resolution.preferredWidth=a}get height(){return this.resolution.height}set height(a){this.resolution.preferredHeight=a}get scale(){return this.blurMaterial.scale}set scale(a){this.blurMaterial.scale=a}getScale(){return this.blurMaterial.scale}setScale(a){this.blurMaterial.scale=a}getKernelSize(){return this.kernelSize}setKernelSize(a){this.kernelSize=a}getResolutionScale(){return this.resolution.scale}setResolutionScale(a){this.resolution.scale=a}render(a,n,s,r,o){const c=this.scene,f=this.camera,p=this.renderTargetA,h=this.renderTargetB,m=this.blurMaterial,g=m.kernelSequence;let A=n;this.fullscreenMaterial=m;for(let B=0,y=g.length;B<y;++B){const M=(B&1)===0?p:h;m.kernel=g[B],m.inputBuffer=A.texture,a.setRenderTarget(M),a.render(c,f),A=M}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=A.texture,a.setRenderTarget(this.renderToScreen?null:s),a.render(c,f)}setSize(a,n){const s=this.resolution;s.setBaseSize(a,n);const r=s.width,o=s.height;this.renderTargetA.setSize(r,o),this.renderTargetB.setSize(r,o),this.blurMaterial.setSize(a,n)}initialize(a,n,s){s!==void 0&&(this.renderTargetA.texture.type=s,this.renderTargetB.texture.type=s,s!==zn?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):a!==null&&a.outputColorSpace===Tt&&(this.renderTargetA.texture.colorSpace=Tt,this.renderTargetB.texture.colorSpace=Tt))}static get AUTO_SIZE(){return jt.AUTO_SIZE}},aE=`#include <common>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);float mask=1.0;
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);mask=low*high;
#elif defined(THRESHOLD)
mask=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=texel*mask;
#else
gl_FragColor=vec4(l*mask);
#endif
}`,iE=class extends Hn{constructor(a=!1,n=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Cl.replace(/\D+/g,"")},uniforms:{inputBuffer:new we(null),threshold:new we(0),smoothing:new we(1),range:new we(null)},blending:Wa,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:aE,vertexShader:ap}),this.colorOutput=a,this.luminanceRange=n}set inputBuffer(a){this.uniforms.inputBuffer.value=a}setInputBuffer(a){this.uniforms.inputBuffer.value=a}get threshold(){return this.uniforms.threshold.value}set threshold(a){this.smoothing>0||a>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=a}getThreshold(){return this.threshold}setThreshold(a){this.threshold=a}get smoothing(){return this.uniforms.smoothing.value}set smoothing(a){this.threshold>0||a>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=a}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(a){this.smoothing=a}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(a){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(a){a?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(a){return this.colorOutput}setColorOutputEnabled(a){this.colorOutput=a}get useRange(){return this.luminanceRange!==null}set useRange(a){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(a){a!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=a,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(a){this.luminanceRange=a}},sE=class extends $t{constructor({renderTarget:a,luminanceRange:n,colorOutput:s,resolutionScale:r=1,width:o=jt.AUTO_SIZE,height:c=jt.AUTO_SIZE,resolutionX:f=o,resolutionY:p=c}={}){super("LuminancePass"),this.fullscreenMaterial=new iE(s,n),this.needsSwap=!1,this.renderTarget=a,this.renderTarget===void 0&&(this.renderTarget=new xn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const h=this.resolution=new jt(this,f,p,r);h.addEventListener("change",m=>this.setSize(h.baseWidth,h.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(a,n,s,r,o){const c=this.fullscreenMaterial;c.inputBuffer=n.texture,a.setRenderTarget(this.renderToScreen?null:this.renderTarget),a.render(this.scene,this.camera)}setSize(a,n){const s=this.resolution;s.setBaseSize(a,n),this.renderTarget.setSize(s.width,s.height)}initialize(a,n,s){s!==void 0&&s!==zn&&(this.renderTarget.texture.type=s,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},rE=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,lE="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",oE=class extends Hn{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new we(null),texelSize:new we(new Qe)},blending:Wa,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:rE,vertexShader:lE})}set inputBuffer(a){this.uniforms.inputBuffer.value=a}setSize(a,n){this.uniforms.texelSize.value.set(1/a,1/n)}},uE=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,cE="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",fE=class extends Hn{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new we(null),supportBuffer:new we(null),texelSize:new we(new Qe),radius:new we(.85)},blending:Wa,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:uE,vertexShader:cE})}set inputBuffer(a){this.uniforms.inputBuffer.value=a}set supportBuffer(a){this.uniforms.supportBuffer.value=a}get radius(){return this.uniforms.radius.value}set radius(a){this.uniforms.radius.value=a}setSize(a,n){this.uniforms.texelSize.value.set(1/a,1/n)}},dE=class extends $t{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new xn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new oE,this.upsamplingMaterial=new fE,this.resolution=new Qe}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(a){if(this.levels!==a){const n=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let s=0;s<a;++s){const r=n.clone();r.texture.name="Downsampling.Mipmap"+s,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(n);for(let s=1,r=a-1;s<r;++s){const o=n.clone();o.texture.name="Upsampling.Mipmap"+s,this.upsamplingMipmaps.push(o)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(a){this.upsamplingMaterial.radius=a}render(a,n,s,r,o){const{scene:c,camera:f}=this,{downsamplingMaterial:p,upsamplingMaterial:h}=this,{downsamplingMipmaps:m,upsamplingMipmaps:g}=this;let A=n;this.fullscreenMaterial=p;for(let B=0,y=m.length;B<y;++B){const M=m[B];p.setSize(A.width,A.height),p.inputBuffer=A.texture,a.setRenderTarget(M),a.render(c,f),A=M}this.fullscreenMaterial=h;for(let B=g.length-1;B>=0;--B){const y=g[B];h.setSize(A.width,A.height),h.inputBuffer=A.texture,h.supportBuffer=m[B].texture,a.setRenderTarget(y),a.render(c,f),A=y}}setSize(a,n){const s=this.resolution;s.set(a,n);let r=s.width,o=s.height;for(let c=0,f=this.downsamplingMipmaps.length;c<f;++c)r=Math.round(r*.5),o=Math.round(o*.5),this.downsamplingMipmaps[c].setSize(r,o),c<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[c].setSize(r,o)}initialize(a,n,s){if(s!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const o of r)o.texture.type=s;if(s!==zn)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(a!==null&&a.outputColorSpace===Tt)for(const o of r)o.texture.colorSpace=Tt}}dispose(){super.dispose();for(const a of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))a.dispose()}},hE=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,pE=class extends El{constructor({blendFunction:a=Le.SCREEN,luminanceThreshold:n=1,luminanceSmoothing:s=.03,mipmapBlur:r=!0,intensity:o=1,radius:c=.85,levels:f=8,kernelSize:p=tc.LARGE,resolutionScale:h=.5,width:m=jt.AUTO_SIZE,height:g=jt.AUTO_SIZE,resolutionX:A=m,resolutionY:B=g}={}){super("BloomEffect",hE,{blendFunction:a,uniforms:new Map([["map",new we(null)],["intensity",new we(o)]])}),this.renderTarget=new xn(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new nE({kernelSize:p}),this.luminancePass=new sE({colorOutput:!0}),this.luminanceMaterial.threshold=n,this.luminanceMaterial.smoothing=s,this.mipmapBlurPass=new dE,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=c,this.mipmapBlurPass.levels=f,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const y=this.resolution=new jt(this,A,B,h);y.addEventListener("change",M=>this.setSize(y.baseWidth,y.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(a){this.resolution.preferredWidth=a}get height(){return this.resolution.height}set height(a){this.resolution.preferredHeight=a}get dithering(){return this.blurPass.dithering}set dithering(a){this.blurPass.dithering=a}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(a){this.blurPass.kernelSize=a}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(a){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(a){this.uniforms.get("intensity").value=a}getIntensity(){return this.intensity}setIntensity(a){this.intensity=a}getResolutionScale(){return this.resolution.scale}setResolutionScale(a){this.resolution.scale=a}update(a,n,s){const r=this.renderTarget,o=this.luminancePass;o.enabled?(o.render(a,n),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(a,o.renderTarget):this.blurPass.render(a,o.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(a,n):this.blurPass.render(a,n,r)}setSize(a,n){const s=this.resolution;s.setBaseSize(a,n),this.renderTarget.setSize(s.width,s.height),this.blurPass.resolution.copy(s),this.luminancePass.setSize(a,n),this.mipmapBlurPass.setSize(a,n)}initialize(a,n,s){this.blurPass.initialize(a,n,s),this.luminancePass.initialize(a,n,s),this.mipmapBlurPass.initialize(a,n,s),s!==void 0&&(this.renderTarget.texture.type=s,a!==null&&a.outputColorSpace===Tt&&(this.renderTarget.texture.colorSpace=Tt))}},rp=class extends $t{constructor(a,n,s=null){super("RenderPass",a,n),this.needsSwap=!1,this.clearPass=new sp,this.overrideMaterialManager=s===null?null:new Wd(s),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(a){this.scene=a}set mainCamera(a){this.camera=a}get renderToScreen(){return super.renderToScreen}set renderToScreen(a){super.renderToScreen=a,this.clearPass.renderToScreen=a}get overrideMaterial(){const a=this.overrideMaterialManager;return a!==null?a.material:null}set overrideMaterial(a){const n=this.overrideMaterialManager;a!==null?n!==null?n.setMaterial(a):this.overrideMaterialManager=new Wd(a):n!==null&&(n.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(a){this.overrideMaterial=a}get clear(){return this.clearPass.enabled}set clear(a){this.clearPass.enabled=a}getSelection(){return this.selection}setSelection(a){this.selection=a}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(a){this.ignoreBackground=a}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(a){this.skipShadowMapUpdate=a}getClearPass(){return this.clearPass}render(a,n,s,r,o){const c=this.scene,f=this.camera,p=this.selection,h=f.layers.mask,m=c.background,g=a.shadowMap.autoUpdate,A=this.renderToScreen?null:n;p!==null&&f.layers.set(p.getLayer()),this.skipShadowMapUpdate&&(a.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(c.background=null),this.clearPass.enabled&&this.clearPass.render(a,n),a.setRenderTarget(A),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(a,c,f):a.render(c,f),f.layers.mask=h,c.background=m,a.shadowMap.autoUpdate=g}},nr={DEFAULT:0,ESKIL:1},mE=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,vE="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",AE=class extends Hn{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new we(null),normalBuffer:new we(null),texelSize:new we(new Qe)},blending:Wa,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:mE,vertexShader:vE})}set depthBuffer(a){this.uniforms.depthBuffer.value=a}set depthPacking(a){this.defines.DEPTH_PACKING=a.toFixed(0),this.needsUpdate=!0}setDepthBuffer(a,n=Ms){this.depthBuffer=a,this.depthPacking=n}set normalBuffer(a){this.uniforms.normalBuffer.value=a,a!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(a){this.normalBuffer=a}setTexelSize(a,n){this.uniforms.texelSize.value.set(a,n)}setSize(a,n){this.uniforms.texelSize.value.set(1/a,1/n)}},gE=class extends $t{constructor({normalBuffer:a=null,resolutionScale:n=.5,width:s=jt.AUTO_SIZE,height:r=jt.AUTO_SIZE,resolutionX:o=s,resolutionY:c=r}={}){super("DepthDownsamplingPass");const f=new AE;f.normalBuffer=a,this.fullscreenMaterial=f,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new xn(1,1,{minFilter:ur,magFilter:ur,depthBuffer:!1,type:ta}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const p=this.resolution=new jt(this,o,c,n);p.addEventListener("change",h=>this.setSize(p.baseWidth,p.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(a,n=Ms){this.fullscreenMaterial.depthBuffer=a,this.fullscreenMaterial.depthPacking=n}render(a,n,s,r,o){a.setRenderTarget(this.renderToScreen?null:this.renderTarget),a.render(this.scene,this.camera)}setSize(a,n){const s=this.resolution;s.setBaseSize(a,n),this.renderTarget.setSize(s.width,s.height),this.fullscreenMaterial.setSize(a,n)}initialize(a,n,s){const r=a.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},BE=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,EE=class extends El{constructor({blendFunction:a,eskil:n=!1,technique:s=n?nr.ESKIL:nr.DEFAULT,offset:r=.5,darkness:o=.5}={}){super("VignetteEffect",BE,{blendFunction:a,defines:new Map([["VIGNETTE_TECHNIQUE",s.toFixed(0)]]),uniforms:new Map([["offset",new we(r)],["darkness",new we(o)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(a){this.technique!==a&&(this.defines.set("VIGNETTE_TECHNIQUE",a.toFixed(0)),this.setChanged())}get eskil(){return this.technique===nr.ESKIL}set eskil(a){this.technique=a?nr.ESKIL:nr.DEFAULT}getTechnique(){return this.technique}setTechnique(a){this.technique=a}get offset(){return this.uniforms.get("offset").value}set offset(a){this.uniforms.get("offset").value=a}getOffset(){return this.offset}setOffset(a){this.offset=a}get darkness(){return this.uniforms.get("darkness").value}set darkness(a){this.uniforms.get("darkness").value=a}getDarkness(){return this.darkness}setDarkness(a){this.darkness=a}},CE=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth=1.0-depth;
#endif
return depth;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,yE="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",SE=class extends Hn{constructor(a,n,s,r,o=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Cl.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new we(null),depthBuffer:new we(null),resolution:new we(new Qe),texelSize:new we(new Qe),cameraNear:new we(.3),cameraFar:new we(1e3),aspect:new we(1),time:new we(0)},blending:Wa,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:o}),a&&this.setShaderParts(a),n&&this.setDefines(n),s&&this.setUniforms(s),this.copyCameraSettings(r)}set inputBuffer(a){this.uniforms.inputBuffer.value=a}setInputBuffer(a){this.uniforms.inputBuffer.value=a}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(a){this.uniforms.depthBuffer.value=a}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(a){this.defines.DEPTH_PACKING=a.toFixed(0),this.needsUpdate=!0}setDepthBuffer(a,n=Ms){this.depthBuffer=a,this.depthPacking=n}setShaderData(a){this.setShaderParts(a.shaderParts),this.setDefines(a.defines),this.setUniforms(a.uniforms),this.setExtensions(a.extensions)}setShaderParts(a){return this.fragmentShader=CE.replace(Xe.FRAGMENT_HEAD,a.get(Xe.FRAGMENT_HEAD)||"").replace(Xe.FRAGMENT_MAIN_UV,a.get(Xe.FRAGMENT_MAIN_UV)||"").replace(Xe.FRAGMENT_MAIN_IMAGE,a.get(Xe.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=yE.replace(Xe.VERTEX_HEAD,a.get(Xe.VERTEX_HEAD)||"").replace(Xe.VERTEX_MAIN_SUPPORT,a.get(Xe.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(a){for(const n of a.entries())this.defines[n[0]]=n[1];return this.needsUpdate=!0,this}setUniforms(a){for(const n of a.entries())this.uniforms[n[0]]=n[1];return this}setExtensions(a){this.extensions={};for(const n of a)this.extensions[n]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(a){this.encodeOutput!==a&&(a?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(a){return this.encodeOutput}setOutputEncodingEnabled(a){this.encodeOutput=a}get time(){return this.uniforms.time.value}set time(a){this.uniforms.time.value=a}setDeltaTime(a){this.uniforms.time.value+=a}adoptCameraSettings(a){this.copyCameraSettings(a)}copyCameraSettings(a){a&&(this.uniforms.cameraNear.value=a.near,this.uniforms.cameraFar.value=a.far,a instanceof gs?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(a,n){const s=this.uniforms;s.resolution.value.set(a,n),s.texelSize.value.set(1/a,1/n),s.aspect.value=a/n}static get Section(){return Xe}};function $d(a,n,s){for(const r of n){const o="$1"+a+r.charAt(0).toUpperCase()+r.slice(1),c=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const f of s.entries())f[1]!==null&&s.set(f[0],f[1].replace(c,o))}}function ME(a,n,s){let r=n.getFragmentShader(),o=n.getVertexShader();const c=r!==void 0&&/mainImage/.test(r),f=r!==void 0&&/mainUv/.test(r);if(s.attributes|=n.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${n.name})`);if(f&&(s.attributes&_i.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${n.name})`);if(!c&&!f)throw new Error(`Could not find mainImage or mainUv function (${n.name})`);{const p=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,h=s.shaderParts;let m=h.get(Xe.FRAGMENT_HEAD)||"",g=h.get(Xe.FRAGMENT_MAIN_UV)||"",A=h.get(Xe.FRAGMENT_MAIN_IMAGE)||"",B=h.get(Xe.VERTEX_HEAD)||"",y=h.get(Xe.VERTEX_MAIN_SUPPORT)||"";const M=new Set,G=new Set;if(f&&(g+=`	${a}MainUv(UV);
`,s.uvTransformation=!0),o!==null&&/mainSupport/.test(o)){const T=/mainSupport *\([\w\s]*?uv\s*?\)/.test(o);y+=`	${a}MainSupport(`,y+=T?`vUv);
`:`);
`;for(const F of o.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const j of F[1].split(/\s*,\s*/))s.varyings.add(j),M.add(j),G.add(j);for(const F of o.matchAll(p))G.add(F[1])}for(const T of r.matchAll(p))G.add(T[1]);for(const T of n.defines.keys())G.add(T.replace(/\([\w\s,]*\)/g,""));for(const T of n.uniforms.keys())G.add(T);G.delete("while"),G.delete("for"),G.delete("if"),n.uniforms.forEach((T,F)=>s.uniforms.set(a+F.charAt(0).toUpperCase()+F.slice(1),T)),n.defines.forEach((T,F)=>s.defines.set(a+F.charAt(0).toUpperCase()+F.slice(1),T));const x=new Map([["fragment",r],["vertex",o]]);$d(a,G,s.defines),$d(a,G,x),r=x.get("fragment"),o=x.get("vertex");const R=n.blendMode;if(s.blendModes.set(R.blendFunction,R),c){n.inputColorSpace!==null&&n.inputColorSpace!==s.colorSpace&&(A+=n.inputColorSpace===Tt?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),n.outputColorSpace!==gh?s.colorSpace=n.outputColorSpace:n.inputColorSpace!==null&&(s.colorSpace=n.inputColorSpace);const T=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;A+=`${a}MainImage(color0, UV, `,(s.attributes&_i.DEPTH)!==0&&T.test(r)&&(A+="depth, ",s.readDepth=!0),A+=`color1);
	`;const F=a+"BlendOpacity";s.uniforms.set(F,R.opacity),A+=`color0 = blend${R.blendFunction}(color0, color1, ${F});

	`,m+=`uniform float ${F};

`}if(m+=r+`
`,o!==null&&(B+=o+`
`),h.set(Xe.FRAGMENT_HEAD,m),h.set(Xe.FRAGMENT_MAIN_UV,g),h.set(Xe.FRAGMENT_MAIN_IMAGE,A),h.set(Xe.VERTEX_HEAD,B),h.set(Xe.VERTEX_MAIN_SUPPORT,y),n.extensions!==null)for(const T of n.extensions)s.extensions.add(T)}}var TE=class extends $t{constructor(a,...n){super("EffectPass"),this.fullscreenMaterial=new SE(null,null,null,a),this.listener=s=>this.handleEvent(s),this.effects=[],this.setEffects(n),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(a){for(const n of this.effects)n.mainScene=a}set mainCamera(a){this.fullscreenMaterial.copyCameraSettings(a);for(const n of this.effects)n.mainCamera=a}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(a){this.fullscreenMaterial.encodeOutput=a}get dithering(){return this.fullscreenMaterial.dithering}set dithering(a){const n=this.fullscreenMaterial;n.dithering=a,n.needsUpdate=!0}setEffects(a){for(const n of this.effects)n.removeEventListener("change",this.listener);this.effects=a.sort((n,s)=>s.attributes-n.attributes);for(const n of this.effects)n.addEventListener("change",this.listener)}updateMaterial(){const a=new AB;let n=0;for(const f of this.effects)if(f.blendMode.blendFunction===Le.DST)a.attributes|=f.getAttributes()&_i.DEPTH;else{if((a.attributes&f.getAttributes()&_i.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${f.name})`);ME("e"+n++,f,a)}let s=a.shaderParts.get(Xe.FRAGMENT_HEAD),r=a.shaderParts.get(Xe.FRAGMENT_MAIN_IMAGE),o=a.shaderParts.get(Xe.FRAGMENT_MAIN_UV);const c=/\bblend\b/g;for(const f of a.blendModes.values())s+=f.getShaderCode().replace(c,`blend${f.blendFunction}`)+`
`;(a.attributes&_i.DEPTH)!==0?(a.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,a.colorSpace===Tt&&(r+=`color0 = sRGBToLinear(color0);
	`),a.uvTransformation?(o=`vec2 transformedUv = vUv;
`+o,a.defines.set("UV","transformedUv")):a.defines.set("UV","vUv"),a.shaderParts.set(Xe.FRAGMENT_HEAD,s),a.shaderParts.set(Xe.FRAGMENT_MAIN_IMAGE,r),a.shaderParts.set(Xe.FRAGMENT_MAIN_UV,o);for(const[f,p]of a.shaderParts)p!==null&&a.shaderParts.set(f,p.trim().replace(/^#/,`
#`));this.skipRendering=n===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(a)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(a,n=Ms){this.fullscreenMaterial.depthBuffer=a,this.fullscreenMaterial.depthPacking=n;for(const s of this.effects)s.setDepthTexture(a,n)}render(a,n,s,r,o){for(const c of this.effects)c.update(a,n,r);if(!this.skipRendering||this.renderToScreen){const c=this.fullscreenMaterial;c.inputBuffer=n.texture,c.time+=r*this.timeScale,a.setRenderTarget(this.renderToScreen?null:s),a.render(this.scene,this.camera)}}setSize(a,n){this.fullscreenMaterial.setSize(a,n);for(const s of this.effects)s.setSize(a,n)}initialize(a,n,s){this.renderer=a;for(const r of this.effects)r.initialize(a,n,s);this.updateMaterial(),s!==void 0&&s!==zn&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const a of this.effects)a.removeEventListener("change",this.listener),a.dispose()}handleEvent(a){switch(a.type){case"change":this.recompile();break}}},bE=class extends $t{constructor(a,n,{renderTarget:s,resolutionScale:r=1,width:o=jt.AUTO_SIZE,height:c=jt.AUTO_SIZE,resolutionX:f=o,resolutionY:p=c}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new rp(a,n,new uA);const h=this.renderPass;h.ignoreBackground=!0,h.skipShadowMapUpdate=!0;const m=h.getClearPass();m.overrideClearColor=new _n(7829503),m.overrideClearAlpha=1,this.renderTarget=s,this.renderTarget===void 0&&(this.renderTarget=new xn(1,1,{minFilter:ur,magFilter:ur}),this.renderTarget.texture.name="NormalPass.Target");const g=this.resolution=new jt(this,f,p,r);g.addEventListener("change",A=>this.setSize(g.baseWidth,g.baseHeight))}set mainScene(a){this.renderPass.mainScene=a}set mainCamera(a){this.renderPass.mainCamera=a}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(a){this.resolution.scale=a}render(a,n,s,r,o){const c=this.renderToScreen?null:this.renderTarget;this.renderPass.render(a,c,c)}setSize(a,n){const s=this.resolution;s.setBaseSize(a,n),this.renderTarget.setSize(s.width,s.height)}};function lr(a,n,s){return n in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s,a}new Qe;new Qe;function lp(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}var bn=function a(n,s,r){var o=this;lp(this,a),lr(this,"dot2",function(c,f){return o.x*c+o.y*f}),lr(this,"dot3",function(c,f,p){return o.x*c+o.y*f+o.z*p}),this.x=n,this.y=s,this.z=r},RE=[new bn(1,1,0),new bn(-1,1,0),new bn(1,-1,0),new bn(-1,-1,0),new bn(1,0,1),new bn(-1,0,1),new bn(1,0,-1),new bn(-1,0,-1),new bn(0,1,1),new bn(0,-1,1),new bn(0,1,-1),new bn(0,-1,-1)],eh=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],th=new Array(512),nh=new Array(512),DE=function(n){n>0&&n<1&&(n*=65536),n=Math.floor(n),n<256&&(n|=n<<8);for(var s=0;s<256;s++){var r;s&1?r=eh[s]^n&255:r=eh[s]^n>>8&255,th[s]=th[s+256]=r,nh[s]=nh[s+256]=RE[r%12]}};DE(0);function _E(a){if(typeof a=="number")a=Math.abs(a);else if(typeof a=="string"){var n=a;a=0;for(var s=0;s<n.length;s++)a=(a+(s+1)*(n.charCodeAt(s)%96))%2147483647}return a===0&&(a=311),a}function ah(a){var n=_E(a);return function(){var s=n*48271%2147483647;return n=s,s/2147483647}}var HE=function a(n){var s=this;lp(this,a),lr(this,"seed",0),lr(this,"init",function(r){s.seed=r,s.value=ah(r)}),lr(this,"value",ah(this.seed)),this.init(n)};new HE(Math.random());const xE=J.createContext(null),ih=a=>(a.getAttributes()&2)===2,GE=J.memo(J.forwardRef(({children:a,camera:n,scene:s,resolutionScale:r,enabled:o=!0,renderPriority:c=1,autoClear:f=!0,depthBuffer:p,enableNormalPass:h,stencilBuffer:m,multisampling:g=8,frameBufferType:A=mn},B)=>{const{gl:y,scene:M,camera:G,size:x}=Gt(),R=s||M,T=n||G,[F,j,P]=J.useMemo(()=>{const I=new vB(y,{depthBuffer:p,stencilBuffer:m,multisampling:g,frameBufferType:A});I.addPass(new rp(R,T));let K=null,Q=null;return h&&(Q=new bE(R,T),Q.enabled=!1,I.addPass(Q),r!==void 0&&(K=new gE({normalBuffer:Q.texture,resolutionScale:r}),K.enabled=!1,I.addPass(K))),[I,Q,K]},[T,y,p,m,g,A,R,h,r]);J.useEffect(()=>F?.setSize(x.width,x.height),[F,x]),Gi((I,K)=>{if(o){const Q=y.autoClear;y.autoClear=f,m&&!f&&y.clearStencil(),F.render(K),y.autoClear=Q}},o?c:0);const L=J.useRef(null);J.useLayoutEffect(()=>{const I=[],K=L.current.__r3f;if(K&&F){const Q=K.children;for(let le=0;le<Q.length;le++){const Ee=Q[le].object;if(Ee instanceof El){const ie=[Ee];if(!ih(Ee)){let ye=null;for(;(ye=Q[le+1]?.object)instanceof El&&!ih(ye);)ie.push(ye),le++}const re=new TE(T,...ie);I.push(re)}else Ee instanceof $t&&I.push(Ee)}for(const le of I)F?.addPass(le);j&&(j.enabled=!0),P&&(P.enabled=!0)}return()=>{for(const Q of I)F?.removePass(Q);j&&(j.enabled=!1),P&&(P.enabled=!1)}},[F,a,T,j,P]),J.useEffect(()=>{const I=y.toneMapping;return y.toneMapping=oh,()=>{y.toneMapping=I}},[y]);const se=J.useMemo(()=>({composer:F,normalPass:j,downSamplingPass:P,resolutionScale:r,camera:T,scene:R}),[F,j,P,r,T,R]);return J.useImperativeHandle(B,()=>F,[F]),me.jsx(xE.Provider,{value:se,children:me.jsx("group",{ref:L,children:a})})}));let UE=0;const sh=new WeakMap,op=(a,n)=>function({blendFunction:s=n?.blendFunction,opacity:r=n?.opacity,...o}){let c=sh.get(a);if(!c){const h=`@react-three/postprocessing/${a.name}-${UE++}`;Pu({[h]:a}),sh.set(a,c=h)}const f=Gt(h=>h.camera),p=ms.useMemo(()=>[...n?.args??[],...o.args??[{...n,...o}]],[JSON.stringify(o)]);return me.jsx(c,{camera:f,"blendMode-blendFunction":s,"blendMode-opacity-value":r,...o,args:p})},OE=op(pE,{blendFunction:0}),NE=op(EE);function up(a){const n=cr(s=>s.lenis);J.useEffect(()=>{if(n)return n.on("scroll",a),()=>{n.off("scroll",a)}},[n,a])}function Mi(a,n,s){return(1-s)*a+s*n}const hr=[{name:"mission",camera:{x:0,y:80,z:350},lookAt:{x:0,y:20,z:0},roverRotation:0},{name:"robotic-arm",camera:{x:150,y:80,z:200},lookAt:{x:50,y:40,z:0},roverRotation:-.5,joints:{arm_a_to_arm_b:-.4,arm_b_to_arm_c:1.2,arm_c_to_arm_d:-.8}},{name:"mobility",camera:{x:-100,y:30,z:250},lookAt:{x:0,y:-20,z:0},roverRotation:.3},{name:"chassis",camera:{x:0,y:150,z:300},lookAt:{x:0,y:0,z:0},roverRotation:0},{name:"spi",camera:{x:80,y:60,z:180},lookAt:{x:20,y:20,z:0},roverRotation:-.8},{name:"spa",camera:{x:100,y:40,z:200},lookAt:{x:30,y:10,z:0},roverRotation:-.6},{name:"astrobiology",camera:{x:60,y:80,z:220},lookAt:{x:0,y:30,z:0},roverRotation:-.4},{name:"autonomy",camera:{x:0,y:120,z:350},lookAt:{x:0,y:0,z:0},roverRotation:0},{name:"esw",camera:{x:-80,y:60,z:200},lookAt:{x:0,y:20,z:0},roverRotation:.5},{name:"teleop",camera:{x:50,y:100,z:280},lookAt:{x:0,y:20,z:0},roverRotation:-.2},{name:"drone",camera:{x:0,y:180,z:400},lookAt:{x:0,y:50,z:0},roverRotation:0},{name:"power",camera:{x:-60,y:80,z:220},lookAt:{x:0,y:30,z:0},roverRotation:.6},{name:"ehw",camera:{x:100,y:50,z:180},lookAt:{x:20,y:20,z:0},roverRotation:-.7},{name:"comms",camera:{x:0,y:100,z:300},lookAt:{x:0,y:40,z:0},roverRotation:0}],qa=hr.length,gt={orbitControls:!1,currentSection:0,landscape:{x:-770,y:-60,z:300,rotationY:-.87,scale:125},rover:{scale:1,rotationY:-Math.PI/3},joints:{}};let vs=null,As=null;function FE({orbitEnabled:a}){const{camera:n}=Gt(),s=J.useRef(0),r=cr(h=>h.headerHeight),[o,c]=J.useState(0),f=J.useRef(new $e);J.useEffect(()=>{const h=()=>c(window.innerHeight);return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const p=J.useCallback(({scroll:h})=>{s.current=h},[]);return up(p),Gi(()=>{if(a||!o)return;const h=s.current,m=o*qa,A=Math.max(0,(h-r)/(m-o))*(qa-1),B=Math.floor(A),y=A-B,M=hr[Math.min(B,qa-1)],G=hr[Math.min(B+1,qa-1)];gt.currentSection=B;const x=Mi(M.camera.x,G.camera.x,y),R=Mi(M.camera.y,G.camera.y,y),T=Mi(M.camera.z,G.camera.z,y);n.position.set(x,R,T),f.current.set(Mi(M.lookAt.x,G.lookAt.x,y),Mi(M.lookAt.y,G.lookAt.y,y),Mi(M.lookAt.z,G.lookAt.z,y)),n.lookAt(f.current)}),null}function IE({onLoaded:a}){const n=J.useRef(null),s=J.useRef(0),r=cr(m=>m.headerHeight),[o,c]=J.useState(0),[f,p]=J.useState(null);J.useEffect(()=>{const m=()=>c(window.innerHeight);return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),J.useEffect(()=>{const m=new hA;m.packages={mrover:"/urdf"},m.load("/urdf/rover/rover.urdf",g=>{g.rotation.x=-Math.PI/2,g.traverse(B=>{B instanceof xi&&(B.castShadow=!0,B.receiveShadow=!0,B.material instanceof yl&&(B.material.roughness=Math.min(B.material.roughness,.7)))}),vs=g;const A=g;As&&A.joints&&Object.entries(A.joints).forEach(([B,y])=>{if(y.jointType==="revolute"||y.jointType==="continuous"||y.jointType==="prismatic"){const M=y.limit?.lower??-Math.PI,G=y.limit?.upper??Math.PI,x=Array.isArray(y.jointValue)?y.jointValue[0]:y.jointValue??0;gt.joints[B]=x,As.add(gt.joints,B,M,G).onChange(R=>{y.setJointValue(R)})}}),p(g),a?.()})},[]);const h=J.useCallback(({scroll:m})=>{s.current=m},[]);return up(h),Gi(()=>{if(!n.current||!o||!vs)return;const m=s.current,g=o*qa,B=Math.max(0,(m-r)/(g-o))*(qa-1),y=Math.floor(B),M=B-y,G=hr[Math.min(y,qa-1)],x=hr[Math.min(y+1,qa-1)];if(n.current.rotation.y=gt.rover.rotationY,n.current.scale.setScalar(gt.rover.scale),vs.joints){const R=G.joints||{},T=x.joints||{};new Set([...Object.keys(R),...Object.keys(T)]).forEach(j=>{const P=vs.joints[j];if(P){const L=R[j]??0,se=T[j]??0,I=Mi(L,se,M);P.setJointValue(I)}})}}),f?me.jsx("group",{ref:n,children:me.jsx("primitive",{object:f})}):null}function LE(){const{scene:a}=Ml("/models/mars_landscape_m.glb"),n=J.useRef(null);return J.useEffect(()=>{a.traverse(s=>{s instanceof xi&&(s.receiveShadow=!0,s.castShadow=!0,s.material instanceof yl&&(s.material.roughness=.85,s.material.metalness=.05))})},[a]),Gi(()=>{n.current&&(n.current.position.set(gt.landscape.x,gt.landscape.y,gt.landscape.z),n.current.rotation.y=gt.landscape.rotationY,n.current.scale.setScalar(gt.landscape.scale))}),me.jsx("group",{ref:n,children:me.jsx("primitive",{object:a})})}function zE({enabled:a}){return a?me.jsx(K0,{makeDefault:!0}):null}function wE(){const{scene:a}=Gt();return J.useEffect(()=>(a.background=new _n(657416),a.fog=new dA(1709072,25e-5),()=>{a.background=null,a.fog=null}),[a]),null}function JE({orbitEnabled:a,onRoverLoaded:n}){return me.jsxs(me.Fragment,{children:[me.jsx(wE,{}),me.jsx(oB,{radius:800,depth:150,count:5e3,factor:6,fade:!0,speed:.3}),me.jsx(sB,{preset:"sunset",environmentIntensity:.7}),me.jsx("directionalLight",{position:[200,300,150],intensity:2,color:16772829,castShadow:!0,"shadow-bias":-5e-4,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-far":800,"shadow-camera-left":-200,"shadow-camera-right":200,"shadow-camera-top":200,"shadow-camera-bottom":-200}),me.jsx("directionalLight",{position:[-150,50,-100],intensity:.5,color:4478310}),me.jsx(FE,{orbitEnabled:a}),me.jsx(zE,{enabled:a}),me.jsx(J.Suspense,{fallback:null,children:me.jsx(LE,{})}),me.jsx(J.Suspense,{fallback:null,children:me.jsx(IE,{onLoaded:n})}),me.jsxs(GE,{enableNormalPass:!1,children:[me.jsx(OE,{luminanceThreshold:1,mipmapBlur:!0,intensity:.5,radius:.6}),me.jsx(NE,{darkness:.4,offset:.3})]})]})}function jE({onProgress:a,roverLoaded:n}){const{progress:s}=Gg();return J.useEffect(()=>{const r=n?s:Math.min(s*.8,80);a(r)},[s,n,a]),null}function KE({progress:a,visible:n,onSkip:s}){return n?me.jsxs("div",{style:{position:"fixed",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#0a0808",zIndex:100},children:[me.jsx("div",{style:{width:48,height:48,border:"3px solid rgba(255, 140, 0, 0.2)",borderTop:"3px solid #FF8C00",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:24}}),me.jsx("div",{style:{color:"#FF8C00",fontSize:14,fontFamily:"monospace",marginBottom:16},children:"Loading 3D Scene..."}),me.jsx("div",{style:{width:200,height:4,background:"rgba(255, 140, 0, 0.2)",borderRadius:2,overflow:"hidden"},children:me.jsx("div",{style:{width:`${a}%`,height:"100%",background:"#FF8C00",transition:"width 0.3s ease"}})}),me.jsxs("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:12,fontFamily:"monospace",marginTop:8},children:[Math.round(a),"%"]}),me.jsx("button",{onClick:s,style:{marginTop:32,padding:"10px 20px",background:"transparent",border:"1px solid rgba(255, 140, 0, 0.5)",borderRadius:6,color:"rgba(255, 255, 255, 0.7)",fontSize:13,cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:r=>{r.currentTarget.style.borderColor="#FF8C00",r.currentTarget.style.color="#FF8C00"},onMouseOut:r=>{r.currentTarget.style.borderColor="rgba(255, 140, 0, 0.5)",r.currentTarget.style.color="rgba(255, 255, 255, 0.7)"},children:"Disable WebGL"}),me.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]}):null}function PE(){const[a,n]=J.useState(!1),[s,r]=J.useState(!0),[o,c]=J.useState(!1),[f,p]=J.useState(0),[h,m]=J.useState(!1),g=J.useCallback(()=>{c(!0)},[]),A=J.useCallback(y=>{p(y),y>=100&&o&&setTimeout(()=>r(!1),300)},[o]),B=J.useCallback(()=>{m(!0),r(!1)},[]);return J.useEffect(()=>{f>=100&&o&&setTimeout(()=>r(!1),300)},[f,o]),J.useEffect(()=>{const y=new fA;y.add(gt,"orbitControls").name("Orbit Controls").onChange(x=>{n(x)}),y.add(gt,"currentSection").name("Current Section").listen().disable();const M=y.addFolder("Landscape");M.add(gt.landscape,"x",-1e3,1e3),M.add(gt.landscape,"y",-500,500),M.add(gt.landscape,"z",-1e3,1e3),M.add(gt.landscape,"rotationY",-Math.PI,Math.PI).name("rotation Y"),M.add(gt.landscape,"scale",1,300);const G=y.addFolder("Rover");return G.add(gt.rover,"scale",.1,5),G.add(gt.rover,"rotationY",-Math.PI,Math.PI).name("rotation Y"),As=y.addFolder("Joints"),As.close(),vs?.joints&&Object.entries(vs.joints).forEach(([x,R])=>{if(R.jointType==="revolute"||R.jointType==="continuous"||R.jointType==="prismatic"){const T=R.limit?.lower??-Math.PI,F=R.limit?.upper??Math.PI,j=Array.isArray(R.jointValue)?R.jointValue[0]:R.jointValue??0;gt.joints[x]=j,As.add(gt.joints,x,T,F).onChange(P=>{R.setJointValue(P)})}}),()=>{y.destroy(),As=null}},[]),h?me.jsx("div",{style:{position:"fixed",inset:0,zIndex:0,background:"linear-gradient(135deg, #0a0808 0%, #1a1410 50%, #0a0808 100%)"},children:me.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"url(/images/KIWI_Landscape_URC.png)",backgroundSize:"cover",backgroundPosition:"center",opacity:.15}})}):me.jsxs(me.Fragment,{children:[me.jsx(KE,{progress:f,visible:s,onSkip:B}),me.jsx("div",{style:{position:"fixed",inset:0,pointerEvents:a?"auto":"none",zIndex:0,opacity:s?0:1,transition:"opacity 0.5s ease"},children:me.jsxs(Rg,{gl:{antialias:!0,alpha:!1,toneMapping:uh,toneMappingExposure:1.5},camera:{fov:50,near:.1,far:1e4,position:[0,100,400]},shadows:!0,dpr:[1,2],children:[me.jsx(jE,{onProgress:A,roverLoaded:o}),me.jsx(J.Suspense,{fallback:null,children:me.jsx(JE,{orbitEnabled:a,onRoverLoaded:g})})]})})]})}function $E(){const a=cr(s=>s.setLenis),n=cr(s=>s.setHeaderHeight);return J.useEffect(()=>{el.registerPlugin(qo),qo.defaults({markers:!1});const s=document.querySelector("header");if(s){const c=s.offsetHeight;n(c),document.documentElement.style.setProperty("--header-height",`${c}px`)}window.scrollTo(0,0);const r=new pA({duration:1.2,easing:c=>Math.min(1,1.001-Math.pow(2,-10*c)),smoothWheel:!0});a(r),r.on("scroll",qo.update);const o=c=>r.raf(c*1e3);return el.ticker.add(o),el.ticker.lagSmoothing(0),()=>{r.destroy(),a(null),el.ticker.remove(o)}},[a,n]),me.jsx(PE,{})}export{$E as SceneManager};
